import{$a as mr,$b as dp,$c as ua,Aa as dr,Ac as Ap,Ad as Ht,B as W,Ba as g,Bc as Op,Bd as fa,C as Dt,Ca as S,Cc as Lp,Cd as mt,D as k,Da as cr,Db as et,Dc as Bp,Dd as _a,E as Rt,Ea as pr,Eb as Hc,Ec as Vp,Ed as rm,F as _t,Fa as No,Fb as X,Fc as Rp,Fd as se,G as Mc,Ga as da,Gb as Al,Gc as jp,Gd as le,H as b,Ha as bn,Hc as Gp,Hd as am,I as y,Ia as Le,Ib as j,Ic as Wp,J as It,Ja as we,Jb as zc,Jc as Up,K as _e,Ka as Ie,Kb as qc,Kc as Hp,L as jt,La as R,Lb as Yc,Lc as zp,M as tn,Ma as s,Mb as $c,Mc as qp,N as Ml,Na as _,Nb as Qc,Nc as Yp,Oa as Ce,Ob as Zc,Oc as $p,P as wo,Pa as qi,Pb as Kc,Pc as Qp,Pd as Z,Q as Me,Qa as Lc,Qb as Jc,Qc as Zp,R as ne,Ra as F,Rb as Xc,Rc as Kp,S as sr,Sa as M,Sb as ep,Sc as Jp,T as Pc,Ta as P,Tb as tp,Tc as Nt,U as Be,Ua as Gt,Ub as ip,Uc as ze,V as kn,Va as fi,Vb as np,Vc as Ve,W as _n,Wa as pi,Wb as op,Wc as ye,X as kc,Xa as ge,Xb as rp,Xc as Ol,Y as d,Ya as $e,Yb as ap,Yc as Yi,Z as D,Za as eo,Zb as lp,Zc as Xp,_ as gi,_a as K,_b as sp,_c as fr,a as Jn,ab as ee,ac as cp,ad as ha,b as gn,ba as oa,bb as Bc,bc as pp,bd as em,c as Ye,ca as wi,cb as te,cc as pa,cd as _r,d as wl,da as ra,dc as mp,dd as Ii,e as Il,ea as ti,eb as ur,ec as Ut,ed as Ae,f as Dc,fa as Ac,fb as Vc,fc as up,fd as tm,g as Eo,ga as Io,gb as hr,gc as hp,gd as A,h as Pn,ha as aa,hb as Fo,hc as gp,hd as U,i as Ec,ia as v,ib as Wt,ic as fp,id as Qe,j as Tc,ja as ci,jb as ca,jc as _p,jd as An,k as Xt,ka as m,kb as to,kc as vp,kd as ga,l as wc,la,lb as Rc,lc as bp,ld as J,m as Ic,ma as pt,mb as Pl,mc as yp,md as Y,n as To,na as Xn,nb as jc,nc as Cp,nd as Ze,o as Ti,oa as Ft,ob as ae,oc as Sp,od as Po,p as Nl,pa as Oc,pb as $,pc as xp,pd as ko,q as ia,qa as vn,qb as z,qc as Dp,qd as nt,r as Fl,ra as We,rb as gr,rc as Ep,rd as Ni,s as fn,sa as Ue,sb as Gc,sc as Tp,sd as Fi,t as Nc,ta as o,tb as Se,tc as wp,td as ot,u as Fc,ua as n,ub as Wc,uc as Ip,ud as pe,v as ar,va as E,vb as Uc,vc as Np,vd as me,w as lr,wa as Mt,wb as Mo,wc as Fp,wd as ue,x as xt,xa as Pt,xb as kl,xc as Mp,xd as im,y as ei,ya as O,yc as Pp,yd as nm,z as na,za as sa,zc as kp,zd as om}from"./chunk-Z5P5DVVP.js";import{a as ma}from"./chunk-4G5JQQ4A.js";import"./chunk-SZTLWYSY.js";import{a as di,b as zi,c as xc,f as ft,h as Si,j as ta}from"./chunk-3EYC4JTX.js";var Tn=ft((ys,Ho)=>{"use strict";(function(a,r){typeof ys=="object"&&typeof Ho<"u"?Ho.exports=r():typeof define=="function"&&define.amd?define(r):a.moment=r()})(ys,function(){"use strict";var a;function r(){return a.apply(null,arguments)}function l(u){a=u}function t(u){return u instanceof Array||Object.prototype.toString.call(u)==="[object Array]"}function i(u){return u!=null&&Object.prototype.toString.call(u)==="[object Object]"}function e(u,f){return Object.prototype.hasOwnProperty.call(u,f)}function c(u){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(u).length===0;var f;for(f in u)if(e(u,f))return!1;return!0}function p(u){return u===void 0}function h(u){return typeof u=="number"||Object.prototype.toString.call(u)==="[object Number]"}function w(u){return u instanceof Date||Object.prototype.toString.call(u)==="[object Date]"}function N(u,f){var C=[],x,T=u.length;for(x=0;x<T;++x)C.push(f(u[x],x));return C}function L(u,f){for(var C in f)e(f,C)&&(u[C]=f[C]);return e(f,"toString")&&(u.toString=f.toString),e(f,"valueOf")&&(u.valueOf=f.valueOf),u}function V(u,f,C,x){return ec(u,f,C,x,!0).utc()}function I(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function G(u){return u._pf==null&&(u._pf=I()),u._pf}var oe;Array.prototype.some?oe=Array.prototype.some:oe=function(u){var f=Object(this),C=f.length>>>0,x;for(x=0;x<C;x++)if(x in f&&u.call(this,f[x],x,f))return!0;return!1};function q(u){var f=null,C=!1,x=u._d&&!isNaN(u._d.getTime());if(x&&(f=G(u),C=oe.call(f.parsedDateParts,function(T){return T!=null}),x=f.overflow<0&&!f.empty&&!f.invalidEra&&!f.invalidMonth&&!f.invalidWeekday&&!f.weekdayMismatch&&!f.nullInput&&!f.invalidFormat&&!f.userInvalidated&&(!f.meridiem||f.meridiem&&C),u._strict&&(x=x&&f.charsLeftOver===0&&f.unusedTokens.length===0&&f.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(u))u._isValid=x;else return x;return u._isValid}function de(u){var f=V(NaN);return u!=null?L(G(f),u):G(f).userInvalidated=!0,f}var xe=r.momentProperties=[],fe=!1;function ce(u,f){var C,x,T,B=xe.length;if(p(f._isAMomentObject)||(u._isAMomentObject=f._isAMomentObject),p(f._i)||(u._i=f._i),p(f._f)||(u._f=f._f),p(f._l)||(u._l=f._l),p(f._strict)||(u._strict=f._strict),p(f._tzm)||(u._tzm=f._tzm),p(f._isUTC)||(u._isUTC=f._isUTC),p(f._offset)||(u._offset=f._offset),p(f._pf)||(u._pf=G(f)),p(f._locale)||(u._locale=f._locale),B>0)for(C=0;C<B;C++)x=xe[C],T=f[x],p(T)||(u[x]=T);return u}function Pe(u){ce(this,u),this._d=new Date(u._d!=null?u._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),fe===!1&&(fe=!0,r.updateOffset(this),fe=!1)}function Oe(u){return u instanceof Pe||u!=null&&u._isAMomentObject!=null}function He(u){r.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+u)}function Re(u,f){var C=!0;return L(function(){if(r.deprecationHandler!=null&&r.deprecationHandler(null,u),C){var x=[],T,B,Q,De=arguments.length;for(B=0;B<De;B++){if(T="",typeof arguments[B]=="object"){T+=`
[`+B+"] ";for(Q in arguments[0])e(arguments[0],Q)&&(T+=Q+": "+arguments[0][Q]+", ");T=T.slice(0,-2)}else T=arguments[B];x.push(T)}He(u+`
Arguments: `+Array.prototype.slice.call(x).join("")+`
`+new Error().stack),C=!1}return f.apply(this,arguments)},f)}var lt={};function ct(u,f){r.deprecationHandler!=null&&r.deprecationHandler(u,f),lt[u]||(He(f),lt[u]=!0)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null;function rt(u){return typeof Function<"u"&&u instanceof Function||Object.prototype.toString.call(u)==="[object Function]"}function Vt(u){var f,C;for(C in u)e(u,C)&&(f=u[C],rt(f)?this[C]=f:this["_"+C]=f);this._config=u,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function vt(u,f){var C=L({},u),x;for(x in f)e(f,x)&&(i(u[x])&&i(f[x])?(C[x]={},L(C[x],u[x]),L(C[x],f[x])):f[x]!=null?C[x]=f[x]:delete C[x]);for(x in u)e(u,x)&&!e(f,x)&&i(u[x])&&(C[x]=L({},C[x]));return C}function Ri(u){u!=null&&this.set(u)}var ji;Object.keys?ji=Object.keys:ji=function(u){var f,C=[];for(f in u)e(u,f)&&C.push(f);return C};var ai={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Ci(u,f,C){var x=this._calendar[u]||this._calendar.sameElse;return rt(x)?x.call(f,C):x}function li(u,f,C){var x=""+Math.abs(u),T=f-x.length,B=u>=0;return(B?C?"+":"":"-")+Math.pow(10,Math.max(0,T)).toString().substr(1)+x}var Gi=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,on=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qn={},Di={};function ke(u,f,C,x){var T=x;typeof x=="string"&&(T=function(){return this[x]()}),u&&(Di[u]=T),f&&(Di[f[0]]=function(){return li(T.apply(this,arguments),f[1],f[2])}),C&&(Di[C]=function(){return this.localeData().ordinal(T.apply(this,arguments),u)})}function In(u){return u.match(/\[[\s\S]/)?u.replace(/^\[|\]$/g,""):u.replace(/\\/g,"")}function Ji(u){var f=u.match(Gi),C,x;for(C=0,x=f.length;C<x;C++)Di[f[C]]?f[C]=Di[f[C]]:f[C]=In(f[C]);return function(T){var B="",Q;for(Q=0;Q<x;Q++)B+=rt(f[Q])?f[Q].call(T,u):f[Q];return B}}function Xi(u,f){return u.isValid()?(f=Yn(f,u.localeData()),qn[f]=qn[f]||Ji(f),qn[f](u)):u.localeData().invalidDate()}function Yn(u,f){var C=5;function x(T){return f.longDateFormat(T)||T}for(on.lastIndex=0;C>=0&&on.test(u);)u=u.replace(on,x),on.lastIndex=0,C-=1;return u}var rn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Yo(u){var f=this._longDateFormat[u],C=this._longDateFormat[u.toUpperCase()];return f||!C?f:(this._longDateFormat[u]=C.match(Gi).map(function(x){return x==="MMMM"||x==="MM"||x==="DD"||x==="dddd"?x.slice(1):x}).join(""),this._longDateFormat[u])}var il="Invalid date";function $o(){return this._invalidDate}var nl="%d",kr=/\d{1,2}/;function ol(u){return this._ordinal.replace("%d",u)}var rl={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Ar(u,f,C,x){var T=this._relativeTime[C];return rt(T)?T(u,f,C,x):T.replace(/%d/i,u)}function Or(u,f){var C=this._relativeTime[u>0?"future":"past"];return rt(C)?C(f):C.replace(/%s/i,f)}var Lr={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function hi(u){return typeof u=="string"?Lr[u]||Lr[u.toLowerCase()]:void 0}function Wi(u){var f={},C,x;for(x in u)e(u,x)&&(C=hi(x),C&&(f[C]=u[x]));return f}var go={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Br(u){var f=[],C;for(C in u)e(u,C)&&f.push({unit:C,priority:go[C]});return f.sort(function(x,T){return x.priority-T.priority}),f}var Qo=/\d/,Qt=/\d\d/,Zo=/\d{3}/,fo=/\d{4}/,$n=/[+-]?\d{6}/,st=/\d\d?/,Ld=/\d\d\d\d?/,Bd=/\d\d\d\d\d\d?/,Vr=/\d{1,3}/,al=/\d{1,4}/,Rr=/[+-]?\d{1,6}/,_o=/\d+/,jr=/[+-]?\d+/,_g=/Z|[+-]\d\d:?\d\d/gi,Gr=/Z|[+-]\d\d(?::?\d\d)?/gi,vg=/[+-]?\d+(\.\d{1,3})?/,Ko=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,vo=/^[1-9]\d?/,ll=/^([1-9]\d|\d)/,Wr;Wr={};function Ee(u,f,C){Wr[u]=rt(f)?f:function(x,T){return x&&C?C:f}}function bg(u,f){return e(Wr,u)?Wr[u](f._strict,f._locale):new RegExp(yg(u))}function yg(u){return an(u.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(f,C,x,T,B){return C||x||T||B}))}function an(u){return u.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Ei(u){return u<0?Math.ceil(u)||0:Math.floor(u)}function Xe(u){var f=+u,C=0;return f!==0&&isFinite(f)&&(C=Ei(f)),C}var sl={};function dt(u,f){var C,x=f,T;for(typeof u=="string"&&(u=[u]),h(f)&&(x=function(B,Q){Q[f]=Xe(B)}),T=u.length,C=0;C<T;C++)sl[u[C]]=x}function Jo(u,f){dt(u,function(C,x,T,B){T._w=T._w||{},f(C,T._w,T,B)})}function Cg(u,f,C){f!=null&&e(sl,u)&&sl[u](f,C._a,C,u)}function Ur(u){return u%4===0&&u%100!==0||u%400===0}var Jt=0,ln=1,en=2,At=3,Ui=4,sn=5,Qn=6,Sg=7,xg=8;ke("Y",0,0,function(){var u=this.year();return u<=9999?li(u,4):"+"+u}),ke(0,["YY",2],0,function(){return this.year()%100}),ke(0,["YYYY",4],0,"year"),ke(0,["YYYYY",5],0,"year"),ke(0,["YYYYYY",6,!0],0,"year"),Ee("Y",jr),Ee("YY",st,Qt),Ee("YYYY",al,fo),Ee("YYYYY",Rr,$n),Ee("YYYYYY",Rr,$n),dt(["YYYYY","YYYYYY"],Jt),dt("YYYY",function(u,f){f[Jt]=u.length===2?r.parseTwoDigitYear(u):Xe(u)}),dt("YY",function(u,f){f[Jt]=r.parseTwoDigitYear(u)}),dt("Y",function(u,f){f[Jt]=parseInt(u,10)});function Xo(u){return Ur(u)?366:365}r.parseTwoDigitYear=function(u){return Xe(u)+(Xe(u)>68?1900:2e3)};var Vd=bo("FullYear",!0);function Dg(){return Ur(this.year())}function bo(u,f){return function(C){return C!=null?(Rd(this,u,C),r.updateOffset(this,f),this):er(this,u)}}function er(u,f){if(!u.isValid())return NaN;var C=u._d,x=u._isUTC;switch(f){case"Milliseconds":return x?C.getUTCMilliseconds():C.getMilliseconds();case"Seconds":return x?C.getUTCSeconds():C.getSeconds();case"Minutes":return x?C.getUTCMinutes():C.getMinutes();case"Hours":return x?C.getUTCHours():C.getHours();case"Date":return x?C.getUTCDate():C.getDate();case"Day":return x?C.getUTCDay():C.getDay();case"Month":return x?C.getUTCMonth():C.getMonth();case"FullYear":return x?C.getUTCFullYear():C.getFullYear();default:return NaN}}function Rd(u,f,C){var x,T,B,Q,De;if(!(!u.isValid()||isNaN(C))){switch(x=u._d,T=u._isUTC,f){case"Milliseconds":return void(T?x.setUTCMilliseconds(C):x.setMilliseconds(C));case"Seconds":return void(T?x.setUTCSeconds(C):x.setSeconds(C));case"Minutes":return void(T?x.setUTCMinutes(C):x.setMinutes(C));case"Hours":return void(T?x.setUTCHours(C):x.setHours(C));case"Date":return void(T?x.setUTCDate(C):x.setDate(C));case"FullYear":break;default:return}B=C,Q=u.month(),De=u.date(),De=De===29&&Q===1&&!Ur(B)?28:De,T?x.setUTCFullYear(B,Q,De):x.setFullYear(B,Q,De)}}function Eg(u){return u=hi(u),rt(this[u])?this[u]():this}function Tg(u,f){if(typeof u=="object"){u=Wi(u);var C=Br(u),x,T=C.length;for(x=0;x<T;x++)this[C[x].unit](u[C[x].unit])}else if(u=hi(u),rt(this[u]))return this[u](f);return this}function wg(u,f){return(u%f+f)%f}var wt;Array.prototype.indexOf?wt=Array.prototype.indexOf:wt=function(u){var f;for(f=0;f<this.length;++f)if(this[f]===u)return f;return-1};function dl(u,f){if(isNaN(u)||isNaN(f))return NaN;var C=wg(f,12);return u+=(f-C)/12,C===1?Ur(u)?29:28:31-C%7%2}ke("M",["MM",2],"Mo",function(){return this.month()+1}),ke("MMM",0,0,function(u){return this.localeData().monthsShort(this,u)}),ke("MMMM",0,0,function(u){return this.localeData().months(this,u)}),Ee("M",st,vo),Ee("MM",st,Qt),Ee("MMM",function(u,f){return f.monthsShortRegex(u)}),Ee("MMMM",function(u,f){return f.monthsRegex(u)}),dt(["M","MM"],function(u,f){f[ln]=Xe(u)-1}),dt(["MMM","MMMM"],function(u,f,C,x){var T=C._locale.monthsParse(u,x,C._strict);T!=null?f[ln]=T:G(C).invalidMonth=u});var Ig="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),jd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Gd=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Ng=Ko,Fg=Ko;function Mg(u,f){return u?t(this._months)?this._months[u.month()]:this._months[(this._months.isFormat||Gd).test(f)?"format":"standalone"][u.month()]:t(this._months)?this._months:this._months.standalone}function Pg(u,f){return u?t(this._monthsShort)?this._monthsShort[u.month()]:this._monthsShort[Gd.test(f)?"format":"standalone"][u.month()]:t(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function kg(u,f,C){var x,T,B,Q=u.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],x=0;x<12;++x)B=V([2e3,x]),this._shortMonthsParse[x]=this.monthsShort(B,"").toLocaleLowerCase(),this._longMonthsParse[x]=this.months(B,"").toLocaleLowerCase();return C?f==="MMM"?(T=wt.call(this._shortMonthsParse,Q),T!==-1?T:null):(T=wt.call(this._longMonthsParse,Q),T!==-1?T:null):f==="MMM"?(T=wt.call(this._shortMonthsParse,Q),T!==-1?T:(T=wt.call(this._longMonthsParse,Q),T!==-1?T:null)):(T=wt.call(this._longMonthsParse,Q),T!==-1?T:(T=wt.call(this._shortMonthsParse,Q),T!==-1?T:null))}function Ag(u,f,C){var x,T,B;if(this._monthsParseExact)return kg.call(this,u,f,C);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),x=0;x<12;x++){if(T=V([2e3,x]),C&&!this._longMonthsParse[x]&&(this._longMonthsParse[x]=new RegExp("^"+this.months(T,"").replace(".","")+"$","i"),this._shortMonthsParse[x]=new RegExp("^"+this.monthsShort(T,"").replace(".","")+"$","i")),!C&&!this._monthsParse[x]&&(B="^"+this.months(T,"")+"|^"+this.monthsShort(T,""),this._monthsParse[x]=new RegExp(B.replace(".",""),"i")),C&&f==="MMMM"&&this._longMonthsParse[x].test(u))return x;if(C&&f==="MMM"&&this._shortMonthsParse[x].test(u))return x;if(!C&&this._monthsParse[x].test(u))return x}}function Wd(u,f){if(!u.isValid())return u;if(typeof f=="string"){if(/^\d+$/.test(f))f=Xe(f);else if(f=u.localeData().monthsParse(f),!h(f))return u}var C=f,x=u.date();return x=x<29?x:Math.min(x,dl(u.year(),C)),u._isUTC?u._d.setUTCMonth(C,x):u._d.setMonth(C,x),u}function Ud(u){return u!=null?(Wd(this,u),r.updateOffset(this,!0),this):er(this,"Month")}function Og(){return dl(this.year(),this.month())}function Lg(u){return this._monthsParseExact?(e(this,"_monthsRegex")||Hd.call(this),u?this._monthsShortStrictRegex:this._monthsShortRegex):(e(this,"_monthsShortRegex")||(this._monthsShortRegex=Ng),this._monthsShortStrictRegex&&u?this._monthsShortStrictRegex:this._monthsShortRegex)}function Bg(u){return this._monthsParseExact?(e(this,"_monthsRegex")||Hd.call(this),u?this._monthsStrictRegex:this._monthsRegex):(e(this,"_monthsRegex")||(this._monthsRegex=Fg),this._monthsStrictRegex&&u?this._monthsStrictRegex:this._monthsRegex)}function Hd(){function u(je,tt){return tt.length-je.length}var f=[],C=[],x=[],T,B,Q,De;for(T=0;T<12;T++)B=V([2e3,T]),Q=an(this.monthsShort(B,"")),De=an(this.months(B,"")),f.push(Q),C.push(De),x.push(De),x.push(Q);f.sort(u),C.sort(u),x.sort(u),this._monthsRegex=new RegExp("^("+x.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+C.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+f.join("|")+")","i")}function Vg(u,f,C,x,T,B,Q){var De;return u<100&&u>=0?(De=new Date(u+400,f,C,x,T,B,Q),isFinite(De.getFullYear())&&De.setFullYear(u)):De=new Date(u,f,C,x,T,B,Q),De}function tr(u){var f,C;return u<100&&u>=0?(C=Array.prototype.slice.call(arguments),C[0]=u+400,f=new Date(Date.UTC.apply(null,C)),isFinite(f.getUTCFullYear())&&f.setUTCFullYear(u)):f=new Date(Date.UTC.apply(null,arguments)),f}function Hr(u,f,C){var x=7+f-C,T=(7+tr(u,0,x).getUTCDay()-f)%7;return-T+x-1}function zd(u,f,C,x,T){var B=(7+C-x)%7,Q=Hr(u,x,T),De=1+7*(f-1)+B+Q,je,tt;return De<=0?(je=u-1,tt=Xo(je)+De):De>Xo(u)?(je=u+1,tt=De-Xo(u)):(je=u,tt=De),{year:je,dayOfYear:tt}}function ir(u,f,C){var x=Hr(u.year(),f,C),T=Math.floor((u.dayOfYear()-x-1)/7)+1,B,Q;return T<1?(Q=u.year()-1,B=T+dn(Q,f,C)):T>dn(u.year(),f,C)?(B=T-dn(u.year(),f,C),Q=u.year()+1):(Q=u.year(),B=T),{week:B,year:Q}}function dn(u,f,C){var x=Hr(u,f,C),T=Hr(u+1,f,C);return(Xo(u)-x+T)/7}ke("w",["ww",2],"wo","week"),ke("W",["WW",2],"Wo","isoWeek"),Ee("w",st,vo),Ee("ww",st,Qt),Ee("W",st,vo),Ee("WW",st,Qt),Jo(["w","ww","W","WW"],function(u,f,C,x){f[x.substr(0,1)]=Xe(u)});function Rg(u){return ir(u,this._week.dow,this._week.doy).week}var jg={dow:0,doy:6};function Gg(){return this._week.dow}function Wg(){return this._week.doy}function Ug(u){var f=this.localeData().week(this);return u==null?f:this.add((u-f)*7,"d")}function Hg(u){var f=ir(this,1,4).week;return u==null?f:this.add((u-f)*7,"d")}ke("d",0,"do","day"),ke("dd",0,0,function(u){return this.localeData().weekdaysMin(this,u)}),ke("ddd",0,0,function(u){return this.localeData().weekdaysShort(this,u)}),ke("dddd",0,0,function(u){return this.localeData().weekdays(this,u)}),ke("e",0,0,"weekday"),ke("E",0,0,"isoWeekday"),Ee("d",st),Ee("e",st),Ee("E",st),Ee("dd",function(u,f){return f.weekdaysMinRegex(u)}),Ee("ddd",function(u,f){return f.weekdaysShortRegex(u)}),Ee("dddd",function(u,f){return f.weekdaysRegex(u)}),Jo(["dd","ddd","dddd"],function(u,f,C,x){var T=C._locale.weekdaysParse(u,x,C._strict);T!=null?f.d=T:G(C).invalidWeekday=u}),Jo(["d","e","E"],function(u,f,C,x){f[x]=Xe(u)});function zg(u,f){return typeof u!="string"?u:isNaN(u)?(u=f.weekdaysParse(u),typeof u=="number"?u:null):parseInt(u,10)}function qg(u,f){return typeof u=="string"?f.weekdaysParse(u)%7||7:isNaN(u)?null:u}function cl(u,f){return u.slice(f,7).concat(u.slice(0,f))}var Yg="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),qd="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),$g="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Qg=Ko,Zg=Ko,Kg=Ko;function Jg(u,f){var C=t(this._weekdays)?this._weekdays:this._weekdays[u&&u!==!0&&this._weekdays.isFormat.test(f)?"format":"standalone"];return u===!0?cl(C,this._week.dow):u?C[u.day()]:C}function Xg(u){return u===!0?cl(this._weekdaysShort,this._week.dow):u?this._weekdaysShort[u.day()]:this._weekdaysShort}function ef(u){return u===!0?cl(this._weekdaysMin,this._week.dow):u?this._weekdaysMin[u.day()]:this._weekdaysMin}function tf(u,f,C){var x,T,B,Q=u.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],x=0;x<7;++x)B=V([2e3,1]).day(x),this._minWeekdaysParse[x]=this.weekdaysMin(B,"").toLocaleLowerCase(),this._shortWeekdaysParse[x]=this.weekdaysShort(B,"").toLocaleLowerCase(),this._weekdaysParse[x]=this.weekdays(B,"").toLocaleLowerCase();return C?f==="dddd"?(T=wt.call(this._weekdaysParse,Q),T!==-1?T:null):f==="ddd"?(T=wt.call(this._shortWeekdaysParse,Q),T!==-1?T:null):(T=wt.call(this._minWeekdaysParse,Q),T!==-1?T:null):f==="dddd"?(T=wt.call(this._weekdaysParse,Q),T!==-1||(T=wt.call(this._shortWeekdaysParse,Q),T!==-1)?T:(T=wt.call(this._minWeekdaysParse,Q),T!==-1?T:null)):f==="ddd"?(T=wt.call(this._shortWeekdaysParse,Q),T!==-1||(T=wt.call(this._weekdaysParse,Q),T!==-1)?T:(T=wt.call(this._minWeekdaysParse,Q),T!==-1?T:null)):(T=wt.call(this._minWeekdaysParse,Q),T!==-1||(T=wt.call(this._weekdaysParse,Q),T!==-1)?T:(T=wt.call(this._shortWeekdaysParse,Q),T!==-1?T:null))}function nf(u,f,C){var x,T,B;if(this._weekdaysParseExact)return tf.call(this,u,f,C);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),x=0;x<7;x++){if(T=V([2e3,1]).day(x),C&&!this._fullWeekdaysParse[x]&&(this._fullWeekdaysParse[x]=new RegExp("^"+this.weekdays(T,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[x]=new RegExp("^"+this.weekdaysShort(T,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[x]=new RegExp("^"+this.weekdaysMin(T,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[x]||(B="^"+this.weekdays(T,"")+"|^"+this.weekdaysShort(T,"")+"|^"+this.weekdaysMin(T,""),this._weekdaysParse[x]=new RegExp(B.replace(".",""),"i")),C&&f==="dddd"&&this._fullWeekdaysParse[x].test(u))return x;if(C&&f==="ddd"&&this._shortWeekdaysParse[x].test(u))return x;if(C&&f==="dd"&&this._minWeekdaysParse[x].test(u))return x;if(!C&&this._weekdaysParse[x].test(u))return x}}function of(u){if(!this.isValid())return u!=null?this:NaN;var f=er(this,"Day");return u!=null?(u=zg(u,this.localeData()),this.add(u-f,"d")):f}function rf(u){if(!this.isValid())return u!=null?this:NaN;var f=(this.day()+7-this.localeData()._week.dow)%7;return u==null?f:this.add(u-f,"d")}function af(u){if(!this.isValid())return u!=null?this:NaN;if(u!=null){var f=qg(u,this.localeData());return this.day(this.day()%7?f:f-7)}else return this.day()||7}function lf(u){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||pl.call(this),u?this._weekdaysStrictRegex:this._weekdaysRegex):(e(this,"_weekdaysRegex")||(this._weekdaysRegex=Qg),this._weekdaysStrictRegex&&u?this._weekdaysStrictRegex:this._weekdaysRegex)}function sf(u){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||pl.call(this),u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Zg),this._weekdaysShortStrictRegex&&u?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function df(u){return this._weekdaysParseExact?(e(this,"_weekdaysRegex")||pl.call(this),u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(e(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Kg),this._weekdaysMinStrictRegex&&u?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function pl(){function u(si,hn){return hn.length-si.length}var f=[],C=[],x=[],T=[],B,Q,De,je,tt;for(B=0;B<7;B++)Q=V([2e3,1]).day(B),De=an(this.weekdaysMin(Q,"")),je=an(this.weekdaysShort(Q,"")),tt=an(this.weekdays(Q,"")),f.push(De),C.push(je),x.push(tt),T.push(De),T.push(je),T.push(tt);f.sort(u),C.sort(u),x.sort(u),T.sort(u),this._weekdaysRegex=new RegExp("^("+T.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+x.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+C.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+f.join("|")+")","i")}function ml(){return this.hours()%12||12}function cf(){return this.hours()||24}ke("H",["HH",2],0,"hour"),ke("h",["hh",2],0,ml),ke("k",["kk",2],0,cf),ke("hmm",0,0,function(){return""+ml.apply(this)+li(this.minutes(),2)}),ke("hmmss",0,0,function(){return""+ml.apply(this)+li(this.minutes(),2)+li(this.seconds(),2)}),ke("Hmm",0,0,function(){return""+this.hours()+li(this.minutes(),2)}),ke("Hmmss",0,0,function(){return""+this.hours()+li(this.minutes(),2)+li(this.seconds(),2)});function Yd(u,f){ke(u,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),f)})}Yd("a",!0),Yd("A",!1);function $d(u,f){return f._meridiemParse}Ee("a",$d),Ee("A",$d),Ee("H",st,ll),Ee("h",st,vo),Ee("k",st,vo),Ee("HH",st,Qt),Ee("hh",st,Qt),Ee("kk",st,Qt),Ee("hmm",Ld),Ee("hmmss",Bd),Ee("Hmm",Ld),Ee("Hmmss",Bd),dt(["H","HH"],At),dt(["k","kk"],function(u,f,C){var x=Xe(u);f[At]=x===24?0:x}),dt(["a","A"],function(u,f,C){C._isPm=C._locale.isPM(u),C._meridiem=u}),dt(["h","hh"],function(u,f,C){f[At]=Xe(u),G(C).bigHour=!0}),dt("hmm",function(u,f,C){var x=u.length-2;f[At]=Xe(u.substr(0,x)),f[Ui]=Xe(u.substr(x)),G(C).bigHour=!0}),dt("hmmss",function(u,f,C){var x=u.length-4,T=u.length-2;f[At]=Xe(u.substr(0,x)),f[Ui]=Xe(u.substr(x,2)),f[sn]=Xe(u.substr(T)),G(C).bigHour=!0}),dt("Hmm",function(u,f,C){var x=u.length-2;f[At]=Xe(u.substr(0,x)),f[Ui]=Xe(u.substr(x))}),dt("Hmmss",function(u,f,C){var x=u.length-4,T=u.length-2;f[At]=Xe(u.substr(0,x)),f[Ui]=Xe(u.substr(x,2)),f[sn]=Xe(u.substr(T))});function pf(u){return(u+"").toLowerCase().charAt(0)==="p"}var mf=/[ap]\.?m?\.?/i,uf=bo("Hours",!0);function hf(u,f,C){return u>11?C?"pm":"PM":C?"am":"AM"}var Qd={calendar:ai,longDateFormat:rn,invalidDate:il,ordinal:nl,dayOfMonthOrdinalParse:kr,relativeTime:rl,months:Ig,monthsShort:jd,week:jg,weekdays:Yg,weekdaysMin:$g,weekdaysShort:qd,meridiemParse:mf},bt={},nr={},or;function gf(u,f){var C,x=Math.min(u.length,f.length);for(C=0;C<x;C+=1)if(u[C]!==f[C])return C;return x}function Zd(u){return u&&u.toLowerCase().replace("_","-")}function ff(u){for(var f=0,C,x,T,B;f<u.length;){for(B=Zd(u[f]).split("-"),C=B.length,x=Zd(u[f+1]),x=x?x.split("-"):null;C>0;){if(T=zr(B.slice(0,C).join("-")),T)return T;if(x&&x.length>=C&&gf(B,x)>=C-1)break;C--}f++}return or}function _f(u){return!!(u&&u.match("^[^/\\\\]*$"))}function zr(u){var f=null,C;if(bt[u]===void 0&&typeof Ho<"u"&&Ho&&Ho.exports&&_f(u))try{f=or._abbr,C=xc,C("./locale/"+u),Nn(f)}catch{bt[u]=null}return bt[u]}function Nn(u,f){var C;return u&&(p(f)?C=cn(u):C=ul(u,f),C?or=C:typeof console<"u"&&console.warn&&console.warn("Locale "+u+" not found. Did you forget to load it?")),or._abbr}function ul(u,f){if(f!==null){var C,x=Qd;if(f.abbr=u,bt[u]!=null)ct("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),x=bt[u]._config;else if(f.parentLocale!=null)if(bt[f.parentLocale]!=null)x=bt[f.parentLocale]._config;else if(C=zr(f.parentLocale),C!=null)x=C._config;else return nr[f.parentLocale]||(nr[f.parentLocale]=[]),nr[f.parentLocale].push({name:u,config:f}),null;return bt[u]=new Ri(vt(x,f)),nr[u]&&nr[u].forEach(function(T){ul(T.name,T.config)}),Nn(u),bt[u]}else return delete bt[u],null}function vf(u,f){if(f!=null){var C,x,T=Qd;bt[u]!=null&&bt[u].parentLocale!=null?bt[u].set(vt(bt[u]._config,f)):(x=zr(u),x!=null&&(T=x._config),f=vt(T,f),x==null&&(f.abbr=u),C=new Ri(f),C.parentLocale=bt[u],bt[u]=C),Nn(u)}else bt[u]!=null&&(bt[u].parentLocale!=null?(bt[u]=bt[u].parentLocale,u===Nn()&&Nn(u)):bt[u]!=null&&delete bt[u]);return bt[u]}function cn(u){var f;if(u&&u._locale&&u._locale._abbr&&(u=u._locale._abbr),!u)return or;if(!t(u)){if(f=zr(u),f)return f;u=[u]}return ff(u)}function bf(){return ji(bt)}function hl(u){var f,C=u._a;return C&&G(u).overflow===-2&&(f=C[ln]<0||C[ln]>11?ln:C[en]<1||C[en]>dl(C[Jt],C[ln])?en:C[At]<0||C[At]>24||C[At]===24&&(C[Ui]!==0||C[sn]!==0||C[Qn]!==0)?At:C[Ui]<0||C[Ui]>59?Ui:C[sn]<0||C[sn]>59?sn:C[Qn]<0||C[Qn]>999?Qn:-1,G(u)._overflowDayOfYear&&(f<Jt||f>en)&&(f=en),G(u)._overflowWeeks&&f===-1&&(f=Sg),G(u)._overflowWeekday&&f===-1&&(f=xg),G(u).overflow=f),u}var yf=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Cf=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sf=/Z|[+-]\d\d(?::?\d\d)?/,qr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],gl=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xf=/^\/?Date\((-?\d+)/i,Df=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Ef={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Kd(u){var f,C,x=u._i,T=yf.exec(x)||Cf.exec(x),B,Q,De,je,tt=qr.length,si=gl.length;if(T){for(G(u).iso=!0,f=0,C=tt;f<C;f++)if(qr[f][1].exec(T[1])){Q=qr[f][0],B=qr[f][2]!==!1;break}if(Q==null){u._isValid=!1;return}if(T[3]){for(f=0,C=si;f<C;f++)if(gl[f][1].exec(T[3])){De=(T[2]||" ")+gl[f][0];break}if(De==null){u._isValid=!1;return}}if(!B&&De!=null){u._isValid=!1;return}if(T[4])if(Sf.exec(T[4]))je="Z";else{u._isValid=!1;return}u._f=Q+(De||"")+(je||""),_l(u)}else u._isValid=!1}function Tf(u,f,C,x,T,B){var Q=[wf(u),jd.indexOf(f),parseInt(C,10),parseInt(x,10),parseInt(T,10)];return B&&Q.push(parseInt(B,10)),Q}function wf(u){var f=parseInt(u,10);return f<=49?2e3+f:f<=999?1900+f:f}function If(u){return u.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Nf(u,f,C){if(u){var x=qd.indexOf(u),T=new Date(f[0],f[1],f[2]).getDay();if(x!==T)return G(C).weekdayMismatch=!0,C._isValid=!1,!1}return!0}function Ff(u,f,C){if(u)return Ef[u];if(f)return 0;var x=parseInt(C,10),T=x%100,B=(x-T)/100;return B*60+T}function Jd(u){var f=Df.exec(If(u._i)),C;if(f){if(C=Tf(f[4],f[3],f[2],f[5],f[6],f[7]),!Nf(f[1],C,u))return;u._a=C,u._tzm=Ff(f[8],f[9],f[10]),u._d=tr.apply(null,u._a),u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),G(u).rfc2822=!0}else u._isValid=!1}function Mf(u){var f=xf.exec(u._i);if(f!==null){u._d=new Date(+f[1]);return}if(Kd(u),u._isValid===!1)delete u._isValid;else return;if(Jd(u),u._isValid===!1)delete u._isValid;else return;u._strict?u._isValid=!1:r.createFromInputFallback(u)}r.createFromInputFallback=Re("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(u){u._d=new Date(u._i+(u._useUTC?" UTC":""))});function yo(u,f,C){return u??f??C}function Pf(u){var f=new Date(r.now());return u._useUTC?[f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()]:[f.getFullYear(),f.getMonth(),f.getDate()]}function fl(u){var f,C,x=[],T,B,Q;if(!u._d){for(T=Pf(u),u._w&&u._a[en]==null&&u._a[ln]==null&&kf(u),u._dayOfYear!=null&&(Q=yo(u._a[Jt],T[Jt]),(u._dayOfYear>Xo(Q)||u._dayOfYear===0)&&(G(u)._overflowDayOfYear=!0),C=tr(Q,0,u._dayOfYear),u._a[ln]=C.getUTCMonth(),u._a[en]=C.getUTCDate()),f=0;f<3&&u._a[f]==null;++f)u._a[f]=x[f]=T[f];for(;f<7;f++)u._a[f]=x[f]=u._a[f]==null?f===2?1:0:u._a[f];u._a[At]===24&&u._a[Ui]===0&&u._a[sn]===0&&u._a[Qn]===0&&(u._nextDay=!0,u._a[At]=0),u._d=(u._useUTC?tr:Vg).apply(null,x),B=u._useUTC?u._d.getUTCDay():u._d.getDay(),u._tzm!=null&&u._d.setUTCMinutes(u._d.getUTCMinutes()-u._tzm),u._nextDay&&(u._a[At]=24),u._w&&typeof u._w.d<"u"&&u._w.d!==B&&(G(u).weekdayMismatch=!0)}}function kf(u){var f,C,x,T,B,Q,De,je,tt;f=u._w,f.GG!=null||f.W!=null||f.E!=null?(B=1,Q=4,C=yo(f.GG,u._a[Jt],ir(gt(),1,4).year),x=yo(f.W,1),T=yo(f.E,1),(T<1||T>7)&&(je=!0)):(B=u._locale._week.dow,Q=u._locale._week.doy,tt=ir(gt(),B,Q),C=yo(f.gg,u._a[Jt],tt.year),x=yo(f.w,tt.week),f.d!=null?(T=f.d,(T<0||T>6)&&(je=!0)):f.e!=null?(T=f.e+B,(f.e<0||f.e>6)&&(je=!0)):T=B),x<1||x>dn(C,B,Q)?G(u)._overflowWeeks=!0:je!=null?G(u)._overflowWeekday=!0:(De=zd(C,x,T,B,Q),u._a[Jt]=De.year,u._dayOfYear=De.dayOfYear)}r.ISO_8601=function(){},r.RFC_2822=function(){};function _l(u){if(u._f===r.ISO_8601){Kd(u);return}if(u._f===r.RFC_2822){Jd(u);return}u._a=[],G(u).empty=!0;var f=""+u._i,C,x,T,B,Q,De=f.length,je=0,tt,si;for(T=Yn(u._f,u._locale).match(Gi)||[],si=T.length,C=0;C<si;C++)B=T[C],x=(f.match(bg(B,u))||[])[0],x&&(Q=f.substr(0,f.indexOf(x)),Q.length>0&&G(u).unusedInput.push(Q),f=f.slice(f.indexOf(x)+x.length),je+=x.length),Di[B]?(x?G(u).empty=!1:G(u).unusedTokens.push(B),Cg(B,x,u)):u._strict&&!x&&G(u).unusedTokens.push(B);G(u).charsLeftOver=De-je,f.length>0&&G(u).unusedInput.push(f),u._a[At]<=12&&G(u).bigHour===!0&&u._a[At]>0&&(G(u).bigHour=void 0),G(u).parsedDateParts=u._a.slice(0),G(u).meridiem=u._meridiem,u._a[At]=Af(u._locale,u._a[At],u._meridiem),tt=G(u).era,tt!==null&&(u._a[Jt]=u._locale.erasConvertYear(tt,u._a[Jt])),fl(u),hl(u)}function Af(u,f,C){var x;return C==null?f:u.meridiemHour!=null?u.meridiemHour(f,C):(u.isPM!=null&&(x=u.isPM(C),x&&f<12&&(f+=12),!x&&f===12&&(f=0)),f)}function Of(u){var f,C,x,T,B,Q,De=!1,je=u._f.length;if(je===0){G(u).invalidFormat=!0,u._d=new Date(NaN);return}for(T=0;T<je;T++)B=0,Q=!1,f=ce({},u),u._useUTC!=null&&(f._useUTC=u._useUTC),f._f=u._f[T],_l(f),q(f)&&(Q=!0),B+=G(f).charsLeftOver,B+=G(f).unusedTokens.length*10,G(f).score=B,De?B<x&&(x=B,C=f):(x==null||B<x||Q)&&(x=B,C=f,Q&&(De=!0));L(u,C||f)}function Lf(u){if(!u._d){var f=Wi(u._i),C=f.day===void 0?f.date:f.day;u._a=N([f.year,f.month,C,f.hour,f.minute,f.second,f.millisecond],function(x){return x&&parseInt(x,10)}),fl(u)}}function Bf(u){var f=new Pe(hl(Xd(u)));return f._nextDay&&(f.add(1,"d"),f._nextDay=void 0),f}function Xd(u){var f=u._i,C=u._f;return u._locale=u._locale||cn(u._l),f===null||C===void 0&&f===""?de({nullInput:!0}):(typeof f=="string"&&(u._i=f=u._locale.preparse(f)),Oe(f)?new Pe(hl(f)):(w(f)?u._d=f:t(C)?Of(u):C?_l(u):Vf(u),q(u)||(u._d=null),u))}function Vf(u){var f=u._i;p(f)?u._d=new Date(r.now()):w(f)?u._d=new Date(f.valueOf()):typeof f=="string"?Mf(u):t(f)?(u._a=N(f.slice(0),function(C){return parseInt(C,10)}),fl(u)):i(f)?Lf(u):h(f)?u._d=new Date(f):r.createFromInputFallback(u)}function ec(u,f,C,x,T){var B={};return(f===!0||f===!1)&&(x=f,f=void 0),(C===!0||C===!1)&&(x=C,C=void 0),(i(u)&&c(u)||t(u)&&u.length===0)&&(u=void 0),B._isAMomentObject=!0,B._useUTC=B._isUTC=T,B._l=C,B._i=u,B._f=f,B._strict=x,Bf(B)}function gt(u,f,C,x){return ec(u,f,C,x,!1)}var Rf=Re("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=gt.apply(null,arguments);return this.isValid()&&u.isValid()?u<this?this:u:de()}),jf=Re("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var u=gt.apply(null,arguments);return this.isValid()&&u.isValid()?u>this?this:u:de()});function tc(u,f){var C,x;if(f.length===1&&t(f[0])&&(f=f[0]),!f.length)return gt();for(C=f[0],x=1;x<f.length;++x)(!f[x].isValid()||f[x][u](C))&&(C=f[x]);return C}function Gf(){var u=[].slice.call(arguments,0);return tc("isBefore",u)}function Wf(){var u=[].slice.call(arguments,0);return tc("isAfter",u)}var Uf=function(){return Date.now?Date.now():+new Date},rr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Hf(u){var f,C=!1,x,T=rr.length;for(f in u)if(e(u,f)&&!(wt.call(rr,f)!==-1&&(u[f]==null||!isNaN(u[f]))))return!1;for(x=0;x<T;++x)if(u[rr[x]]){if(C)return!1;parseFloat(u[rr[x]])!==Xe(u[rr[x]])&&(C=!0)}return!0}function zf(){return this._isValid}function qf(){return Hi(NaN)}function Yr(u){var f=Wi(u),C=f.year||0,x=f.quarter||0,T=f.month||0,B=f.week||f.isoWeek||0,Q=f.day||0,De=f.hour||0,je=f.minute||0,tt=f.second||0,si=f.millisecond||0;this._isValid=Hf(f),this._milliseconds=+si+tt*1e3+je*6e4+De*1e3*60*60,this._days=+Q+B*7,this._months=+T+x*3+C*12,this._data={},this._locale=cn(),this._bubble()}function $r(u){return u instanceof Yr}function vl(u){return u<0?Math.round(-1*u)*-1:Math.round(u)}function Yf(u,f,C){var x=Math.min(u.length,f.length),T=Math.abs(u.length-f.length),B=0,Q;for(Q=0;Q<x;Q++)(C&&u[Q]!==f[Q]||!C&&Xe(u[Q])!==Xe(f[Q]))&&B++;return B+T}function ic(u,f){ke(u,0,0,function(){var C=this.utcOffset(),x="+";return C<0&&(C=-C,x="-"),x+li(~~(C/60),2)+f+li(~~C%60,2)})}ic("Z",":"),ic("ZZ",""),Ee("Z",Gr),Ee("ZZ",Gr),dt(["Z","ZZ"],function(u,f,C){C._useUTC=!0,C._tzm=bl(Gr,u)});var $f=/([\+\-]|\d\d)/gi;function bl(u,f){var C=(f||"").match(u),x,T,B;return C===null?null:(x=C[C.length-1]||[],T=(x+"").match($f)||["-",0,0],B=+(T[1]*60)+Xe(T[2]),B===0?0:T[0]==="+"?B:-B)}function yl(u,f){var C,x;return f._isUTC?(C=f.clone(),x=(Oe(u)||w(u)?u.valueOf():gt(u).valueOf())-C.valueOf(),C._d.setTime(C._d.valueOf()+x),r.updateOffset(C,!1),C):gt(u).local()}function Cl(u){return-Math.round(u._d.getTimezoneOffset())}r.updateOffset=function(){};function Qf(u,f,C){var x=this._offset||0,T;if(!this.isValid())return u!=null?this:NaN;if(u!=null){if(typeof u=="string"){if(u=bl(Gr,u),u===null)return this}else Math.abs(u)<16&&!C&&(u=u*60);return!this._isUTC&&f&&(T=Cl(this)),this._offset=u,this._isUTC=!0,T!=null&&this.add(T,"m"),x!==u&&(!f||this._changeInProgress?ac(this,Hi(u-x,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?x:Cl(this)}function Zf(u,f){return u!=null?(typeof u!="string"&&(u=-u),this.utcOffset(u,f),this):-this.utcOffset()}function Kf(u){return this.utcOffset(0,u)}function Jf(u){return this._isUTC&&(this.utcOffset(0,u),this._isUTC=!1,u&&this.subtract(Cl(this),"m")),this}function Xf(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var u=bl(_g,this._i);u!=null?this.utcOffset(u):this.utcOffset(0,!0)}return this}function e1(u){return this.isValid()?(u=u?gt(u).utcOffset():0,(this.utcOffset()-u)%60===0):!1}function t1(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function i1(){if(!p(this._isDSTShifted))return this._isDSTShifted;var u={},f;return ce(u,this),u=Xd(u),u._a?(f=u._isUTC?V(u._a):gt(u._a),this._isDSTShifted=this.isValid()&&Yf(u._a,f.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function n1(){return this.isValid()?!this._isUTC:!1}function o1(){return this.isValid()?this._isUTC:!1}function nc(){return this.isValid()?this._isUTC&&this._offset===0:!1}var r1=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,a1=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Hi(u,f){var C=u,x=null,T,B,Q;return $r(u)?C={ms:u._milliseconds,d:u._days,M:u._months}:h(u)||!isNaN(+u)?(C={},f?C[f]=+u:C.milliseconds=+u):(x=r1.exec(u))?(T=x[1]==="-"?-1:1,C={y:0,d:Xe(x[en])*T,h:Xe(x[At])*T,m:Xe(x[Ui])*T,s:Xe(x[sn])*T,ms:Xe(vl(x[Qn]*1e3))*T}):(x=a1.exec(u))?(T=x[1]==="-"?-1:1,C={y:Zn(x[2],T),M:Zn(x[3],T),w:Zn(x[4],T),d:Zn(x[5],T),h:Zn(x[6],T),m:Zn(x[7],T),s:Zn(x[8],T)}):C==null?C={}:typeof C=="object"&&("from"in C||"to"in C)&&(Q=l1(gt(C.from),gt(C.to)),C={},C.ms=Q.milliseconds,C.M=Q.months),B=new Yr(C),$r(u)&&e(u,"_locale")&&(B._locale=u._locale),$r(u)&&e(u,"_isValid")&&(B._isValid=u._isValid),B}Hi.fn=Yr.prototype,Hi.invalid=qf;function Zn(u,f){var C=u&&parseFloat(u.replace(",","."));return(isNaN(C)?0:C)*f}function oc(u,f){var C={};return C.months=f.month()-u.month()+(f.year()-u.year())*12,u.clone().add(C.months,"M").isAfter(f)&&--C.months,C.milliseconds=+f-+u.clone().add(C.months,"M"),C}function l1(u,f){var C;return u.isValid()&&f.isValid()?(f=yl(f,u),u.isBefore(f)?C=oc(u,f):(C=oc(f,u),C.milliseconds=-C.milliseconds,C.months=-C.months),C):{milliseconds:0,months:0}}function rc(u,f){return function(C,x){var T,B;return x!==null&&!isNaN(+x)&&(ct(f,"moment()."+f+"(period, number) is deprecated. Please use moment()."+f+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),B=C,C=x,x=B),T=Hi(C,x),ac(this,T,u),this}}function ac(u,f,C,x){var T=f._milliseconds,B=vl(f._days),Q=vl(f._months);u.isValid()&&(x=x??!0,Q&&Wd(u,er(u,"Month")+Q*C),B&&Rd(u,"Date",er(u,"Date")+B*C),T&&u._d.setTime(u._d.valueOf()+T*C),x&&r.updateOffset(u,B||Q))}var s1=rc(1,"add"),d1=rc(-1,"subtract");function lc(u){return typeof u=="string"||u instanceof String}function c1(u){return Oe(u)||w(u)||lc(u)||h(u)||m1(u)||p1(u)||u===null||u===void 0}function p1(u){var f=i(u)&&!c(u),C=!1,x=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],T,B,Q=x.length;for(T=0;T<Q;T+=1)B=x[T],C=C||e(u,B);return f&&C}function m1(u){var f=t(u),C=!1;return f&&(C=u.filter(function(x){return!h(x)&&lc(u)}).length===0),f&&C}function u1(u){var f=i(u)&&!c(u),C=!1,x=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],T,B;for(T=0;T<x.length;T+=1)B=x[T],C=C||e(u,B);return f&&C}function h1(u,f){var C=u.diff(f,"days",!0);return C<-6?"sameElse":C<-1?"lastWeek":C<0?"lastDay":C<1?"sameDay":C<2?"nextDay":C<7?"nextWeek":"sameElse"}function g1(u,f){arguments.length===1&&(arguments[0]?c1(arguments[0])?(u=arguments[0],f=void 0):u1(arguments[0])&&(f=arguments[0],u=void 0):(u=void 0,f=void 0));var C=u||gt(),x=yl(C,this).startOf("day"),T=r.calendarFormat(this,x)||"sameElse",B=f&&(rt(f[T])?f[T].call(this,C):f[T]);return this.format(B||this.localeData().calendar(T,this,gt(C)))}function f1(){return new Pe(this)}function _1(u,f){var C=Oe(u)?u:gt(u);return this.isValid()&&C.isValid()?(f=hi(f)||"millisecond",f==="millisecond"?this.valueOf()>C.valueOf():C.valueOf()<this.clone().startOf(f).valueOf()):!1}function v1(u,f){var C=Oe(u)?u:gt(u);return this.isValid()&&C.isValid()?(f=hi(f)||"millisecond",f==="millisecond"?this.valueOf()<C.valueOf():this.clone().endOf(f).valueOf()<C.valueOf()):!1}function b1(u,f,C,x){var T=Oe(u)?u:gt(u),B=Oe(f)?f:gt(f);return this.isValid()&&T.isValid()&&B.isValid()?(x=x||"()",(x[0]==="("?this.isAfter(T,C):!this.isBefore(T,C))&&(x[1]===")"?this.isBefore(B,C):!this.isAfter(B,C))):!1}function y1(u,f){var C=Oe(u)?u:gt(u),x;return this.isValid()&&C.isValid()?(f=hi(f)||"millisecond",f==="millisecond"?this.valueOf()===C.valueOf():(x=C.valueOf(),this.clone().startOf(f).valueOf()<=x&&x<=this.clone().endOf(f).valueOf())):!1}function C1(u,f){return this.isSame(u,f)||this.isAfter(u,f)}function S1(u,f){return this.isSame(u,f)||this.isBefore(u,f)}function x1(u,f,C){var x,T,B;if(!this.isValid())return NaN;if(x=yl(u,this),!x.isValid())return NaN;switch(T=(x.utcOffset()-this.utcOffset())*6e4,f=hi(f),f){case"year":B=Qr(this,x)/12;break;case"month":B=Qr(this,x);break;case"quarter":B=Qr(this,x)/3;break;case"second":B=(this-x)/1e3;break;case"minute":B=(this-x)/6e4;break;case"hour":B=(this-x)/36e5;break;case"day":B=(this-x-T)/864e5;break;case"week":B=(this-x-T)/6048e5;break;default:B=this-x}return C?B:Ei(B)}function Qr(u,f){if(u.date()<f.date())return-Qr(f,u);var C=(f.year()-u.year())*12+(f.month()-u.month()),x=u.clone().add(C,"months"),T,B;return f-x<0?(T=u.clone().add(C-1,"months"),B=(f-x)/(x-T)):(T=u.clone().add(C+1,"months"),B=(f-x)/(T-x)),-(C+B)||0}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function D1(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function E1(u){if(!this.isValid())return null;var f=u!==!0,C=f?this.clone().utc():this;return C.year()<0||C.year()>9999?Xi(C,f?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):rt(Date.prototype.toISOString)?f?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",Xi(C,"Z")):Xi(C,f?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function T1(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var u="moment",f="",C,x,T,B;return this.isLocal()||(u=this.utcOffset()===0?"moment.utc":"moment.parseZone",f="Z"),C="["+u+'("]',x=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",T="-MM-DD[T]HH:mm:ss.SSS",B=f+'[")]',this.format(C+x+T+B)}function w1(u){u||(u=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var f=Xi(this,u);return this.localeData().postformat(f)}function I1(u,f){return this.isValid()&&(Oe(u)&&u.isValid()||gt(u).isValid())?Hi({to:this,from:u}).locale(this.locale()).humanize(!f):this.localeData().invalidDate()}function N1(u){return this.from(gt(),u)}function F1(u,f){return this.isValid()&&(Oe(u)&&u.isValid()||gt(u).isValid())?Hi({from:this,to:u}).locale(this.locale()).humanize(!f):this.localeData().invalidDate()}function M1(u){return this.to(gt(),u)}function sc(u){var f;return u===void 0?this._locale._abbr:(f=cn(u),f!=null&&(this._locale=f),this)}var dc=Re("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(u){return u===void 0?this.localeData():this.locale(u)});function cc(){return this._locale}var Zr=1e3,Co=60*Zr,Kr=60*Co,pc=(365*400+97)*24*Kr;function So(u,f){return(u%f+f)%f}function mc(u,f,C){return u<100&&u>=0?new Date(u+400,f,C)-pc:new Date(u,f,C).valueOf()}function uc(u,f,C){return u<100&&u>=0?Date.UTC(u+400,f,C)-pc:Date.UTC(u,f,C)}function P1(u){var f,C;if(u=hi(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(C=this._isUTC?uc:mc,u){case"year":f=C(this.year(),0,1);break;case"quarter":f=C(this.year(),this.month()-this.month()%3,1);break;case"month":f=C(this.year(),this.month(),1);break;case"week":f=C(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":f=C(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":f=C(this.year(),this.month(),this.date());break;case"hour":f=this._d.valueOf(),f-=So(f+(this._isUTC?0:this.utcOffset()*Co),Kr);break;case"minute":f=this._d.valueOf(),f-=So(f,Co);break;case"second":f=this._d.valueOf(),f-=So(f,Zr);break}return this._d.setTime(f),r.updateOffset(this,!0),this}function k1(u){var f,C;if(u=hi(u),u===void 0||u==="millisecond"||!this.isValid())return this;switch(C=this._isUTC?uc:mc,u){case"year":f=C(this.year()+1,0,1)-1;break;case"quarter":f=C(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":f=C(this.year(),this.month()+1,1)-1;break;case"week":f=C(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":f=C(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":f=C(this.year(),this.month(),this.date()+1)-1;break;case"hour":f=this._d.valueOf(),f+=Kr-So(f+(this._isUTC?0:this.utcOffset()*Co),Kr)-1;break;case"minute":f=this._d.valueOf(),f+=Co-So(f,Co)-1;break;case"second":f=this._d.valueOf(),f+=Zr-So(f,Zr)-1;break}return this._d.setTime(f),r.updateOffset(this,!0),this}function A1(){return this._d.valueOf()-(this._offset||0)*6e4}function O1(){return Math.floor(this.valueOf()/1e3)}function L1(){return new Date(this.valueOf())}function B1(){var u=this;return[u.year(),u.month(),u.date(),u.hour(),u.minute(),u.second(),u.millisecond()]}function V1(){var u=this;return{years:u.year(),months:u.month(),date:u.date(),hours:u.hours(),minutes:u.minutes(),seconds:u.seconds(),milliseconds:u.milliseconds()}}function R1(){return this.isValid()?this.toISOString():null}function j1(){return q(this)}function G1(){return L({},G(this))}function W1(){return G(this).overflow}function U1(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}ke("N",0,0,"eraAbbr"),ke("NN",0,0,"eraAbbr"),ke("NNN",0,0,"eraAbbr"),ke("NNNN",0,0,"eraName"),ke("NNNNN",0,0,"eraNarrow"),ke("y",["y",1],"yo","eraYear"),ke("y",["yy",2],0,"eraYear"),ke("y",["yyy",3],0,"eraYear"),ke("y",["yyyy",4],0,"eraYear"),Ee("N",Sl),Ee("NN",Sl),Ee("NNN",Sl),Ee("NNNN",e_),Ee("NNNNN",t_),dt(["N","NN","NNN","NNNN","NNNNN"],function(u,f,C,x){var T=C._locale.erasParse(u,x,C._strict);T?G(C).era=T:G(C).invalidEra=u}),Ee("y",_o),Ee("yy",_o),Ee("yyy",_o),Ee("yyyy",_o),Ee("yo",i_),dt(["y","yy","yyy","yyyy"],Jt),dt(["yo"],function(u,f,C,x){var T;C._locale._eraYearOrdinalRegex&&(T=u.match(C._locale._eraYearOrdinalRegex)),C._locale.eraYearOrdinalParse?f[Jt]=C._locale.eraYearOrdinalParse(u,T):f[Jt]=parseInt(u,10)});function H1(u,f){var C,x,T,B=this._eras||cn("en")._eras;for(C=0,x=B.length;C<x;++C){switch(typeof B[C].since){case"string":T=r(B[C].since).startOf("day"),B[C].since=T.valueOf();break}switch(typeof B[C].until){case"undefined":B[C].until=1/0;break;case"string":T=r(B[C].until).startOf("day").valueOf(),B[C].until=T.valueOf();break}}return B}function z1(u,f,C){var x,T,B=this.eras(),Q,De,je;for(u=u.toUpperCase(),x=0,T=B.length;x<T;++x)if(Q=B[x].name.toUpperCase(),De=B[x].abbr.toUpperCase(),je=B[x].narrow.toUpperCase(),C)switch(f){case"N":case"NN":case"NNN":if(De===u)return B[x];break;case"NNNN":if(Q===u)return B[x];break;case"NNNNN":if(je===u)return B[x];break}else if([Q,De,je].indexOf(u)>=0)return B[x]}function q1(u,f){var C=u.since<=u.until?1:-1;return f===void 0?r(u.since).year():r(u.since).year()+(f-u.offset)*C}function Y1(){var u,f,C,x=this.localeData().eras();for(u=0,f=x.length;u<f;++u)if(C=this.clone().startOf("day").valueOf(),x[u].since<=C&&C<=x[u].until||x[u].until<=C&&C<=x[u].since)return x[u].name;return""}function $1(){var u,f,C,x=this.localeData().eras();for(u=0,f=x.length;u<f;++u)if(C=this.clone().startOf("day").valueOf(),x[u].since<=C&&C<=x[u].until||x[u].until<=C&&C<=x[u].since)return x[u].narrow;return""}function Q1(){var u,f,C,x=this.localeData().eras();for(u=0,f=x.length;u<f;++u)if(C=this.clone().startOf("day").valueOf(),x[u].since<=C&&C<=x[u].until||x[u].until<=C&&C<=x[u].since)return x[u].abbr;return""}function Z1(){var u,f,C,x,T=this.localeData().eras();for(u=0,f=T.length;u<f;++u)if(C=T[u].since<=T[u].until?1:-1,x=this.clone().startOf("day").valueOf(),T[u].since<=x&&x<=T[u].until||T[u].until<=x&&x<=T[u].since)return(this.year()-r(T[u].since).year())*C+T[u].offset;return this.year()}function K1(u){return e(this,"_erasNameRegex")||xl.call(this),u?this._erasNameRegex:this._erasRegex}function J1(u){return e(this,"_erasAbbrRegex")||xl.call(this),u?this._erasAbbrRegex:this._erasRegex}function X1(u){return e(this,"_erasNarrowRegex")||xl.call(this),u?this._erasNarrowRegex:this._erasRegex}function Sl(u,f){return f.erasAbbrRegex(u)}function e_(u,f){return f.erasNameRegex(u)}function t_(u,f){return f.erasNarrowRegex(u)}function i_(u,f){return f._eraYearOrdinalRegex||_o}function xl(){var u=[],f=[],C=[],x=[],T,B,Q,De,je,tt=this.eras();for(T=0,B=tt.length;T<B;++T)Q=an(tt[T].name),De=an(tt[T].abbr),je=an(tt[T].narrow),f.push(Q),u.push(De),C.push(je),x.push(Q),x.push(De),x.push(je);this._erasRegex=new RegExp("^("+x.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+f.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+u.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+C.join("|")+")","i")}ke(0,["gg",2],0,function(){return this.weekYear()%100}),ke(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Jr(u,f){ke(0,[u,u.length],0,f)}Jr("gggg","weekYear"),Jr("ggggg","weekYear"),Jr("GGGG","isoWeekYear"),Jr("GGGGG","isoWeekYear"),Ee("G",jr),Ee("g",jr),Ee("GG",st,Qt),Ee("gg",st,Qt),Ee("GGGG",al,fo),Ee("gggg",al,fo),Ee("GGGGG",Rr,$n),Ee("ggggg",Rr,$n),Jo(["gggg","ggggg","GGGG","GGGGG"],function(u,f,C,x){f[x.substr(0,2)]=Xe(u)}),Jo(["gg","GG"],function(u,f,C,x){f[x]=r.parseTwoDigitYear(u)});function n_(u){return hc.call(this,u,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function o_(u){return hc.call(this,u,this.isoWeek(),this.isoWeekday(),1,4)}function r_(){return dn(this.year(),1,4)}function a_(){return dn(this.isoWeekYear(),1,4)}function l_(){var u=this.localeData()._week;return dn(this.year(),u.dow,u.doy)}function s_(){var u=this.localeData()._week;return dn(this.weekYear(),u.dow,u.doy)}function hc(u,f,C,x,T){var B;return u==null?ir(this,x,T).year:(B=dn(u,x,T),f>B&&(f=B),d_.call(this,u,f,C,x,T))}function d_(u,f,C,x,T){var B=zd(u,f,C,x,T),Q=tr(B.year,0,B.dayOfYear);return this.year(Q.getUTCFullYear()),this.month(Q.getUTCMonth()),this.date(Q.getUTCDate()),this}ke("Q",0,"Qo","quarter"),Ee("Q",Qo),dt("Q",function(u,f){f[ln]=(Xe(u)-1)*3});function c_(u){return u==null?Math.ceil((this.month()+1)/3):this.month((u-1)*3+this.month()%3)}ke("D",["DD",2],"Do","date"),Ee("D",st,vo),Ee("DD",st,Qt),Ee("Do",function(u,f){return u?f._dayOfMonthOrdinalParse||f._ordinalParse:f._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],en),dt("Do",function(u,f){f[en]=Xe(u.match(st)[0])});var gc=bo("Date",!0);ke("DDD",["DDDD",3],"DDDo","dayOfYear"),Ee("DDD",Vr),Ee("DDDD",Zo),dt(["DDD","DDDD"],function(u,f,C){C._dayOfYear=Xe(u)});function p_(u){var f=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return u==null?f:this.add(u-f,"d")}ke("m",["mm",2],0,"minute"),Ee("m",st,ll),Ee("mm",st,Qt),dt(["m","mm"],Ui);var m_=bo("Minutes",!1);ke("s",["ss",2],0,"second"),Ee("s",st,ll),Ee("ss",st,Qt),dt(["s","ss"],sn);var u_=bo("Seconds",!1);ke("S",0,0,function(){return~~(this.millisecond()/100)}),ke(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),ke(0,["SSS",3],0,"millisecond"),ke(0,["SSSS",4],0,function(){return this.millisecond()*10}),ke(0,["SSSSS",5],0,function(){return this.millisecond()*100}),ke(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),ke(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),ke(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),ke(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),Ee("S",Vr,Qo),Ee("SS",Vr,Qt),Ee("SSS",Vr,Zo);var Fn,fc;for(Fn="SSSS";Fn.length<=9;Fn+="S")Ee(Fn,_o);function h_(u,f){f[Qn]=Xe(("0."+u)*1e3)}for(Fn="S";Fn.length<=9;Fn+="S")dt(Fn,h_);fc=bo("Milliseconds",!1),ke("z",0,0,"zoneAbbr"),ke("zz",0,0,"zoneName");function g_(){return this._isUTC?"UTC":""}function f_(){return this._isUTC?"Coordinated Universal Time":""}var re=Pe.prototype;re.add=s1,re.calendar=g1,re.clone=f1,re.diff=x1,re.endOf=k1,re.format=w1,re.from=I1,re.fromNow=N1,re.to=F1,re.toNow=M1,re.get=Eg,re.invalidAt=W1,re.isAfter=_1,re.isBefore=v1,re.isBetween=b1,re.isSame=y1,re.isSameOrAfter=C1,re.isSameOrBefore=S1,re.isValid=j1,re.lang=dc,re.locale=sc,re.localeData=cc,re.max=jf,re.min=Rf,re.parsingFlags=G1,re.set=Tg,re.startOf=P1,re.subtract=d1,re.toArray=B1,re.toObject=V1,re.toDate=L1,re.toISOString=E1,re.inspect=T1,typeof Symbol<"u"&&Symbol.for!=null&&(re[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),re.toJSON=R1,re.toString=D1,re.unix=O1,re.valueOf=A1,re.creationData=U1,re.eraName=Y1,re.eraNarrow=$1,re.eraAbbr=Q1,re.eraYear=Z1,re.year=Vd,re.isLeapYear=Dg,re.weekYear=n_,re.isoWeekYear=o_,re.quarter=re.quarters=c_,re.month=Ud,re.daysInMonth=Og,re.week=re.weeks=Ug,re.isoWeek=re.isoWeeks=Hg,re.weeksInYear=l_,re.weeksInWeekYear=s_,re.isoWeeksInYear=r_,re.isoWeeksInISOWeekYear=a_,re.date=gc,re.day=re.days=of,re.weekday=rf,re.isoWeekday=af,re.dayOfYear=p_,re.hour=re.hours=uf,re.minute=re.minutes=m_,re.second=re.seconds=u_,re.millisecond=re.milliseconds=fc,re.utcOffset=Qf,re.utc=Kf,re.local=Jf,re.parseZone=Xf,re.hasAlignedHourOffset=e1,re.isDST=t1,re.isLocal=n1,re.isUtcOffset=o1,re.isUtc=nc,re.isUTC=nc,re.zoneAbbr=g_,re.zoneName=f_,re.dates=Re("dates accessor is deprecated. Use date instead.",gc),re.months=Re("months accessor is deprecated. Use month instead",Ud),re.years=Re("years accessor is deprecated. Use year instead",Vd),re.zone=Re("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Zf),re.isDSTShifted=Re("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",i1);function __(u){return gt(u*1e3)}function v_(){return gt.apply(null,arguments).parseZone()}function _c(u){return u}var at=Ri.prototype;at.calendar=Ci,at.longDateFormat=Yo,at.invalidDate=$o,at.ordinal=ol,at.preparse=_c,at.postformat=_c,at.relativeTime=Ar,at.pastFuture=Or,at.set=Vt,at.eras=H1,at.erasParse=z1,at.erasConvertYear=q1,at.erasAbbrRegex=J1,at.erasNameRegex=K1,at.erasNarrowRegex=X1,at.months=Mg,at.monthsShort=Pg,at.monthsParse=Ag,at.monthsRegex=Bg,at.monthsShortRegex=Lg,at.week=Rg,at.firstDayOfYear=Wg,at.firstDayOfWeek=Gg,at.weekdays=Jg,at.weekdaysMin=ef,at.weekdaysShort=Xg,at.weekdaysParse=nf,at.weekdaysRegex=lf,at.weekdaysShortRegex=sf,at.weekdaysMinRegex=df,at.isPM=pf,at.meridiem=hf;function Xr(u,f,C,x){var T=cn(),B=V().set(x,f);return T[C](B,u)}function vc(u,f,C){if(h(u)&&(f=u,u=void 0),u=u||"",f!=null)return Xr(u,f,C,"month");var x,T=[];for(x=0;x<12;x++)T[x]=Xr(u,x,C,"month");return T}function Dl(u,f,C,x){typeof u=="boolean"?(h(f)&&(C=f,f=void 0),f=f||""):(f=u,C=f,u=!1,h(f)&&(C=f,f=void 0),f=f||"");var T=cn(),B=u?T._week.dow:0,Q,De=[];if(C!=null)return Xr(f,(C+B)%7,x,"day");for(Q=0;Q<7;Q++)De[Q]=Xr(f,(Q+B)%7,x,"day");return De}function b_(u,f){return vc(u,f,"months")}function y_(u,f){return vc(u,f,"monthsShort")}function C_(u,f,C){return Dl(u,f,C,"weekdays")}function S_(u,f,C){return Dl(u,f,C,"weekdaysShort")}function x_(u,f,C){return Dl(u,f,C,"weekdaysMin")}Nn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(u){var f=u%10,C=Xe(u%100/10)===1?"th":f===1?"st":f===2?"nd":f===3?"rd":"th";return u+C}}),r.lang=Re("moment.lang is deprecated. Use moment.locale instead.",Nn),r.langData=Re("moment.langData is deprecated. Use moment.localeData instead.",cn);var pn=Math.abs;function D_(){var u=this._data;return this._milliseconds=pn(this._milliseconds),this._days=pn(this._days),this._months=pn(this._months),u.milliseconds=pn(u.milliseconds),u.seconds=pn(u.seconds),u.minutes=pn(u.minutes),u.hours=pn(u.hours),u.months=pn(u.months),u.years=pn(u.years),this}function bc(u,f,C,x){var T=Hi(f,C);return u._milliseconds+=x*T._milliseconds,u._days+=x*T._days,u._months+=x*T._months,u._bubble()}function E_(u,f){return bc(this,u,f,1)}function T_(u,f){return bc(this,u,f,-1)}function yc(u){return u<0?Math.floor(u):Math.ceil(u)}function w_(){var u=this._milliseconds,f=this._days,C=this._months,x=this._data,T,B,Q,De,je;return u>=0&&f>=0&&C>=0||u<=0&&f<=0&&C<=0||(u+=yc(El(C)+f)*864e5,f=0,C=0),x.milliseconds=u%1e3,T=Ei(u/1e3),x.seconds=T%60,B=Ei(T/60),x.minutes=B%60,Q=Ei(B/60),x.hours=Q%24,f+=Ei(Q/24),je=Ei(Cc(f)),C+=je,f-=yc(El(je)),De=Ei(C/12),C%=12,x.days=f,x.months=C,x.years=De,this}function Cc(u){return u*4800/146097}function El(u){return u*146097/4800}function I_(u){if(!this.isValid())return NaN;var f,C,x=this._milliseconds;if(u=hi(u),u==="month"||u==="quarter"||u==="year")switch(f=this._days+x/864e5,C=this._months+Cc(f),u){case"month":return C;case"quarter":return C/3;case"year":return C/12}else switch(f=this._days+Math.round(El(this._months)),u){case"week":return f/7+x/6048e5;case"day":return f+x/864e5;case"hour":return f*24+x/36e5;case"minute":return f*1440+x/6e4;case"second":return f*86400+x/1e3;case"millisecond":return Math.floor(f*864e5)+x;default:throw new Error("Unknown unit "+u)}}function mn(u){return function(){return this.as(u)}}var Sc=mn("ms"),N_=mn("s"),F_=mn("m"),M_=mn("h"),P_=mn("d"),k_=mn("w"),A_=mn("M"),O_=mn("Q"),L_=mn("y"),B_=Sc;function V_(){return Hi(this)}function R_(u){return u=hi(u),this.isValid()?this[u+"s"]():NaN}function Kn(u){return function(){return this.isValid()?this._data[u]:NaN}}var j_=Kn("milliseconds"),G_=Kn("seconds"),W_=Kn("minutes"),U_=Kn("hours"),H_=Kn("days"),z_=Kn("months"),q_=Kn("years");function Y_(){return Ei(this.days()/7)}var un=Math.round,xo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function $_(u,f,C,x,T){return T.relativeTime(f||1,!!C,u,x)}function Q_(u,f,C,x){var T=Hi(u).abs(),B=un(T.as("s")),Q=un(T.as("m")),De=un(T.as("h")),je=un(T.as("d")),tt=un(T.as("M")),si=un(T.as("w")),hn=un(T.as("y")),Mn=B<=C.ss&&["s",B]||B<C.s&&["ss",B]||Q<=1&&["m"]||Q<C.m&&["mm",Q]||De<=1&&["h"]||De<C.h&&["hh",De]||je<=1&&["d"]||je<C.d&&["dd",je];return C.w!=null&&(Mn=Mn||si<=1&&["w"]||si<C.w&&["ww",si]),Mn=Mn||tt<=1&&["M"]||tt<C.M&&["MM",tt]||hn<=1&&["y"]||["yy",hn],Mn[2]=f,Mn[3]=+u>0,Mn[4]=x,$_.apply(null,Mn)}function Z_(u){return u===void 0?un:typeof u=="function"?(un=u,!0):!1}function K_(u,f){return xo[u]===void 0?!1:f===void 0?xo[u]:(xo[u]=f,u==="s"&&(xo.ss=f-1),!0)}function J_(u,f){if(!this.isValid())return this.localeData().invalidDate();var C=!1,x=xo,T,B;return typeof u=="object"&&(f=u,u=!1),typeof u=="boolean"&&(C=u),typeof f=="object"&&(x=Object.assign({},xo,f),f.s!=null&&f.ss==null&&(x.ss=f.s-1)),T=this.localeData(),B=Q_(this,!C,x,T),C&&(B=T.pastFuture(+this,B)),T.postformat(B)}var Tl=Math.abs;function Do(u){return(u>0)-(u<0)||+u}function ea(){if(!this.isValid())return this.localeData().invalidDate();var u=Tl(this._milliseconds)/1e3,f=Tl(this._days),C=Tl(this._months),x,T,B,Q,De=this.asSeconds(),je,tt,si,hn;return De?(x=Ei(u/60),T=Ei(x/60),u%=60,x%=60,B=Ei(C/12),C%=12,Q=u?u.toFixed(3).replace(/\.?0+$/,""):"",je=De<0?"-":"",tt=Do(this._months)!==Do(De)?"-":"",si=Do(this._days)!==Do(De)?"-":"",hn=Do(this._milliseconds)!==Do(De)?"-":"",je+"P"+(B?tt+B+"Y":"")+(C?tt+C+"M":"")+(f?si+f+"D":"")+(T||x||u?"T":"")+(T?hn+T+"H":"")+(x?hn+x+"M":"")+(u?hn+Q+"S":"")):"P0D"}var it=Yr.prototype;it.isValid=zf,it.abs=D_,it.add=E_,it.subtract=T_,it.as=I_,it.asMilliseconds=Sc,it.asSeconds=N_,it.asMinutes=F_,it.asHours=M_,it.asDays=P_,it.asWeeks=k_,it.asMonths=A_,it.asQuarters=O_,it.asYears=L_,it.valueOf=B_,it._bubble=w_,it.clone=V_,it.get=R_,it.milliseconds=j_,it.seconds=G_,it.minutes=W_,it.hours=U_,it.days=H_,it.weeks=Y_,it.months=z_,it.years=q_,it.humanize=J_,it.toISOString=ea,it.toString=ea,it.toJSON=ea,it.locale=sc,it.localeData=cc,it.toIsoString=Re("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",ea),it.lang=dc,ke("X",0,0,"unix"),ke("x",0,0,"valueOf"),Ee("x",jr),Ee("X",vg),dt("X",function(u,f,C){C._d=new Date(parseFloat(u)*1e3)}),dt("x",function(u,f,C){C._d=new Date(Xe(u))});return r.version="2.30.1",l(gt),r.fn=re,r.min=Gf,r.max=Wf,r.now=Uf,r.utc=V,r.unix=__,r.months=b_,r.isDate=w,r.locale=Nn,r.invalid=de,r.duration=Hi,r.isMoment=Oe,r.weekdays=C_,r.parseZone=v_,r.localeData=cn,r.isDuration=$r,r.monthsShort=y_,r.weekdaysMin=x_,r.defineLocale=ul,r.updateLocale=vf,r.locales=bf,r.weekdaysShort=S_,r.normalizeUnits=hi,r.relativeTimeRounding=Z_,r.relativeTimeThreshold=K_,r.calendarFormat=h1,r.prototype=re,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r})});var Ru=ft(Ss=>{"use strict";Object.defineProperty(Ss,"__esModule",{value:!0});var Cs=class{constructor(){this.config={currency:{name:"Dirham",plural:"Dirhams",singular:"Dirham",symbol:"",fractionalUnit:{name:"Fil",singular:"Fil",plural:"Fils",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Ss.default=Cs});var ju=ft(Ds=>{"use strict";Object.defineProperty(Ds,"__esModule",{value:!0});var xs=class{constructor(){this.config={currency:{name:"Taka",plural:"Taka",singular:"Taka",symbol:"\u09F3",fractionalUnit:{name:"Poysha",singular:"Poysha",plural:"Poysha",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e7,value:"Crore"},{number:1e5,value:"Lakh"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Ds.default=xs});var Gu=ft(Ts=>{"use strict";Object.defineProperty(Ts,"__esModule",{value:!0});var Es=class{constructor(){this.config={currency:{name:"Cedi",plural:"Cedis",singular:"Cedi",symbol:"GH\xA2",fractionalUnit:{name:"Pesewa",singular:"Pesewa",plural:"Pesewas",symbol:"Gp"}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Ts.default=Es});var Wu=ft(Is=>{"use strict";Object.defineProperty(Is,"__esModule",{value:!0});var ws=class{constructor(){this.config={currency:{name:"Euro",plural:"Euros",singular:"Euro",symbol:"\u20AC",fractionalUnit:{name:"Eurocent",plural:"Eurocents",singular:"Eurocent",symbol:"\xA2"}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Is.default=ws});var Uu=ft(Fs=>{"use strict";Object.defineProperty(Fs,"__esModule",{value:!0});var Ns=class{constructor(){this.config={currency:{name:"Rupee",plural:"Rupees",singular:"Rupee",symbol:"\u20B9",fractionalUnit:{name:"Paisa",plural:"Paise",singular:"Paisa",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e7,value:"Crore"},{number:1e5,value:"Lakh"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Fs.default=Ns});var Hu=ft(Ps=>{"use strict";Object.defineProperty(Ps,"__esModule",{value:!0});var Ms=class{constructor(){this.config={currency:{name:"Kyat",plural:"Kyats",singular:"Kyat",symbol:"K",fractionalUnit:{name:"Pya",singular:"Pya",plural:"Pyas",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Ps.default=Ms});var zu=ft(As=>{"use strict";Object.defineProperty(As,"__esModule",{value:!0});var ks=class{constructor(){this.config={currency:{name:"Rupee",plural:"Rupees",singular:"Rupee",symbol:"Rs",fractionalUnit:{name:"Cent",singular:"Cent",plural:"Cents",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e7,value:"Crore"},{number:1e5,value:"Lakh"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};As.default=ks});var qu=ft(Ls=>{"use strict";Object.defineProperty(Ls,"__esModule",{value:!0});var Os=class{constructor(){this.config={currency:{name:"Naira",plural:"Naira",singular:"Naira",symbol:"\u20A6",fractionalUnit:{name:"Kobo",singular:"Kobo",plural:"Kobo",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Ls.default=Os});var Yu=ft(Vs=>{"use strict";Object.defineProperty(Vs,"__esModule",{value:!0});var Bs=class{constructor(){this.config={currency:{name:"Rupee",plural:"Rupees",singular:"Rupee",symbol:"\u20B9",fractionalUnit:{name:"Paisa",singular:"Paisa",plural:"Paisa",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e11,value:"Kharab"},{number:1e9,value:"Arab"},{number:1e7,value:"Crore"},{number:1e5,value:"Lakh"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Vs.default=Bs});var $u=ft(js=>{"use strict";Object.defineProperty(js,"__esModule",{value:!0});var Rs=class{constructor(){this.config={currency:{name:"Dollar",plural:"Dollars",singular:"Dollar",symbol:"$",fractionalUnit:{name:"Cent",plural:"Cents",singular:"Cent",symbol:"\xA2"}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};js.default=Rs});var Qu=ft(Ws=>{"use strict";Object.defineProperty(Ws,"__esModule",{value:!0});var Gs=class{constructor(){this.config={currency:{name:"Pound",plural:"Pounds",singular:"Pound",symbol:"\xA3",fractionalUnit:{name:"Pence",plural:"Pence",singular:"Penny",symbol:""}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Ws.default=Gs});var Zu=ft(Hs=>{"use strict";Object.defineProperty(Hs,"__esModule",{value:!0});var Us=class{constructor(){this.config={currency:{name:"Peso",plural:"Pesos",singular:"Peso",symbol:"\u20B1",fractionalUnit:{name:"Cent",singular:"Cent",plural:"Cents",symbol:"\xA2"}},texts:{and:"And",minus:"Minus",only:"Only",point:"Point"},numberWordsMapping:[{number:1e15,value:"Quadrillion"},{number:1e12,value:"Trillion"},{number:1e9,value:"Billion"},{number:1e6,value:"Million"},{number:1e3,value:"Thousand"},{number:100,value:"Hundred"},{number:90,value:"Ninety"},{number:80,value:"Eighty"},{number:70,value:"Seventy"},{number:60,value:"Sixty"},{number:50,value:"Fifty"},{number:40,value:"Forty"},{number:30,value:"Thirty"},{number:20,value:"Twenty"},{number:19,value:"Nineteen"},{number:18,value:"Eighteen"},{number:17,value:"Seventeen"},{number:16,value:"Sixteen"},{number:15,value:"Fifteen"},{number:14,value:"Fourteen"},{number:13,value:"Thirteen"},{number:12,value:"Twelve"},{number:11,value:"Eleven"},{number:10,value:"Ten"},{number:9,value:"Nine"},{number:8,value:"Eight"},{number:7,value:"Seven"},{number:6,value:"Six"},{number:5,value:"Five"},{number:4,value:"Four"},{number:3,value:"Three"},{number:2,value:"Two"},{number:1,value:"One"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"One Hundred"}]}}};Hs.default=Us});var Ku=ft(qs=>{"use strict";Object.defineProperty(qs,"__esModule",{value:!0});var zs=class{constructor(){this.config={currency:{name:"\u062A\u0648\u0645\u0627\u0646",plural:"",singular:"",symbol:"\u062A\u0648\u0645\u0627\u0646",fractionalUnit:{name:"",singular:"\u0631\u06CC\u0627\u0644",plural:"\u062A\u0648\u0645\u0627\u0646",symbol:""}},texts:{and:"\u0648",minus:"\u0645\u0646\u0641\u06CC",only:"",point:"\u0648"},numberWordsMapping:[{number:1e15,value:"\u06A9\u0648\u0627\u062F\u0631\u06CC\u0644\u06CC\u0648\u0646"},{number:1e12,value:"\u062A\u06CC\u0644\u06CC\u0627\u0631\u062F"},{number:1e9,value:"\u0645\u06CC\u0644\u06CC\u0627\u0631\u062F"},{number:1e6,value:"\u0645\u06CC\u0644\u06CC\u0648\u0646"},{number:1e3,value:"\u0647\u0632\u0627\u0631"},{number:900,value:"\u0646\u0647\u0635\u062F"},{number:800,value:"\u0647\u0634\u062A\u0635\u062F"},{number:700,value:"\u0647\u0641\u062A\u0635\u062F"},{number:600,value:"\u0634\u0634\u0635\u062F"},{number:500,value:"\u067E\u0627\u0646\u0635\u062F"},{number:400,value:"\u0686\u0647\u0627\u0631\u0635\u062F"},{number:300,value:"\u0633\u06CC\u0635\u062F"},{number:200,value:"\u062F\u0648\u06CC\u0633\u062A"},{number:100,value:"\u0635\u062F"},{number:90,value:"\u0646\u0648\u062F"},{number:80,value:"\u0647\u0634\u062A\u0627\u062F"},{number:70,value:"\u0647\u0641\u062A\u0627\u062F"},{number:60,value:"\u0634\u0635\u062A"},{number:50,value:"\u067E\u0646\u062C\u0627\u0647"},{number:40,value:"\u0686\u0647\u0644"},{number:30,value:"\u0633\u06CC"},{number:20,value:"\u0628\u06CC\u0633\u062A"},{number:19,value:"\u0646\u0648\u0632\u062F\u0647"},{number:18,value:"\u0647\u062C\u062F\u0647"},{number:17,value:"\u0647\u0641\u062F\u0647"},{number:16,value:"\u0634\u0627\u0646\u0632\u062F\u0647"},{number:15,value:"\u067E\u0627\u0646\u0632\u062F\u0647"},{number:14,value:"\u0686\u0647\u0627\u0631\u062F\u0647"},{number:13,value:"\u0633\u06CC\u0632\u062F\u0647"},{number:12,value:"\u062F\u0648\u0627\u0632\u062F\u0647"},{number:11,value:"\u06CC\u0627\u0632\u062F\u0647"},{number:10,value:"\u062F\u0647"},{number:9,value:"\u0646\u0647"},{number:8,value:"\u0647\u0634\u062A"},{number:7,value:"\u0647\u0641\u062A"},{number:6,value:"\u0634\u0634"},{number:5,value:"\u067E\u0646\u062C"},{number:4,value:"\u0686\u0647\u0627\u0631"},{number:3,value:"\u0633\u0647"},{number:2,value:"\u062F\u0648"},{number:1,value:"\u06CC\u06A9"},{number:0,value:"\u0635\u0641\u0631"}],namedLessThan1000:!0,splitWord:"\u0648",ignoreZeroInDecimals:!0,decimalLengthWordMapping:{1:"\u062F\u0647\u0645",2:"\u0635\u062F\u0645",3:"\u0647\u0632\u0627\u0631\u0645",4:"\u062F\u0647\u200C\u0647\u0632\u0627\u0631\u0645",5:"\u0635\u062F\u200C\u0647\u0632\u0627\u0631\u0645",6:"\u0645\u06CC\u0644\u06CC\u0648\u0646\u06CC\u0648\u0645",7:"\u062F\u0647\u200C\u0645\u06CC\u0644\u06CC\u0648\u0646\u06CC\u0648\u0645",8:"\u0635\u062F\u200C\u0645\u06CC\u0644\u06CC\u0648\u0646\u06CC\u0648\u0645",9:"\u0645\u06CC\u0644\u06CC\u0627\u0631\u062F\u06CC\u0648\u0645"}}}};qs.default=zs});var Ju=ft($s=>{"use strict";Object.defineProperty($s,"__esModule",{value:!0});var Ys=class{constructor(){this.config={currency:{name:"Euro",plural:"Euros",singular:"Euro",symbol:"\u20AC",fractionalUnit:{name:"Centime",singular:"Centime",plural:"Centimes",symbol:"Cts"}},texts:{and:"Et",minus:"Moins",only:"",point:"Virgule"},numberWordsMapping:[{number:1e15,value:"Billiard"},{number:1e12,value:"Billion"},{number:1e9,value:"Milliard"},{number:1e6,value:"Million"},{number:1e3,value:"Mille"},{number:100,value:"Cent"},{number:99,value:"Nonante-Neuf"},{number:98,value:"Nonante-Huit"},{number:97,value:"Nonante-Sept"},{number:96,value:"Nonante-Six"},{number:95,value:"Nonante-Cinq"},{number:94,value:"Nonante-Quatre"},{number:93,value:"Nonante-Trois"},{number:92,value:"Nonante-Deux"},{number:91,value:"Nonante-Et-Un"},{number:90,value:"Nonante"},{number:89,value:"Quatre-Vingt-Neuf"},{number:88,value:"Quatre-Vingt-Huit"},{number:87,value:"Quatre-Vingt-Sept"},{number:86,value:"Quatre-Vingt-Six"},{number:85,value:"Quatre-Vingt-Cinq"},{number:84,value:"Quatre-Vingt-Quatre"},{number:83,value:"Quatre-Vingt-Trois"},{number:82,value:"Quatre-Vingt-Deux"},{number:81,value:"Quatre-Vingt-Un"},{number:80,value:"Quatre-Vingt"},{number:79,value:"Septante-Neuf"},{number:78,value:"Septante-Huit"},{number:77,value:"Septante-Sept"},{number:76,value:"Septante-Six"},{number:75,value:"Septante-Cinq"},{number:74,value:"Septante-Quatre"},{number:73,value:"Septante-Trois"},{number:72,value:"Septante-Deux"},{number:71,value:"Septante-Et-Un"},{number:70,value:"Septante"},{number:69,value:"Soixante-Neuf"},{number:68,value:"Soixante-Huit"},{number:67,value:"Soixante-Sept"},{number:66,value:"Soixante-Six"},{number:65,value:"Soixante-Cinq"},{number:64,value:"Soixante-Quatre"},{number:63,value:"Soixante-Trois"},{number:62,value:"Soixante-Deux"},{number:61,value:"Soixante-Et-Un"},{number:60,value:"Soixante"},{number:59,value:"Cinquante-Neuf"},{number:58,value:"Cinquante-Huit"},{number:57,value:"Cinquante-Sept"},{number:56,value:"Cinquante-Six"},{number:55,value:"Cinquante-Cinq"},{number:54,value:"Cinquante-Quatre"},{number:53,value:"Cinquante-Trois"},{number:52,value:"Cinquante-Deux"},{number:51,value:"Cinquante-Et-Un"},{number:50,value:"Cinquante"},{number:49,value:"Quarante-Neuf"},{number:48,value:"Quarante-Huit"},{number:47,value:"Quarante-Sept"},{number:46,value:"Quarante-Six"},{number:45,value:"Quarante-Cinq"},{number:44,value:"Quarante-Quatre"},{number:43,value:"Quarante-Trois"},{number:42,value:"Quarante-Deux"},{number:41,value:"Quarante-Et-Un"},{number:40,value:"Quarante"},{number:39,value:"Trente-Neuf"},{number:38,value:"Trente-Huit"},{number:37,value:"Trente-Sept"},{number:36,value:"Trente-Six"},{number:35,value:"Trente-Cinq"},{number:34,value:"Trente-Quatre"},{number:33,value:"Trente-Trois"},{number:32,value:"Trente-Deux"},{number:31,value:"Trente-Et-Un"},{number:30,value:"Trente"},{number:29,value:"Vingt-Neuf"},{number:28,value:"Vingt-Huit"},{number:27,value:"Vingt-Sept"},{number:26,value:"Vingt-Six"},{number:25,value:"Vingt-Cinq"},{number:24,value:"Vingt-Quatre"},{number:23,value:"Vingt-Trois"},{number:22,value:"Vingt-Deux"},{number:21,value:"Vingt-Et-Un"},{number:20,value:"Vingt"},{number:19,value:"Dix-Neuf"},{number:18,value:"Dix-Huit"},{number:17,value:"Dix-Sept"},{number:16,value:"Seize"},{number:15,value:"Quinze"},{number:14,value:"Quatorze"},{number:13,value:"Treize"},{number:12,value:"Douze"},{number:11,value:"Onze"},{number:10,value:"Dix"},{number:9,value:"Neuf"},{number:8,value:"Huit"},{number:7,value:"Sept"},{number:6,value:"Six"},{number:5,value:"Cinq"},{number:4,value:"Quatre"},{number:3,value:"Trois"},{number:2,value:"Deux"},{number:1,value:"Un"},{number:0,value:"Z\xE9ro"}],ignoreOneForWords:["Cent","Mille"],pluralMark:"s",pluralWords:["Billiard","Billion","Milliard","Million"]}}};$s.default=Ys});var Xu=ft(Zs=>{"use strict";Object.defineProperty(Zs,"__esModule",{value:!0});var Qs=class{constructor(){this.config={currency:{name:"Euro",plural:"Euros",singular:"Euro",symbol:"\u20AC",fractionalUnit:{name:"Centime",singular:"Centime",plural:"Centimes",symbol:"Cts"}},texts:{and:"Et",minus:"Moins",only:"",point:"Virgule"},numberWordsMapping:[{number:1e15,value:"Billiard"},{number:1e12,value:"Billion"},{number:1e9,value:"Milliard"},{number:1e6,value:"Million"},{number:1e3,value:"Mille"},{number:100,value:"Cent"},{number:99,value:"Quatre-Vingt-Dix-Neuf"},{number:98,value:"Quatre-Vingt-Dix-Huit"},{number:97,value:"Quatre-Vingt-Dix-Sept"},{number:96,value:"Quatre-Vingt-Seize"},{number:95,value:"Quatre-Vingt-Quinze"},{number:94,value:"Quatre-Vingt-Quatorze"},{number:93,value:"Quatre-Vingt-Treize"},{number:92,value:"Quatre-Vingt-Douze"},{number:91,value:"Quatre-Vingt-Onze"},{number:90,value:"Quatre-Vingt-Dix"},{number:89,value:"Quatre-Vingt-Neuf"},{number:88,value:"Quatre-Vingt-Huit"},{number:87,value:"Quatre-Vingt-Sept"},{number:86,value:"Quatre-Vingt-Six"},{number:85,value:"Quatre-Vingt-Cinq"},{number:84,value:"Quatre-Vingt-Quatre"},{number:83,value:"Quatre-Vingt-Trois"},{number:82,value:"Quatre-Vingt-Deux"},{number:81,value:"Quatre-Vingt-Un"},{number:80,value:"Quatre-Vingt"},{number:79,value:"Soixante-Dix-Neuf"},{number:78,value:"Soixante-Dix-Huit"},{number:77,value:"Soixante-Dix-Sept"},{number:76,value:"Soixante-Seize"},{number:75,value:"Soixante-Quinze"},{number:74,value:"Soixante-Quatorze"},{number:73,value:"Soixante-Treize"},{number:72,value:"Soixante-Douze"},{number:71,value:"Soixante Et Onze"},{number:70,value:"Soixante-dix"},{number:69,value:"Soixante-Neuf"},{number:68,value:"Soixante-Huit"},{number:67,value:"Soixante-Sept"},{number:66,value:"Soixante-Six"},{number:65,value:"Soixante-Cinq"},{number:64,value:"Soixante-Quatre"},{number:63,value:"Soixante-Trois"},{number:62,value:"Soixante-Deux"},{number:61,value:"Soixante Et Un"},{number:60,value:"Soixante"},{number:59,value:"Cinquante-Neuf"},{number:58,value:"Cinquante-Huit"},{number:57,value:"Cinquante-Sept"},{number:56,value:"Cinquante-Six"},{number:55,value:"Cinquante-Cinq"},{number:54,value:"Cinquante-Quatre"},{number:53,value:"Cinquante-Trois"},{number:52,value:"Cinquante-Deux"},{number:51,value:"Cinquante Et Un"},{number:50,value:"Cinquante"},{number:49,value:"Quarante-Neuf"},{number:48,value:"Quarante-Huit"},{number:47,value:"Quarante-Sept"},{number:46,value:"Quarante-Six"},{number:45,value:"Quarante-Cinq"},{number:44,value:"Quarante-Quatre"},{number:43,value:"Quarante-Trois"},{number:42,value:"Quarante-Deux"},{number:41,value:"Quarante Et Un"},{number:40,value:"Quarante"},{number:39,value:"Trente-Neuf"},{number:38,value:"Trente-Huit"},{number:37,value:"Trente-Sept"},{number:36,value:"Trente-Six"},{number:35,value:"Trente-Cinq"},{number:34,value:"Trente-Quatre"},{number:33,value:"Trente-Trois"},{number:32,value:"Trente-Deux"},{number:31,value:"Trente Et Un"},{number:30,value:"Trente"},{number:29,value:"Vingt-Neuf"},{number:28,value:"Vingt-Huit"},{number:27,value:"Vingt-Sept"},{number:26,value:"Vingt-Six"},{number:25,value:"Vingt-Cinq"},{number:24,value:"Vingt-Quatre"},{number:23,value:"Vingt-Trois"},{number:22,value:"Vingt-Deux"},{number:21,value:"Vingt Et Un"},{number:20,value:"Vingt"},{number:19,value:"Dix-Neuf"},{number:18,value:"Dix-Huit"},{number:17,value:"Dix-Sept"},{number:16,value:"Seize"},{number:15,value:"Quinze"},{number:14,value:"Quatorze"},{number:13,value:"Treize"},{number:12,value:"Douze"},{number:11,value:"Onze"},{number:10,value:"Dix"},{number:9,value:"Neuf"},{number:8,value:"Huit"},{number:7,value:"Sept"},{number:6,value:"Six"},{number:5,value:"Cinq"},{number:4,value:"Quatre"},{number:3,value:"Trois"},{number:2,value:"Deux"},{number:1,value:"Un"},{number:0,value:"Z\xE9ro"}],ignoreOneForWords:["Cent","Mille"],pluralMark:"s",pluralWords:["Billiard","Billion","Milliard","Million"]}}};Zs.default=Qs});var e0=ft(Js=>{"use strict";Object.defineProperty(Js,"__esModule",{value:!0});var Ks=class{constructor(){this.config={currency:{name:"\u0AB0\u0AC2\u0AAA\u0ABF\u0AAF\u0ACB",plural:"\u0AB0\u0AC2\u0AAA\u0ABF\u0AAF\u0ABE",singular:"\u0AB0\u0AC2\u0AAA\u0ABF\u0AAF\u0ACB",symbol:"\u20B9",fractionalUnit:{name:"\u0AAA\u0AC8\u0AB8\u0ABE",singular:"\u0AAA\u0AC8\u0AB8\u0ABE",plural:"\u0AAA\u0AC8\u0AB8\u0ABE",symbol:""}},texts:{and:"\u0A85\u0AA8\u0AC7",minus:"\u0A8B\u0AA3",only:"",point:"\u0AA6\u0AB6\u0ABE\u0A82\u0AB6"},numberWordsMapping:[{number:1e7,value:"\u0A95\u0AB0\u0ACB\u0AA1"},{number:1e5,value:"\u0AB2\u0ABE\u0A96"},{number:1e3,value:"\u0AB9\u0A9C\u0ABE\u0AB0"},{number:100,value:"\u0AB8\u0ACB"},{number:99,value:"\u0AA8\u0AB5\u0ACD\u0AB5\u0ABE\u0AA3\u0AC1\u0A82"},{number:98,value:"\u0A85\u0AA0\u0ACD\u0AA0\u0ABE\u0AA3\u0AC1\u0A82"},{number:97,value:"\u0AB8\u0AA4\u0ACD\u0AA4\u0ABE\u0AA3\u0AC1\u0A82"},{number:96,value:"\u0A9B\u0AA8\u0ACD\u0AA8\u0AC1\u0A82"},{number:95,value:"\u0AAA\u0A82\u0A9A\u0ABE\u0AA3\u0AC1\u0A82"},{number:94,value:"\u0A9A\u0ACB\u0AB0\u0ABE\u0AA3\u0AC1\u0A82"},{number:93,value:"\u0AA4\u0ACD\u0AB0\u0ABE\u0AA3\u0AC1\u0A82"},{number:92,value:"\u0AAC\u0ABE\u0AA3\u0AC1\u0A82"},{number:91,value:"\u0A8F\u0A95\u0ABE\u0AA3\u0AC1\u0A82"},{number:90,value:"\u0AA8\u0AC7\u0AB5\u0AC1\u0A82"},{number:89,value:"\u0AA8\u0AC7\u0AB5\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:88,value:"\u0A88\u0AA0\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:87,value:"\u0AB8\u0ABF\u0AA4\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:86,value:"\u0A9B\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:85,value:"\u0AAA\u0A82\u0A9A\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:84,value:"\u0A9A\u0ACB\u0AB0\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:83,value:"\u0AA4\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:82,value:"\u0AAC\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:81,value:"\u0A8F\u0A95\u0ACD\u0AAF\u0ABE\u0AB8\u0AC0"},{number:80,value:"\u0A8F\u0A82\u0AB8\u0AC0"},{number:79,value:"\u0A93\u0A97\u0AA3\u0ABE\u0A8F\u0A82\u0AB8\u0AC0"},{number:78,value:"\u0A87\u0AA0\u0ACD\u0AAF\u0ACB\u0AA4\u0AC7\u0AB0"},{number:77,value:"\u0AB8\u0ABF\u0AA4\u0ACD\u0AAF\u0ACB\u0AA4\u0AC7\u0AB0"},{number:76,value:"\u0A9B\u0ACB\u0AA4\u0AC7\u0AB0"},{number:75,value:"\u0AAA\u0A82\u0A9A\u0ACB\u0AA4\u0AC7\u0AB0"},{number:74,value:"\u0A9A\u0AC1\u0AAE\u0ACB\u0AA4\u0AC7\u0AB0"},{number:73,value:"\u0AA4\u0ACB\u0AA4\u0AC7\u0AB0"},{number:72,value:"\u0AAC\u0ACB\u0AA4\u0AC7\u0AB0"},{number:71,value:"\u0A8F\u0A95\u0ACB\u0AA4\u0AC7\u0AB0"},{number:70,value:"\u0AB8\u0ABF\u0AA4\u0ACD\u0AA4\u0AC7\u0AB0"},{number:69,value:"\u0A93\u0A97\u0AA3\u0ACB\u0AB8\u0ABF\u0AA4\u0ACD\u0AA4\u0AC7\u0AB0"},{number:68,value:"\u0A85\u0AA1\u0AB8\u0AA0"},{number:67,value:"\u0AB8\u0AA1\u0AB8\u0AA0"},{number:66,value:"\u0A9B\u0ABE\u0AB8\u0AA0"},{number:65,value:"\u0AAA\u0ABE\u0A82\u0AB8\u0AA0"},{number:64,value:"\u0A9A\u0ACB\u0AB8\u0AA0"},{number:63,value:"\u0AA4\u0ACD\u0AB0\u0AC7\u0AB8\u0AA0"},{number:62,value:"\u0AAC\u0ABE\u0AB8\u0AA0"},{number:61,value:"\u0A8F\u0A95\u0AB8\u0AA0"},{number:60,value:"\u0AB8\u0ABE\u0A88\u0AA0"},{number:59,value:"\u0A93\u0A97\u0AA3\u0AB8\u0ABE\u0AA0"},{number:58,value:"\u0A85\u0AA0\u0ACD\u0AA0\u0ABE\u0AB5\u0AA8"},{number:57,value:"\u0AB8\u0AA4\u0ACD\u0AA4\u0ABE\u0AB5\u0AA8"},{number:56,value:"\u0A9B\u0AAA\u0ACD\u0AAA\u0AA8"},{number:55,value:"\u0AAA\u0A82\u0A9A\u0ABE\u0AB5\u0AA8"},{number:54,value:"\u0A9A\u0ACB\u0AAA\u0AA8"},{number:53,value:"\u0AA4\u0ACD\u0AB0\u0AC7\u0AAA\u0AA8"},{number:52,value:"\u0AAC\u0ABE\u0AB5\u0AA8"},{number:51,value:"\u0A8F\u0A95\u0ABE\u0AB5\u0AA8"},{number:50,value:"\u0AAA\u0A9A\u0ABE\u0AB8"},{number:49,value:"\u0A93\u0A97\u0AA3\u0AAA\u0A9A\u0ABE\u0AB8"},{number:48,value:"\u0AB8\u0AC1\u0AA1\u0AA4\u0ABE\u0AB2\u0AC0\u0AB8"},{number:47,value:"\u0AB8\u0AC1\u0AA1\u0AA4\u0ABE\u0AB2\u0AC0\u0AB8"},{number:46,value:"\u0A9B\u0AC7\u0AA4\u0ABE\u0AB2\u0AC0\u0AB8"},{number:45,value:"\u0AAA\u0ABF\u0AB8\u0ACD\u0AA4\u0ABE\u0AB2\u0AC0\u0AB8"},{number:44,value:"\u0A9A\u0AC1\u0A82\u0AAE\u0ABE\u0AB2\u0AC0\u0AB8"},{number:43,value:"\u0AA4\u0ACD\u0AB0\u0AC7\u0AA4\u0ABE\u0AB2\u0AC0\u0AB8"},{number:42,value:"\u0A8F\u0A95\u0AA4\u0ABE\u0AB2\u0AC0\u0AB8"},{number:41,value:"\u0A8F\u0A95\u0AA4\u0ABE\u0AB2\u0AC0\u0AB8"},{number:40,value:"\u0A9A\u0ABE\u0AB2\u0AC0\u0AB8"},{number:39,value:"\u0A93\u0A97\u0AA3\u0A9A\u0ABE\u0AB2\u0AC0\u0AB8"},{number:38,value:"\u0A86\u0AA1\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:37,value:"\u0AB8\u0ABE\u0AA1\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:36,value:"\u0A9B\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:35,value:"\u0AAA\u0ABE\u0A82\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:34,value:"\u0A9A\u0ACB\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:33,value:"\u0AA4\u0AC7\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:32,value:"\u0AAC\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:31,value:"\u0A8F\u0A95\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:30,value:"\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:29,value:"\u0A93\u0A97\u0AA3\u0AA4\u0ACD\u0AB0\u0AC0\u0AB8"},{number:28,value:"\u0A85\u0AA0\u0ACD\u0AA0\u0ABE\u0AB5\u0AC0\u0AB8"},{number:27,value:"\u0AB8\u0AA4\u0ACD\u0AA4\u0ABE\u0AB5\u0AC0\u0AB8"},{number:26,value:"\u0A9B\u0AB5\u0AC0\u0AB8"},{number:25,value:"\u0AAA\u0A9A\u0ACD\u0A9A\u0AC0\u0AB8"},{number:24,value:"\u0A9A\u0ACB\u0AB5\u0AC0\u0AB8"},{number:23,value:"\u0AA4\u0AC7\u0AB5\u0AC0\u0AB8"},{number:22,value:"\u0AAC\u0ABE\u0AB5\u0AC0\u0AB8"},{number:21,value:"\u0A8F\u0A95\u0AB5\u0AC0\u0AB8"},{number:20,value:"\u0AB5\u0AC0\u0AB8"},{number:19,value:"\u0A93\u0A97\u0AA3\u0ABF\u0AB8"},{number:18,value:"\u0A85\u0AA2\u0ABE\u0AB0"},{number:17,value:"\u0AB8\u0AA4\u0ACD\u0AA4\u0AB0"},{number:16,value:"\u0AB8\u0ACB\u0AB3"},{number:15,value:"\u0AAA\u0A82\u0AA6\u0AB0"},{number:14,value:"\u0A9A\u0ACC\u0AA6"},{number:13,value:"\u0AA4\u0AC7\u0AB0"},{number:12,value:"\u0AAC\u0ABE\u0AB0"},{number:11,value:"\u0A85\u0A97\u0ABF\u0AAF\u0ABE\u0AB0"},{number:10,value:"\u0AA6\u0AB8"},{number:9,value:"\u0AA8\u0AB5"},{number:8,value:"\u0A86\u0AA0"},{number:7,value:"\u0AB8\u0ABE\u0AA4"},{number:6,value:"\u0A9B"},{number:5,value:"\u0AAA\u0ABE\u0A82\u0A9A"},{number:4,value:"\u0A9A\u0ABE\u0AB0"},{number:3,value:"\u0AA4\u0ACD\u0AB0\u0AA3"},{number:2,value:"\u0AAC\u0AC7"},{number:1,value:"\u0A8F\u0A95"},{number:0,value:"\u0AB6\u0AC2\u0AA8\u0ACD\u0AAF"}]}}};Js.default=Ks});var t0=ft(ed=>{"use strict";Object.defineProperty(ed,"__esModule",{value:!0});var Xs=class{constructor(){this.config={currency:{name:"\u0930\u0941\u092A\u092F\u093E",plural:"\u0930\u0941\u092A\u092F\u0947",singular:"\u0930\u0941\u092A\u092F\u093E",symbol:"\u20B9",fractionalUnit:{name:"\u092A\u0948\u0938\u093E",singular:"\u092A\u0948\u0938\u093E",plural:"\u092A\u0948\u0938\u0947",symbol:""}},texts:{and:"\u0914\u0930",minus:"\u090B\u0923",only:"",point:"\u0926\u0936\u093E\u0902\u0936"},numberWordsMapping:[{number:1e7,value:"\u0915\u0930\u094B\u0921\u093C"},{number:1e5,value:"\u0932\u093E\u0916"},{number:1e3,value:"\u0939\u091C\u093C\u093E\u0930"},{number:100,value:"\u0938\u094C"},{number:99,value:"\u0928\u093F\u0928\u094D\u092F\u093E\u0928\u0935\u0947"},{number:98,value:"\u0905\u091F\u094D\u0920\u093E\u0928\u0935\u0947"},{number:97,value:"\u0938\u0924\u094D\u0924\u093E\u0928\u0935\u0947"},{number:96,value:"\u091B\u093F\u092F\u093E\u0928\u0935\u0947"},{number:95,value:"\u092A\u091A\u093E\u0928\u0935\u0947"},{number:94,value:"\u091A\u094C\u0930\u093E\u0928\u0935\u0947"},{number:93,value:"\u0924\u093F\u0930\u093E\u0928\u0935\u0947"},{number:92,value:"\u092C\u093E\u0928\u0935\u0947"},{number:91,value:"\u0907\u0915\u094D\u092F\u093E\u0928\u092C\u0947"},{number:90,value:"\u0928\u092C\u094D\u092C\u0947"},{number:89,value:"\u0928\u0935\u093E\u0938\u0940"},{number:88,value:"\u0905\u0920\u093E\u0938\u0940"},{number:87,value:"\u0938\u0924\u093E\u0938\u0940"},{number:86,value:"\u091B\u093F\u092F\u093E\u0938\u0940"},{number:85,value:"\u092A\u091A\u093E\u0938\u0940"},{number:84,value:"\u091A\u094C\u0930\u093E\u0938\u0940"},{number:83,value:"\u0924\u093F\u0930\u093E\u0938\u0940"},{number:82,value:"\u092C\u092F\u093E\u0938\u0940"},{number:81,value:"\u0907\u0915\u094D\u092F\u093E\u0938\u0940"},{number:80,value:"\u0905\u0938\u094D\u0938\u0940"},{number:79,value:"\u0909\u0928\u093E\u0938\u0940"},{number:78,value:"\u0905\u0920\u0939\u0924\u094D\u0924\u0930"},{number:77,value:"\u0938\u0924\u0939\u0924\u094D\u0924\u0930"},{number:76,value:"\u091B\u093F\u0939\u0924\u094D\u0924\u0930"},{number:75,value:"\u092A\u091A\u0939\u0924\u094D\u0924\u0930"},{number:74,value:"\u091A\u094C\u0939\u0924\u094D\u0924\u0930"},{number:73,value:"\u0924\u093F\u0939\u0924\u094D\u0924\u0930"},{number:72,value:"\u092C\u0939\u0924\u094D\u0924\u0930"},{number:71,value:"\u0907\u0915\u0939\u0924\u094D\u0924\u0930"},{number:70,value:"\u0938\u0924\u094D\u0924\u0930"},{number:69,value:"\u0909\u0928\u0939\u0924\u094D\u0924\u0930"},{number:68,value:"\u0905\u0921\u093C\u0938\u0920"},{number:67,value:"\u0938\u0921\u093C\u0938\u0920"},{number:66,value:"\u091B\u093F\u092F\u093E\u0938\u0920"},{number:65,value:"\u092A\u0948\u0902\u0938\u0920"},{number:64,value:"\u091A\u094C\u0902\u0938\u0920"},{number:63,value:"\u0924\u093F\u0930\u0938\u0920"},{number:62,value:"\u092C\u093E\u0938\u0920"},{number:61,value:"\u0907\u0915\u0938\u0920"},{number:60,value:"\u0938\u093E\u0920"},{number:59,value:"\u0909\u0928\u0938\u0920"},{number:58,value:"\u0905\u091F\u094D\u0920\u093E\u0935\u0928"},{number:57,value:"\u0938\u0924\u094D\u0924\u093E\u0935\u0928"},{number:56,value:"\u091B\u092A\u094D\u092A\u0928"},{number:55,value:"\u092A\u091A\u092A\u0928"},{number:54,value:"\u091A\u094C\u092C\u0928"},{number:53,value:"\u0924\u093F\u0930\u0947\u092A\u0928"},{number:52,value:"\u092C\u093E\u0935\u0928"},{number:51,value:"\u0907\u0915\u094D\u092F\u093E\u092C\u0928"},{number:50,value:"\u092A\u091A\u093E\u0938"},{number:49,value:"\u0909\u0928\u091A\u093E\u0938"},{number:48,value:"\u0905\u0921\u093C\u0924\u093E\u0932\u0940\u0938"},{number:47,value:"\u0938\u0948\u0902\u0924\u093E\u0932\u0940\u0938"},{number:46,value:"\u091B\u093F\u092F\u093E\u0932\u0940\u0938"},{number:45,value:"\u092A\u0948\u0902\u0924\u093E\u0932\u0940\u0938"},{number:44,value:"\u091A\u094C\u0902\u0924\u093E\u0932\u0940\u0938"},{number:43,value:"\u0924\u0948\u0902\u0924\u093E\u0932\u0940\u0938"},{number:42,value:"\u092C\u092F\u093E\u0932\u0940\u0938"},{number:41,value:"\u0907\u0915\u0924\u093E\u0932\u0940\u0938"},{number:40,value:"\u091A\u093E\u0932\u0940\u0938"},{number:39,value:"\u0909\u0928\u0924\u093E\u0932\u0940\u0938"},{number:38,value:"\u0905\u0921\u093C\u0924\u0940\u0938"},{number:37,value:"\u0938\u0948\u0902\u0924\u0940\u0938"},{number:36,value:"\u091B\u0924\u094D\u0924\u0940\u0938"},{number:35,value:"\u092A\u0948\u0902\u0924\u0940\u0938"},{number:34,value:"\u091A\u094C\u0902\u0924\u0940\u0938"},{number:33,value:"\u0924\u0948\u0902\u0924\u0940\u0938"},{number:32,value:"\u092C\u0924\u094D\u0924\u0940\u0938"},{number:31,value:"\u0907\u0915\u0924\u0940\u0938"},{number:30,value:"\u0924\u0940\u0938"},{number:29,value:"\u0909\u0928\u0924\u0940\u0938"},{number:28,value:"\u0905\u091F\u094D\u0920\u093E\u0908\u0938"},{number:27,value:"\u0938\u0924\u094D\u0924\u093E\u0908\u0938"},{number:26,value:"\u091B\u092C\u094D\u092C\u0940\u0938"},{number:25,value:"\u092A\u091A\u094D\u091A\u0940\u0938"},{number:24,value:"\u091A\u094C\u092C\u0940\u0938"},{number:23,value:"\u0924\u0947\u0908\u0938"},{number:22,value:"\u092C\u093E\u0908\u0938"},{number:21,value:"\u0907\u0915\u094D\u0915\u0940\u0938"},{number:20,value:"\u092C\u0940\u0938"},{number:19,value:"\u0909\u0928\u094D\u0928\u0940\u0938"},{number:18,value:"\u0905\u0920\u093E\u0930\u0939"},{number:17,value:"\u0938\u0924\u094D\u0930\u0939"},{number:16,value:"\u0938\u094B\u0932\u0939"},{number:15,value:"\u092A\u0902\u0926\u094D\u0930\u0939"},{number:14,value:"\u091A\u094C\u0926\u0939"},{number:13,value:"\u0924\u0947\u0930\u0939"},{number:12,value:"\u092C\u093E\u0930\u0939"},{number:11,value:"\u0917\u094D\u092F\u093E\u0930\u0939"},{number:10,value:"\u0926\u0938"},{number:9,value:"\u0928\u094C"},{number:8,value:"\u0906\u0920"},{number:7,value:"\u0938\u093E\u0924"},{number:6,value:"\u091B\u0939"},{number:5,value:"\u092A\u093E\u0902\u091A"},{number:4,value:"\u091A\u093E\u0930"},{number:3,value:"\u0924\u0940\u0928"},{number:2,value:"\u0926\u094B"},{number:1,value:"\u090F\u0915"},{number:0,value:"\u0936\u0942\u0928\u094D\u092F"}]}}};ed.default=Xs});var i0=ft(id=>{"use strict";Object.defineProperty(id,"__esModule",{value:!0});var td=class{constructor(){this.config={currency:{name:"\u0930\u0941\u092A\u092F\u093E",plural:"\u0930\u0941\u092A\u092F\u0947",singular:"\u0930\u0941\u092A\u092F\u093E",symbol:"\u20B9",fractionalUnit:{name:"\u092A\u0948\u0938\u093E",singular:"\u092A\u0948\u0938\u093E",plural:"\u092A\u0948\u0938\u0947",symbol:""}},texts:{and:"\u0906\u0923\u093F",minus:"\u0935\u091C\u093E",only:"",point:"\u092A\u0942\u0930\u094D\u0923\u093E\u0902\u0915"},numberWordsMapping:[{number:1e7,value:"\u0915\u094B\u091F\u0940"},{number:1e5,value:"\u0932\u093E\u0916"},{number:1e3,value:"\u0939\u091C\u093E\u0930"},{number:900,value:"\u0928\u090A\u0936\u0947"},{number:800,value:"\u0906\u0920\u0936\u0947"},{number:700,value:"\u0938\u093E\u0924\u0936\u0947"},{number:600,value:"\u0938\u0939\u093E\u0936\u0947"},{number:500,value:"\u092A\u093E\u091A\u0936\u0947"},{number:400,value:"\u091A\u093E\u0930\u0936\u0947"},{number:300,value:"\u0924\u0940\u0928\u0936\u0947"},{number:200,value:"\u0926\u094B\u0928\u0936\u0947"},{number:100,value:"\u090F\u0915\u0936\u0947"},{number:99,value:"\u0928\u0935\u094D\u0935\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:98,value:"\u0905\u0920\u094D\u0920\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:97,value:"\u0938\u0924\u094D\u0924\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:96,value:"\u0936\u0939\u093E\u0923\u094D\u0923\u0935"},{number:95,value:"\u092A\u0902\u091A\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:94,value:"\u091A\u094C\u0931\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:93,value:"\u0924\u094D\u0930\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:92,value:"\u092C\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:91,value:"\u090F\u0915\u094D\u0915\u094D\u092F\u093E\u0923\u094D\u0923\u0935"},{number:90,value:"\u0928\u0935\u094D\u0935\u0926"},{number:89,value:"\u090F\u0915\u094B\u0923\u0928\u0935\u094D\u0935\u0926"},{number:88,value:"\u0905\u0920\u094D\u0920\u094D\u092F\u093E\u0910\u0902\u0936\u0940"},{number:87,value:"\u0938\u0924\u094D\u0924\u094D\u092F\u093E\u0910\u0902\u0936\u0940"},{number:86,value:"\u0936\u0939\u093E\u0910\u0902\u0936\u0940"},{number:85,value:"\u092A\u0902\u091A\u094D\u092F\u093E\u0910\u0902\u0936\u0940"},{number:84,value:"\u091A\u094C\u0931\u094D\u092F\u093E\u0910\u0902\u0936\u0940"},{number:83,value:"\u0924\u094D\u0930\u094D\u092F\u093E\u0910\u0902\u0936\u0940"},{number:82,value:"\u092C\u094D\u092F\u093E\u0910\u0902\u0936\u0940"},{number:81,value:"\u090F\u0915\u094D\u0915\u094D\u092F\u093E\u0910\u0902\u0936\u0940"},{number:80,value:"\u0910\u0902\u0936\u0940"},{number:79,value:"\u090F\u0915\u094B\u0923\u0910\u0902\u0936\u0940"},{number:78,value:"\u0905\u0920\u094D\u0920\u094D\u092F\u093E\u0939\u0924\u094D\u0924\u0930"},{number:77,value:"\u0938\u0924\u094D\u092F\u093E\u0939\u0924\u094D\u0924\u0930"},{number:76,value:"\u0936\u0939\u093E\u0924\u094D\u0924\u0930"},{number:75,value:"\u092A\u0902\u091A\u094D\u092F\u093E\u0939\u0924\u094D\u0924\u0930"},{number:74,value:"\u091A\u094C\u0930\u094D\u200D\u092F\u093E\u0939\u0924\u094D\u0924\u0930"},{number:73,value:"\u0924\u094D\u0930\u094D\u092F\u093E\u0939\u0924\u094D\u0924\u0930"},{number:72,value:"\u092C\u093E\u0939\u0924\u094D\u0924\u0930"},{number:71,value:"\u090F\u0915\u094D\u0915\u093E\u0939\u0924\u094D\u0924\u0930"},{number:70,value:"\u0938\u0924\u094D\u0924\u0930"},{number:69,value:"\u090F\u0915\u094B\u0923\u0938\u0924\u094D\u0924\u0930"},{number:68,value:"\u0905\u0921\u0941\u0938\u0937\u094D\u0920"},{number:67,value:"\u0938\u0926\u0941\u0938\u0937\u094D\u0920"},{number:66,value:"\u0938\u0939\u093E\u0938\u0937\u094D\u0920"},{number:65,value:"\u092A\u093E\u0938\u0937\u094D\u0920"},{number:64,value:"\u091A\u094C\u0938\u0937\u094D\u0920"},{number:63,value:"\u0924\u094D\u0930\u0947\u0938\u0937\u094D\u0920"},{number:62,value:"\u092C\u093E\u0938\u0937\u094D\u0920"},{number:61,value:"\u090F\u0915\u0938\u0937\u094D\u0920"},{number:60,value:"\u0938\u093E\u0920"},{number:59,value:"\u090F\u0915\u094B\u0923\u0938\u093E\u0920"},{number:58,value:"\u0905\u0920\u094D\u0920\u093E\u0935\u0928\u094D\u0928"},{number:57,value:"\u0938\u0924\u094D\u0924\u093E\u0935\u0928\u094D\u0928"},{number:56,value:"\u091B\u092A\u094D\u092A\u0928\u094D\u0928"},{number:55,value:"\u092A\u0902\u091A\u093E\u0935\u0928\u094D\u0928"},{number:54,value:"\u091A\u094B\u092A\u0928\u094D\u0928"},{number:53,value:"\u0924\u094D\u0930\u0947\u092A\u0928\u094D\u0928"},{number:52,value:"\u092C\u093E\u0935\u0928\u094D\u0928"},{number:51,value:"\u090F\u0915\u094D\u0915\u093E\u0935\u0928\u094D\u0928"},{number:50,value:"\u092A\u0928\u094D\u0928\u093E\u0938"},{number:49,value:"\u090F\u0915\u094B\u0923\u092A\u0928\u094D\u0928\u093E\u0938"},{number:48,value:"\u0905\u0920\u094D\u0920\u0947\u091A\u093E\u0933\u0940\u0938"},{number:47,value:"\u0938\u0924\u094D\u0924\u0947\u091A\u093E\u0933\u0940\u0938"},{number:46,value:"\u0938\u0947\u0939\u0947\u091A\u093E\u0933\u0940\u0938"},{number:45,value:"\u092A\u0902\u091A\u0947\u091A\u093E\u0933\u0940\u0938"},{number:44,value:"\u091A\u0935\u094D\u0935\u0947\u091A\u093E\u0933\u0940\u0938"},{number:43,value:"\u0924\u094D\u0930\u0947\u091A\u093E\u0933\u0940\u0938"},{number:42,value:"\u092C\u0947\u091A\u093E\u0933\u0940\u0938"},{number:41,value:"\u090F\u0915\u094D\u0915\u0947\u091A\u093E\u0933\u0940\u0938"},{number:40,value:"\u091A\u093E\u0933\u0940\u0938"},{number:39,value:"\u090F\u0915\u094B\u0923\u091A\u093E\u0933\u0940\u0938"},{number:38,value:"\u0905\u0921\u0924\u0940\u0938"},{number:37,value:"\u0938\u0926\u0924\u0940\u0938"},{number:36,value:"\u091B\u0924\u094D\u0924\u0940\u0938"},{number:35,value:"\u092A\u0938\u094D\u0924\u0940\u0938"},{number:34,value:"\u091A\u094C\u0924\u0940\u0938"},{number:33,value:"\u0924\u0947\u0939\u0947\u0924\u0940\u0938"},{number:32,value:"\u092C\u0924\u094D\u0924\u0940\u0938"},{number:31,value:"\u090F\u0915\u0924\u0940\u0938"},{number:30,value:"\u0924\u0940\u0938"},{number:29,value:"\u090F\u0915\u094B\u0923\u0924\u0940\u0938"},{number:28,value:"\u0905\u0920\u094D\u0920\u093E\u0935\u0940\u0938"},{number:27,value:"\u0938\u0924\u094D\u0924\u093E\u0935\u0940\u0938"},{number:26,value:"\u0938\u0935\u094D\u0935\u0940\u0938"},{number:25,value:"\u092A\u0902\u091A\u0935\u0940\u0938"},{number:24,value:"\u091A\u094B\u0935\u0940\u0938"},{number:23,value:"\u0924\u0947\u0935\u0940\u0938"},{number:22,value:"\u092C\u093E\u0935\u0940\u0938"},{number:21,value:"\u090F\u0915\u0935\u0940\u0938"},{number:20,value:"\u0935\u0940\u0938"},{number:19,value:"\u090F\u0915\u094B\u0923\u0940\u0938"},{number:18,value:"\u0905\u0920\u0930\u093E"},{number:17,value:"\u0938\u0924\u0930\u093E"},{number:16,value:"\u0938\u094B\u0933\u093E"},{number:15,value:"\u092A\u0902\u0927\u0930\u093E"},{number:14,value:"\u091A\u094C\u0926\u093E"},{number:13,value:"\u0924\u0947\u0930\u093E"},{number:12,value:"\u092C\u093E\u0930\u093E"},{number:11,value:"\u0905\u0915\u0930\u093E"},{number:10,value:"\u0926\u0939\u093E"},{number:9,value:"\u0928\u090A"},{number:8,value:"\u0906\u0920"},{number:7,value:"\u0938\u093E\u0924"},{number:6,value:"\u0938\u0939\u093E"},{number:5,value:"\u092A\u093E\u091A"},{number:4,value:"\u091A\u093E\u0930"},{number:3,value:"\u0924\u0940\u0928"},{number:2,value:"\u0926\u094B\u0928"},{number:1,value:"\u090F\u0915"},{number:0,value:"\u0936\u0942\u0928\u094D\u092F"}],namedLessThan1000:!0}}};id.default=td});var n0=ft(od=>{"use strict";Object.defineProperty(od,"__esModule",{value:!0});var nd=class{constructor(){this.config={currency:{name:"Real",plural:"Reais",singular:"Real",symbol:"R$",fractionalUnit:{name:"Centavo",singular:"Centavo",plural:"Centavos",symbol:""}},texts:{and:"E",minus:"Menos",only:"",point:"V\xEDrgula"},numberWordsMapping:[{number:1e15,value:"Quadrilh\xF5es"},{number:1e12,value:"Trilh\xF5es"},{number:1e9,value:"Bilh\xF5es"},{number:1e6,value:"Milh\xF5es"},{number:1e3,value:"Mil"},{number:900,value:"Novecentos"},{number:800,value:"Oitocentos"},{number:700,value:"Setecentos"},{number:600,value:"Seiscentos"},{number:500,value:"Quinhentos"},{number:400,value:"Quatrocentos"},{number:300,value:"Trezentos"},{number:200,value:"Duzentos"},{number:100,value:"Cento"},{number:90,value:"Noventa"},{number:80,value:"Oitenta"},{number:70,value:"Setenta"},{number:60,value:"Sessenta"},{number:50,value:"Cinquenta"},{number:40,value:"Quarenta"},{number:30,value:"Trinta"},{number:20,value:"Vinte"},{number:19,value:"Dezenove"},{number:18,value:"Dezoito"},{number:17,value:"Dezesete"},{number:16,value:"Dezesseis"},{number:15,value:"Quinze"},{number:14,value:"Quatorze"},{number:13,value:"Treze"},{number:12,value:"Doze"},{number:11,value:"Onze"},{number:10,value:"Dez"},{number:9,value:"Nove"},{number:8,value:"Oito"},{number:7,value:"Sete"},{number:6,value:"Seis"},{number:5,value:"Cinco"},{number:4,value:"Quatro"},{number:3,value:"Tr\xEAs"},{number:2,value:"Dois"},{number:1,value:"Um"},{number:0,value:"Zero"}],exactWordsMapping:[{number:100,value:"Cem"},{number:1e15,value:"Um Quadrilh\xE3o"},{number:1e12,value:"Um Trilh\xE3o"},{number:1e9,value:"Um Bilh\xE3o"},{number:1e6,value:"Um Milh\xE3o"}],ignoreOneForWords:["Mil","Novecentos","Oitocentos","Setecentos","Seiscentos","Quinhentos","Quatrocentos","Trezentos","Duzentos","Cento"],splitWord:"E",noSplitWordAfter:["Mil","Milh\xF5es","Bilh\xF5es","Trilh\xF5es","Quadrilh\xF5es"]}}};od.default=nd});var o0=ft(ad=>{"use strict";Object.defineProperty(ad,"__esModule",{value:!0});var rd=class{constructor(){this.config={currency:{name:"lira",plural:"",singular:"",symbol:"\u20BA",fractionalUnit:{name:"",singular:"lira",plural:"lira",symbol:""}},texts:{and:"virg\xFCl",minus:"eksi",only:"",point:"virg\xFCl"},numberWordsMapping:[{number:1e15,value:"katrilyon"},{number:1e12,value:"trilyon"},{number:1e9,value:"milyar"},{number:1e6,value:"milyon"},{number:1e3,value:"bin"},{number:900,value:"dokuz y\xFCz"},{number:800,value:"sekiz y\xFCz"},{number:700,value:"yedi y\xFCz"},{number:600,value:"alt\u0131 y\xFCz"},{number:500,value:"be\u015F y\xFCz"},{number:400,value:"d\xF6rt y\xFCz"},{number:300,value:"\xFC\xE7 y\xFCz"},{number:200,value:"iki y\xFCz"},{number:100,value:"y\xFCz"},{number:90,value:"doksan"},{number:80,value:"seksen"},{number:70,value:"yetmi\u015F"},{number:60,value:"altm\u0131\u015F"},{number:50,value:"elli"},{number:40,value:"k\u0131rk"},{number:30,value:"otuz"},{number:20,value:"yirmi"},{number:19,value:"on dokuz"},{number:18,value:"on sekiz"},{number:17,value:"on yedi"},{number:16,value:"on alt\u0131"},{number:15,value:"on be\u015F"},{number:14,value:"on d\xF6rt"},{number:13,value:"on \xFC\xE7"},{number:12,value:"on iki"},{number:11,value:"on bir"},{number:10,value:"on"},{number:9,value:"dokuz"},{number:8,value:"sekiz"},{number:7,value:"yedi"},{number:6,value:"alt\u0131"},{number:5,value:"be\u015F"},{number:4,value:"d\xF6rt"},{number:3,value:"\xFC\xE7"},{number:2,value:"iki"},{number:1,value:"bir"},{number:0,value:"s\u0131f\u0131r"}],namedLessThan1000:!0,ignoreZeroInDecimals:!0,decimalLengthWordMapping:{1:"onuncu",2:"y\xFCz\xFCnc\xFC",3:"bininci",4:"on bininci",5:"y\xFCz bininci",6:"on milyonuncu",7:"milyonuncu",8:"y\xFCz milyonuncu"}}}};ad.default=rd});var r0=ft(sd=>{"use strict";Object.defineProperty(sd,"__esModule",{value:!0});var ld=class{constructor(){this.config={currency:{name:"Surinaamse dollar",plural:"Surinaamse dollars",singular:"Surinaamse dollar",symbol:"SRD",fractionalUnit:{name:"Cent",singular:"Cent",plural:"Centen",symbol:"SRD"}},texts:{and:"En",minus:"Negatief",only:"",point:"Punt"},numberWordsMapping:[{number:1e15,value:"Biljard"},{number:1e12,value:"Biljoen"},{number:1e9,value:"Miljard"},{number:1e6,value:"Miljoen"},{number:1e3,value:"Duizend"},{number:100,value:"Honderd"},{number:99,value:"Negenennegentig"},{number:98,value:"Achtennegentig"},{number:97,value:"Zevenennegentig"},{number:96,value:"Zesennegentig"},{number:95,value:"Vijfennegentig"},{number:94,value:"Vierennegentig"},{number:93,value:"Drie\xEBnnegentig"},{number:92,value:"Twee\xEBnnegentig"},{number:91,value:"Eenennegentig"},{number:90,value:"Negentig"},{number:89,value:"Negenentachtig"},{number:88,value:"Achtentachtig"},{number:87,value:"Zevenentachtig"},{number:86,value:"Zesentachtig"},{number:85,value:"Vijfentachtig"},{number:84,value:"Vierentachtig"},{number:83,value:"Drie\xEBntachtig"},{number:82,value:"Twee\xEBntachtig"},{number:81,value:"Eenentachtig"},{number:80,value:"Tachtig"},{number:79,value:"Negenenzeventig"},{number:78,value:"Achtenzeventig"},{number:77,value:"Zevenenzeventig"},{number:76,value:"Zesenzeventig"},{number:75,value:"Vijfenzeventig"},{number:74,value:"Vierenzeventig"},{number:73,value:"Drie\xEBnzeventig"},{number:72,value:"Twee\xEBnzeventig"},{number:71,value:"Eenenzeventig"},{number:70,value:"Zeventig"},{number:69,value:"Negenenzestig"},{number:68,value:"Achtenzestig"},{number:67,value:"Zevenenzestig"},{number:66,value:"Zesenzestig"},{number:65,value:"Vijfenzestig"},{number:64,value:"Vierenzestig"},{number:63,value:"Drie\xEBnzestig"},{number:62,value:"Twee\xEBnzestig"},{number:61,value:"Eenenzestig"},{number:60,value:"Zestig"},{number:59,value:"Negenenvijftig"},{number:58,value:"Achtenvijftig"},{number:57,value:"Zevenenvijftig"},{number:56,value:"Zesenvijftig"},{number:55,value:"Vijfenvijftig"},{number:54,value:"Vierenvijftig"},{number:53,value:"Drie\xEBnvijftig"},{number:52,value:"Twee\xEBnvijftig"},{number:51,value:"Eenenvijftig"},{number:50,value:"Vijftig"},{number:49,value:"Negenenveertig"},{number:48,value:"Achtenveertig"},{number:47,value:"Zevenenveertig"},{number:46,value:"Zesenveertig"},{number:45,value:"Vijfenveertig"},{number:44,value:"Vierenveertig"},{number:43,value:"Drie\xEBnveertig"},{number:42,value:"Twee\xEBnveertig"},{number:41,value:"Eenenveertig"},{number:40,value:"Veertig"},{number:39,value:"Negenendertig"},{number:38,value:"Achtendertig"},{number:37,value:"Zevenendertig"},{number:36,value:"Zesendertig"},{number:35,value:"Vijfendertig"},{number:34,value:"Vierendertig"},{number:33,value:"Drie\xEBndertig"},{number:32,value:"Twee\xEBndertig"},{number:31,value:"Eenendertig"},{number:30,value:"Dertig"},{number:29,value:"Negenentwintig"},{number:28,value:"Achtentwintig"},{number:27,value:"Zevenentwintig"},{number:26,value:"Zesentwintig"},{number:25,value:"Vijfentwintig"},{number:24,value:"Vierentwintig"},{number:23,value:"Drie\xEBntwintig"},{number:22,value:"Twee\xEBntwintig"},{number:21,value:"Eenentwintig"},{number:20,value:"Twintig"},{number:19,value:"Negentien"},{number:18,value:"Achttien"},{number:17,value:"Zeventien"},{number:16,value:"Zestien"},{number:15,value:"Vijftien"},{number:14,value:"Veertien"},{number:13,value:"Dertien"},{number:12,value:"Twaalf"},{number:11,value:"Elf"},{number:10,value:"Tien"},{number:9,value:"Negen"},{number:8,value:"Acht"},{number:7,value:"Zeven"},{number:6,value:"Zes"},{number:5,value:"Vijf"},{number:4,value:"Vier"},{number:3,value:"Drie"},{number:2,value:"Twee"},{number:1,value:"Een"},{number:0,value:"Nul"}],exactWordsMapping:[{number:100,value:"Honderd"}]}}};sd.default=ld});var a0=ft(cd=>{"use strict";Object.defineProperty(cd,"__esModule",{value:!0});var dd=class{constructor(){this.config={currency:{name:"Euro",plural:"Eurot",singular:"Euro",symbol:"\u20AC",fractionalUnit:{name:"Sent",singular:"Sent",plural:"Senti",symbol:"\xA2"}},texts:{and:"Ja",minus:"Miinus",only:"Ainult",point:"Koma"},numberWordsMapping:[{number:1e15,value:"Kvadriljon"},{number:1e12,value:"Triljon"},{number:1e9,value:"Miljard"},{number:1e6,value:"Miljon"},{number:1e3,value:"Tuhat"},{number:900,value:"\xDCheksasada"},{number:800,value:"Kaheksasada"},{number:700,value:"Seitsesada"},{number:600,value:"Kuussada"},{number:500,value:"Viissada"},{number:400,value:"Nelisada"},{number:300,value:"Kolmsada"},{number:200,value:"Kakssada"},{number:100,value:"Sada"},{number:90,value:"\xDCheksak\xFCmmend"},{number:80,value:"Kaheksak\xFCmmend"},{number:70,value:"Seitsek\xFCmmend"},{number:60,value:"Kuusk\xFCmmend"},{number:50,value:"Viisk\xFCmmend"},{number:40,value:"Nelik\xFCmmend"},{number:30,value:"Kolmk\xFCmmend"},{number:20,value:"Kaksk\xFCmmend"},{number:19,value:"\xDCheksateist"},{number:18,value:"Kaheksateist"},{number:17,value:"Seitseteist"},{number:16,value:"Kuusteist"},{number:15,value:"Viisteist"},{number:14,value:"Neliteist"},{number:13,value:"Kolmteist"},{number:12,value:"Kaksteist"},{number:11,value:"\xDCksteist"},{number:10,value:"K\xFCmme"},{number:9,value:"\xDCheksa"},{number:8,value:"Kaheksa"},{number:7,value:"Seitse"},{number:6,value:"Kuus"},{number:5,value:"Viis"},{number:4,value:"Neli"},{number:3,value:"Kolm"},{number:2,value:"Kaks"},{number:1,value:"\xDCks"},{number:0,value:"Null"}],ignoreOneForWords:["Sada","Kakssada","Kolmsada","Nelisada","Viissada","Kuussada","Seitsesada","Kaheksasada","\xDCheksasada"],exactWordsMapping:[{number:100,value:"\xDCkssada"}],pluralWords:["Miljon","Miljard","Trillion","Kvadriljon"],pluralMark:"it",onlyInFront:!0}}};cd.default=dd});var l0=ft(md=>{"use strict";Object.defineProperty(md,"__esModule",{value:!0});var pd=class{constructor(){this.config={currency:{name:"\uC6D0",plural:"\uC6D0",symbol:"",fractionalUnit:{name:"",plural:"",symbol:""}},texts:{and:"\uD558\uACE0 ",minus:"\uB9C8\uC774\uB108\uC2A4",only:"",point:"\uC810"},trim:!0,numberWordsMapping:[{number:1e12,value:"\uC870"},{number:1e8,value:"\uC5B5"},{number:1e4,value:"\uB9CC"},{number:1e3,value:"\uCC9C"},{number:100,value:"\uBC31"},{number:90,value:"\uAD6C\uC2ED"},{number:80,value:"\uD314\uC2ED"},{number:70,value:"\uCE60\uC2ED"},{number:60,value:"\uC721\uC2ED"},{number:50,value:"\uC624\uC2ED"},{number:40,value:"\uC0AC\uC2ED"},{number:30,value:"\uC0BC\uC2ED"},{number:20,value:"\uC774\uC2ED"},{number:19,value:"\uC2ED\uAD6C"},{number:18,value:"\uC2ED\uD314"},{number:17,value:"\uC2ED\uCE60"},{number:16,value:"\uC2ED\uC721"},{number:15,value:"\uC2ED\uC624"},{number:14,value:"\uC2ED\uC0AC"},{number:13,value:"\uC2ED\uC0BC"},{number:12,value:"\uC2ED\uC774"},{number:11,value:"\uC2ED\uC77C"},{number:10,value:"\uC2ED"},{number:9,value:"\uAD6C"},{number:8,value:"\uD314"},{number:7,value:"\uCE60"},{number:6,value:"\uC721"},{number:5,value:"\uC624"},{number:4,value:"\uC0AC"},{number:3,value:"\uC0BC"},{number:2,value:"\uC774"},{number:1,value:"\uC77C"},{number:0,value:"\uC601"}]}}};md.default=pd});var s0=ft(Li=>{"use strict";var Et=Li&&Li.__importDefault||function(a){return a&&a.__esModule?a:{default:a}};Object.defineProperty(Li,"__esModule",{value:!0});Li.ToWords=Li.DefaultToWordsOptions=Li.DefaultConverterOptions=void 0;var ZI=Et(Ru()),KI=Et(ju()),JI=Et(Gu()),XI=Et(Wu()),eN=Et(Uu()),tN=Et(Hu()),iN=Et(zu()),nN=Et(qu()),oN=Et(Yu()),rN=Et($u()),aN=Et(Qu()),lN=Et(Zu()),sN=Et(Ku()),dN=Et(Ju()),cN=Et(Xu()),pN=Et(e0()),mN=Et(t0()),uN=Et(i0()),hN=Et(n0()),gN=Et(o0()),fN=Et(r0()),_N=Et(a0()),vN=Et(l0());Li.DefaultConverterOptions={currency:!1,ignoreDecimal:!1,ignoreZeroCurrency:!1,doNotAddOnly:!1};Li.DefaultToWordsOptions={localeCode:"en-IN",converterOptions:Li.DefaultConverterOptions};var ud=class{constructor(r={}){this.options={},this.locale=void 0,this.options=Object.assign({},Li.DefaultToWordsOptions,r)}getLocaleClass(){switch(this.options.localeCode){case"ee-EE":return _N.default;case"en-AE":return ZI.default;case"en-BD":return KI.default;case"en-GH":return JI.default;case"en-IE":return XI.default;case"en-IN":return eN.default;case"en-MM":return tN.default;case"en-MU":return iN.default;case"en-NG":return nN.default;case"en-NP":return oN.default;case"en-US":return rN.default;case"en-GB":return aN.default;case"en-PH":return lN.default;case"fa-IR":return sN.default;case"fr-BE":return dN.default;case"fr-FR":return cN.default;case"gu-IN":return pN.default;case"hi-IN":return mN.default;case"mr-IN":return uN.default;case"pt-BR":return hN.default;case"tr-TR":return gN.default;case"nl-SR":return fN.default;case"ko-KR":return vN.default}throw new Error(`Unknown Locale "${this.options.localeCode}"`)}getLocale(){if(this.locale===void 0){let r=this.getLocaleClass();this.locale=new r}return this.locale}convert(r,l={}){var t;if(l=Object.assign({},this.options.converterOptions,l),!this.isValidNumber(r))throw new Error(`Invalid Number "${r}"`);l.ignoreDecimal&&(r=Number.parseInt(r.toString()));let i=[];return l.currency?i=this.convertCurrency(r,l):i=this.convertNumber(r),!((t=this.locale)===null||t===void 0)&&t.config.trim?i.join(""):i.join(" ")}convertNumber(r){var l,t,i;let e=this.getLocale(),c=r<0;c&&(r=Math.abs(r));let p=r.toString().split("."),h=this.isNumberZero(r)&&e.config.ignoreZeroInDecimals,w=this.convertInternal(Number(p[0])),N=this.isFloat(r);N&&h&&(w=[]);let L=[];if(N)if(h||L.push(e.config.texts.point),p[1].startsWith("0")&&!(!((l=e.config)===null||l===void 0)&&l.decimalLengthWordMapping)){let I=[];for(let G of p[1])I.push(...this.convertInternal(Number(G)));L.push(...I)}else{L.push(...this.convertInternal(Number(p[1])));let I=(i=(t=e.config)===null||t===void 0?void 0:t.decimalLengthWordMapping)===null||i===void 0?void 0:i[p[1].length];I&&L.push(I)}return!(w.length<=0)&&c&&w.unshift(e.config.texts.minus),w.push(...L),w}convertCurrency(r,l={}){var t,i,e,c;let p=this.getLocale(),h=(t=l.currencyOptions)!==null&&t!==void 0?t:p.config.currency,w=r<0;w&&(r=Math.abs(r)),r=this.toFixed(r);let N=r.toString().split("."),L=[...this.convertInternal(Number(N[0]))];Number(N[0])===1&&h.singular?L.push(h.name):h.plural&&L.push(h.plural);let V=this.isNumberZero(r)&&(l.ignoreZeroCurrency||((i=p.config)===null||i===void 0?void 0:i.ignoreZeroInDecimals)&&r!==0);V&&(L=[]);let I=[];if(this.isFloat(r)){V||I.push(p.config.texts.and);let q=Number(N[1])*(p.config.decimalLengthWordMapping?1:Math.pow(10,2-N[1].length));I.push(...this.convertInternal(q));let de=(c=(e=p.config)===null||e===void 0?void 0:e.decimalLengthWordMapping)===null||c===void 0?void 0:c[N[1].length];de?.length&&I.push(de),q===1&&h.fractionalUnit.singular?I.push(h.fractionalUnit.singular):I.push(h.fractionalUnit.plural)}else p.config.decimalLengthWordMapping&&L.length&&I.push(h.fractionalUnit.plural);let oe=L.length<=0&&I.length<=0;return!oe&&w&&L.unshift(p.config.texts.minus),!oe&&p.config.texts.only&&!l.doNotAddOnly&&!p.config.onlyInFront&&I.push(p.config.texts.only),I.length&&L.push(...I),!oe&&!l.doNotAddOnly&&p.config.onlyInFront&&L.splice(0,0,p.config.texts.only),L}convertInternal(r){var l,t,i,e,c,p,h,w,N,L,V,I,G;let oe=this.getLocale();if(oe.config.exactWordsMapping){let Pe=(t=(l=oe.config)===null||l===void 0?void 0:l.exactWordsMapping)===null||t===void 0?void 0:t.find(Oe=>r===Oe.number);if(Pe)return[Pe.value]}let q=oe.config.numberWordsMapping.find(Pe=>r>=Pe.number),de=[];if(r<=100||r<1e3&&oe.config.namedLessThan1000)return de.push(q.value),r-=q.number,r>0&&(!((e=(i=oe.config)===null||i===void 0?void 0:i.splitWord)===null||e===void 0)&&e.length&&de.push(oe.config.splitWord),de.push(...this.convertInternal(r))),de;let xe=Math.floor(r/q.number),fe=r%q.number,ce=q.value;return xe>1&&(!((p=(c=oe.config)===null||c===void 0?void 0:c.pluralWords)===null||p===void 0)&&p.find(Pe=>Pe===q.value))&&(!((h=oe.config)===null||h===void 0)&&h.pluralMark)&&(ce+=oe.config.pluralMark),xe===1&&(!((N=(w=oe.config)===null||w===void 0?void 0:w.ignoreOneForWords)===null||N===void 0)&&N.includes(ce))?de.push(ce):de.push(...this.convertInternal(xe),ce),fe>0&&(!((V=(L=oe.config)===null||L===void 0?void 0:L.splitWord)===null||V===void 0)&&V.length&&(!((G=(I=oe.config)===null||I===void 0?void 0:I.noSplitWordAfter)===null||G===void 0)&&G.find(Pe=>Pe===q.value)||de.push(oe.config.splitWord)),de.push(...this.convertInternal(fe))),de}toFixed(r,l=2){return Number(Number(r).toFixed(l))}isFloat(r){return Number(r)===r&&r%1!==0}isValidNumber(r){return!isNaN(parseFloat(r))&&isFinite(r)}isNumberZero(r){return r>=0&&r<1}};Li.ToWords=ud});var lm=(()=>{let r=class r{constructor(t){this.router=t,this.isAuthenticated=!1,this.authSecretKey="profile",this.isAuthenticated=!!localStorage.getItem(this.authSecretKey)}login(){return localStorage.getItem(this.authSecretKey)?(this.isAuthenticated=!0,!0):!1}isAuthenticatedUser(){return this.isAuthenticated}logout(){localStorage.clear(),this.isAuthenticated=!1,this.router.navigate(["/master"])}};r.\u0275fac=function(i){return new(i||r)(Me(X))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Ll=(()=>{let r=class r{constructor(t,i){this.authService=t,this.router=i}ngOnInit(){}logout(){this.authService.logout(),this.router.navigate(["http://192.168.29.100:90/login"])}};r.\u0275fac=function(i){return new(i||r)(D(lm),D(X))},r.\u0275cmp=k({type:r,selectors:[["header-bar"]],decls:8,vars:0,consts:[[1,"header-wrapper"],[1,"logged-user-details"],["src","assets/images/icons/avatar.svg","alt",""],[3,"click"]],template:function(i,e){i&1&&(o(0,"header")(1,"div",0)(2,"div",1)(3,"p"),E(4,"img",2),n(),o(5,"p",3),g("click",function(){return e.logout()}),o(6,"span"),s(7,"Logout "),n()()()()())},styles:["header[_ngcontent-%COMP%]{height:80px;background-color:#36454f;padding:19px 15px}header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .logged-user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--white);margin-bottom:0;font-weight:600;text-align:right}header[_ngcontent-%COMP%]   .header-wrapper[_ngcontent-%COMP%]   .logged-user-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{cursor:pointer}"]});let a=r;return a})();var Bl=a=>({show:a});function tv(a,r){if(a&1){let l=O();o(0,"li",10),g("click",function(){b(l);let i=S();return y(i.onreportChange(""))}),s(1,"Report"),n()}}var Vl=(()=>{let r=class r{constructor(t){this.router=t,this.selectedAccordion="master"}ngOnInit(){this.selectedAccordion=window.location.pathname.includes("/master/")?"master":window.location.pathname.includes("/transaction/")?"transactions":"report"}securityGroups(t){}onMasterChange(t){t==="customer"?this.router.navigate(["/master/customer"]):t==="vehicle"?this.router.navigate(["/master/vehicle"]):t==="freight"?this.router.navigate(["/master/freight"]):t==="advice"?this.router.navigate(["/master/advice"]):t==="vendor"?this.router.navigate(["/master/vendor"]):t==="bank"?this.router.navigate(["/master/bank"]):t==="transporter"?this.router.navigate(["/master/transporter"]):t==="pointCharge"?this.router.navigate(["/master/pointCharge"]):t==="lookup"?this.router.navigate(["/master/lookup"]):t==="recycleBin"?this.router.navigate(["/master/recycleBinPlantConfiguration"]):t==="lookupType"&&this.router.navigate(["/master/lookupType"])}onTransactionChange(t){t==="dispatchNote"?this.router.navigate(["/transaction/VendorInvoiceTxn"]):t==="dispatchNote1"?this.router.navigate(["/transaction/SalesInvoiceTxn"]):t==="pointMasterAccounts"?this.router.navigate(["/transaction/paymentManagements"]):t==="bilti"?this.router.navigate(["/transaction/paymentManagement"]):t==="biltiBillProcessView"?this.router.navigate(["/transaction/biltiBillProcessView"]):t==="pointMasterMaterial"?this.router.navigate(["/transaction/pointMasterMaterial"]):t==="freightMasterAccounts"?this.router.navigate(["/transaction/freightMasterAccounts"]):t==="freightMasterMaterial"?this.router.navigate(["/transaction/freightMasterMaterial"]):t==="freightMasterMaterial"?this.router.navigate(["/transaction/freightMasterMaterial"]):t==="checkedMaterialsTeam"?this.router.navigate(["/transaction/checkedMaterialsTeam"]):t==="approvalMaterialHead"?this.router.navigate(["/transaction/approvalMaterialHead"]):t==="approvalAccounts"?this.router.navigate(["/transaction/approvalAccounts"]):t==="changeBiltiStatus"?this.router.navigate(["/transaction/changeBiltiStatus"]):t==="apOutbound"?this.router.navigate(["/transaction/apOutbound"]):t==="glAccrualPosting"&&this.router.navigate(["/transaction/glAccrual-posting"])}onreportChange(t){t==="rejection-bilti-detail-report"?this.router.navigate(["/report/rejection-bilti-detail"]):t==="provision-report"?this.router.navigate(["/report/provision"]):t==="error-logging-report"?this.router.navigate(["/report/error-logging"]):t==="debit-note-report"?this.router.navigate(["/report/debit-note"]):t==="adhoc-report"?this.router.navigate(["/report/adhoc-report"]):t==="processing-report"&&this.router.navigate(["/report/processed-report"])}hasPermission(t){let i=localStorage.getItem("profile"),e=JSON.parse(i);return e&&e.permissions?e.permissions.some(c=>c.startsWith(t)):!1}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["side-bar"]],decls:45,vars:10,consts:[[1,"left-sidebar"],[1,"brand-logo"],["src","assets/images/EnnobleNewLogo.jpg","alt","","width","80px"],[1,"left-sidebar-inner"],["id","sidebarAccordion",1,"accordion"],[1,"accordion-item"],["id","masterHeading",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseMasters","aria-expanded","true","aria-controls","collapseMasters",1,"accordion-button"],["id","collapseMasters","aria-labelledby","masterHeading","data-bs-parent","#sidebarAccordion",1,"accordion-collapse","collapse",3,"ngClass"],[1,"accordion-body"],[3,"click"],["id","transactionsHeading",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapseTransactions","aria-expanded","false","aria-controls","collapseTransactions",1,"accordion-button","collapsed"],["id","collapseTransactions","aria-labelledby","transactionsHeading","data-bs-parent","#sidebarAccordion",1,"accordion-collapse","collapse",3,"ngClass"],["id","reportsHeading",1,"accordion-header"],["type","button","data-bs-toggle","collapse","data-bs-target","#collapsereports","aria-expanded","false","aria-controls","collapsereports",1,"accordion-button","collapsed"],["id","collapsereports","aria-labelledby","reportsHeading","data-bs-parent","#sidebarAccordion",1,"accordion-collapse","collapse",3,"ngClass"],[3,"click",4,"ngIf"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),E(2,"img",2),n(),o(3,"div",3)(4,"div",4)(5,"div",5)(6,"h2",6)(7,"button",7),s(8," Reference Data "),n()(),o(9,"div",8)(10,"div",9)(11,"ul")(12,"li",10),g("click",function(){return e.onMasterChange("lookupType")}),s(13,"MasterType"),n(),o(14,"li",10),g("click",function(){return e.onMasterChange("lookup")}),s(15,"MasterData "),n(),o(16,"li",10),g("click",function(){return e.onMasterChange("customer")}),s(17,"Customer Master"),n(),o(18,"li",10),g("click",function(){return e.onMasterChange("vendor")}),s(19,"Vendor Master"),n(),o(20,"li",10),g("click",function(){return e.onMasterChange("bank")}),s(21,"Bank Master"),n()()()()(),o(22,"div",5)(23,"h2",11)(24,"button",12),s(25," Processes "),n()(),o(26,"div",13)(27,"div",9)(28,"ul")(29,"li",10),g("click",function(){return e.onTransactionChange("dispatchNote")}),s(30,"Vendor Invoice Management"),n(),o(31,"li",10),g("click",function(){return e.onTransactionChange("bilti")}),s(32,"Payment Management"),n(),o(33,"li",10),g("click",function(){return e.onTransactionChange("dispatchNote1")}),s(34,"Sale Invoice Management"),n()()()()(),o(35,"div",5)(36,"h2",14)(37,"button",15),s(38," Reporting "),n()(),o(39,"div",16)(40,"div",9)(41,"ul"),v(42,tv,2,0,"li",17),o(43,"li",10),g("click",function(){return e.onreportChange("error-logging-report")}),s(44,"Error Logging Report"),n()()()()()()()()),i&2&&(d(9),m("ngClass",ge(4,Bl,e.selectedAccordion=="master")),d(17),m("ngClass",ge(6,Bl,e.selectedAccordion=="transactions")),d(13),m("ngClass",ge(8,Bl,e.selectedAccordion=="report")),d(3),m("ngIf",e.securityGroups("MFG_REPORT_PROCESSED_REPORT")))},dependencies:[ae,z],styles:[".left-sidebar[_ngcontent-%COMP%]{padding:var(--spacer-20) var(--spacer-10);width:250px;min-width:250px;margin-top:-55px;background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;min-height:calc(100vh - 36px)}.left-sidebar[_ngcontent-%COMP%]   .brand-logo[_ngcontent-%COMP%]{text-align:center;margin-bottom:var(--spacer-20)}.left-sidebar[_ngcontent-%COMP%]   .left-sidebar-inner[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border:none}.left-sidebar[_ngcontent-%COMP%]   .left-sidebar-inner[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:transparent;padding:var(--spacer-15) 0;box-shadow:none;font-weight:600}.left-sidebar[_ngcontent-%COMP%]   .left-sidebar-inner[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]{padding:0 var(--spacer-10)}.left-sidebar[_ngcontent-%COMP%]   .left-sidebar-inner[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0}.left-sidebar[_ngcontent-%COMP%]   .left-sidebar-inner[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:7px 0;cursor:pointer}.left-sidebar[_ngcontent-%COMP%]   .left-sidebar-inner[_ngcontent-%COMP%]   .accordion[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-body[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{padding-top:0}"]});let a=r;return a})();var sm=(()=>{let r=class r{constructor(t,i){this.lookupService=t,this.baseService=i,this.loadSpinner=!1}ngOnInit(){this.baseService.plantSpinner.subscribe(t=>{this.loadSpinner=t}),this.baseService.vendorSpinner.subscribe(t=>{this.loadSpinner=t}),this.baseService.lookupSpinner.subscribe(t=>{this.loadSpinner=t})}};r.\u0275fac=function(i){return new(i||r)(D(ye),D(Ve))},r.\u0275cmp=k({type:r,selectors:[["ng-component"]],decls:6,vars:0,consts:[[1,"main-wrapper"],[1,"main-article-wrapper"],[1,"right-article-section"]],template:function(i,e){i&1&&(o(0,"main",0),E(1,"header-bar"),o(2,"div",1),E(3,"side-bar"),o(4,"div",2),E(5,"router-outlet"),n()()())},dependencies:[Ll,Vl,Hc],styles:[".main-wrapper[_ngcontent-%COMP%]   header[_ngcontent-%COMP%]{height:80px;background-color:var(--primaryColor)}.main-wrapper[_ngcontent-%COMP%]   .main-article-wrapper[_ngcontent-%COMP%]{display:flex;padding:0 15px;height:calc(100vh - 115px);column-gap:20px}.main-wrapper[_ngcontent-%COMP%]   .main-article-wrapper[_ngcontent-%COMP%]   .right-article-section[_ngcontent-%COMP%]{padding:20px 0;width:calc(100% - 260px)}"]});let a=r;return a})();var On=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getPlants(t,i=0,e=this.maxCount){return this.post(Qc(i,e),t)}getPlantData(t){return this.get(j.plantData+t)}updatePlant(t,i){return this.put(j.updatePlant+t,i)}getLocationsLookup(t,i){return this.post(Ut(i),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var io=(()=>{let r=class r{constructor(t){this.exportAsService=t,this.exportAsConfig={type:"csv",elementIdOrContent:"exportableTable"}}csvExport(t){this.exportAsService.save(this.exportAsConfig,t).subscribe(()=>{})}};r.\u0275fac=function(i){return new(i||r)(Me(ha))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Je=(()=>{let r=class r{constructor(){}xlsxExport(t=[],i=[],e="Download Template"){let c=Yi.book_new(),p=Yi.json_to_sheet(t,{skipHeader:!0});Yi.sheet_add_aoa(p,[i],{origin:"A1"}),t.forEach((h,w)=>{let N=w+2;Yi.sheet_add_aoa(p,[Object.values(h)],{origin:`A${N}`})}),Yi.book_append_sheet(c,p,"Sheet"),Ol(c,`${e}.csv`)}xlsxMultipleExport(t,i="Download Template"){let e=Yi.book_new();for(let[c,{rows:p,headers:h}]of Object.entries(t)){let w=Yi.json_to_sheet(p,{skipHeader:!0});Yi.sheet_add_aoa(w,[h],{origin:"A1"}),p.forEach((N,L)=>{let V=L+2;Yi.sheet_add_aoa(w,[Object.values(N)],{origin:`A${V}`})}),Yi.book_append_sheet(e,w,c)}Ol(e,`${i}.xlsx`)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function br(a){a||(Pc(br),a=ne(ra));let r=new gn(l=>a.onDestroy(l.next.bind(l)));return l=>l.pipe(xt(r))}var kt="top",Zt="bottom",zt="right",Lt="left",ba="auto",Ln=[kt,Zt,zt,Lt],yn="start",no="end",dm="clippingParents",ya="viewport",Ao="popper",cm="reference",Rl=Ln.reduce(function(a,r){return a.concat([r+"-"+yn,r+"-"+no])},[]),Ca=[].concat(Ln,[ba]).reduce(function(a,r){return a.concat([r,r+"-"+yn,r+"-"+no])},[]),ov="beforeRead",rv="read",av="afterRead",lv="beforeMain",sv="main",dv="afterMain",cv="beforeWrite",pv="write",mv="afterWrite",pm=[ov,rv,av,lv,sv,dv,cv,pv,mv];function qt(a){return a?(a.nodeName||"").toLowerCase():null}function Ct(a){if(a==null)return window;if(a.toString()!=="[object Window]"){var r=a.ownerDocument;return r&&r.defaultView||window}return a}function Mi(a){var r=Ct(a).Element;return a instanceof r||a instanceof Element}function Bt(a){var r=Ct(a).HTMLElement;return a instanceof r||a instanceof HTMLElement}function Oo(a){if(typeof ShadowRoot>"u")return!1;var r=Ct(a).ShadowRoot;return a instanceof r||a instanceof ShadowRoot}function uv(a){var r=a.state;Object.keys(r.elements).forEach(function(l){var t=r.styles[l]||{},i=r.attributes[l]||{},e=r.elements[l];!Bt(e)||!qt(e)||(Object.assign(e.style,t),Object.keys(i).forEach(function(c){var p=i[c];p===!1?e.removeAttribute(c):e.setAttribute(c,p===!0?"":p)}))})}function hv(a){var r=a.state,l={popper:{position:r.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(r.elements.popper.style,l.popper),r.styles=l,r.elements.arrow&&Object.assign(r.elements.arrow.style,l.arrow),function(){Object.keys(r.elements).forEach(function(t){var i=r.elements[t],e=r.attributes[t]||{},c=Object.keys(r.styles.hasOwnProperty(t)?r.styles[t]:l[t]),p=c.reduce(function(h,w){return h[w]="",h},{});!Bt(i)||!qt(i)||(Object.assign(i.style,p),Object.keys(e).forEach(function(h){i.removeAttribute(h)}))})}}var mm={name:"applyStyles",enabled:!0,phase:"write",fn:uv,effect:hv,requires:["computeStyles"]};function Yt(a){return a.split("-")[0]}var $i=Math.max,oo=Math.min,Cn=Math.round;function Lo(){var a=navigator.userAgentData;return a!=null&&a.brands&&Array.isArray(a.brands)?a.brands.map(function(r){return r.brand+"/"+r.version}).join(" "):navigator.userAgent}function yr(){return!/^((?!chrome|android).)*safari/i.test(Lo())}function Pi(a,r,l){r===void 0&&(r=!1),l===void 0&&(l=!1);var t=a.getBoundingClientRect(),i=1,e=1;r&&Bt(a)&&(i=a.offsetWidth>0&&Cn(t.width)/a.offsetWidth||1,e=a.offsetHeight>0&&Cn(t.height)/a.offsetHeight||1);var c=Mi(a)?Ct(a):window,p=c.visualViewport,h=!yr()&&l,w=(t.left+(h&&p?p.offsetLeft:0))/i,N=(t.top+(h&&p?p.offsetTop:0))/e,L=t.width/i,V=t.height/e;return{width:L,height:V,top:N,right:w+L,bottom:N+V,left:w,x:w,y:N}}function ro(a){var r=Pi(a),l=a.offsetWidth,t=a.offsetHeight;return Math.abs(r.width-l)<=1&&(l=r.width),Math.abs(r.height-t)<=1&&(t=r.height),{x:a.offsetLeft,y:a.offsetTop,width:l,height:t}}function Cr(a,r){var l=r.getRootNode&&r.getRootNode();if(a.contains(r))return!0;if(l&&Oo(l)){var t=r;do{if(t&&a.isSameNode(t))return!0;t=t.parentNode||t.host}while(t)}return!1}function mi(a){return Ct(a).getComputedStyle(a)}function jl(a){return["table","td","th"].indexOf(qt(a))>=0}function Kt(a){return((Mi(a)?a.ownerDocument:a.document)||window.document).documentElement}function Sn(a){return qt(a)==="html"?a:a.assignedSlot||a.parentNode||(Oo(a)?a.host:null)||Kt(a)}function um(a){return!Bt(a)||mi(a).position==="fixed"?null:a.offsetParent}function gv(a){var r=/firefox/i.test(Lo()),l=/Trident/i.test(Lo());if(l&&Bt(a)){var t=mi(a);if(t.position==="fixed")return null}var i=Sn(a);for(Oo(i)&&(i=i.host);Bt(i)&&["html","body"].indexOf(qt(i))<0;){var e=mi(i);if(e.transform!=="none"||e.perspective!=="none"||e.contain==="paint"||["transform","perspective"].indexOf(e.willChange)!==-1||r&&e.willChange==="filter"||r&&e.filter&&e.filter!=="none")return i;i=i.parentNode}return null}function Qi(a){for(var r=Ct(a),l=um(a);l&&jl(l)&&mi(l).position==="static";)l=um(l);return l&&(qt(l)==="html"||qt(l)==="body"&&mi(l).position==="static")?r:l||gv(a)||r}function ao(a){return["top","bottom"].indexOf(a)>=0?"x":"y"}function lo(a,r,l){return $i(a,oo(r,l))}function hm(a,r,l){var t=lo(a,r,l);return t>l?l:t}function Sr(){return{top:0,right:0,bottom:0,left:0}}function xr(a){return Object.assign({},Sr(),a)}function Dr(a,r){return r.reduce(function(l,t){return l[t]=a,l},{})}var fv=function(r,l){return r=typeof r=="function"?r(Object.assign({},l.rects,{placement:l.placement})):r,xr(typeof r!="number"?r:Dr(r,Ln))};function _v(a){var r,l=a.state,t=a.name,i=a.options,e=l.elements.arrow,c=l.modifiersData.popperOffsets,p=Yt(l.placement),h=ao(p),w=[Lt,zt].indexOf(p)>=0,N=w?"height":"width";if(!(!e||!c)){var L=fv(i.padding,l),V=ro(e),I=h==="y"?kt:Lt,G=h==="y"?Zt:zt,oe=l.rects.reference[N]+l.rects.reference[h]-c[h]-l.rects.popper[N],q=c[h]-l.rects.reference[h],de=Qi(e),xe=de?h==="y"?de.clientHeight||0:de.clientWidth||0:0,fe=oe/2-q/2,ce=L[I],Pe=xe-V[N]-L[G],Oe=xe/2-V[N]/2+fe,He=lo(ce,Oe,Pe),Re=h;l.modifiersData[t]=(r={},r[Re]=He,r.centerOffset=He-Oe,r)}}function vv(a){var r=a.state,l=a.options,t=l.element,i=t===void 0?"[data-popper-arrow]":t;i!=null&&(typeof i=="string"&&(i=r.elements.popper.querySelector(i),!i)||Cr(r.elements.popper,i)&&(r.elements.arrow=i))}var Gl={name:"arrow",enabled:!0,phase:"main",fn:_v,effect:vv,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function ki(a){return a.split("-")[1]}var bv={top:"auto",right:"auto",bottom:"auto",left:"auto"};function yv(a,r){var l=a.x,t=a.y,i=r.devicePixelRatio||1;return{x:Cn(l*i)/i||0,y:Cn(t*i)/i||0}}function gm(a){var r,l=a.popper,t=a.popperRect,i=a.placement,e=a.variation,c=a.offsets,p=a.position,h=a.gpuAcceleration,w=a.adaptive,N=a.roundOffsets,L=a.isFixed,V=c.x,I=V===void 0?0:V,G=c.y,oe=G===void 0?0:G,q=typeof N=="function"?N({x:I,y:oe}):{x:I,y:oe};I=q.x,oe=q.y;var de=c.hasOwnProperty("x"),xe=c.hasOwnProperty("y"),fe=Lt,ce=kt,Pe=window;if(w){var Oe=Qi(l),He="clientHeight",Re="clientWidth";if(Oe===Ct(l)&&(Oe=Kt(l),mi(Oe).position!=="static"&&p==="absolute"&&(He="scrollHeight",Re="scrollWidth")),Oe=Oe,i===kt||(i===Lt||i===zt)&&e===no){ce=Zt;var lt=L&&Oe===Pe&&Pe.visualViewport?Pe.visualViewport.height:Oe[He];oe-=lt-t.height,oe*=h?1:-1}if(i===Lt||(i===kt||i===Zt)&&e===no){fe=zt;var ct=L&&Oe===Pe&&Pe.visualViewport?Pe.visualViewport.width:Oe[Re];I-=ct-t.width,I*=h?1:-1}}var rt=Object.assign({position:p},w&&bv),Vt=N===!0?yv({x:I,y:oe},Ct(l)):{x:I,y:oe};if(I=Vt.x,oe=Vt.y,h){var vt;return Object.assign({},rt,(vt={},vt[ce]=xe?"0":"",vt[fe]=de?"0":"",vt.transform=(Pe.devicePixelRatio||1)<=1?"translate("+I+"px, "+oe+"px)":"translate3d("+I+"px, "+oe+"px, 0)",vt))}return Object.assign({},rt,(r={},r[ce]=xe?oe+"px":"",r[fe]=de?I+"px":"",r.transform="",r))}function Cv(a){var r=a.state,l=a.options,t=l.gpuAcceleration,i=t===void 0?!0:t,e=l.adaptive,c=e===void 0?!0:e,p=l.roundOffsets,h=p===void 0?!0:p,w={placement:Yt(r.placement),variation:ki(r.placement),popper:r.elements.popper,popperRect:r.rects.popper,gpuAcceleration:i,isFixed:r.options.strategy==="fixed"};r.modifiersData.popperOffsets!=null&&(r.styles.popper=Object.assign({},r.styles.popper,gm(Object.assign({},w,{offsets:r.modifiersData.popperOffsets,position:r.options.strategy,adaptive:c,roundOffsets:h})))),r.modifiersData.arrow!=null&&(r.styles.arrow=Object.assign({},r.styles.arrow,gm(Object.assign({},w,{offsets:r.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:h})))),r.attributes.popper=Object.assign({},r.attributes.popper,{"data-popper-placement":r.placement})}var fm={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Cv,data:{}};var Sa={passive:!0};function Sv(a){var r=a.state,l=a.instance,t=a.options,i=t.scroll,e=i===void 0?!0:i,c=t.resize,p=c===void 0?!0:c,h=Ct(r.elements.popper),w=[].concat(r.scrollParents.reference,r.scrollParents.popper);return e&&w.forEach(function(N){N.addEventListener("scroll",l.update,Sa)}),p&&h.addEventListener("resize",l.update,Sa),function(){e&&w.forEach(function(N){N.removeEventListener("scroll",l.update,Sa)}),p&&h.removeEventListener("resize",l.update,Sa)}}var _m={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Sv,data:{}};var xv={left:"right",right:"left",bottom:"top",top:"bottom"};function Bo(a){return a.replace(/left|right|bottom|top/g,function(r){return xv[r]})}var Dv={start:"end",end:"start"};function xa(a){return a.replace(/start|end/g,function(r){return Dv[r]})}function so(a){var r=Ct(a),l=r.pageXOffset,t=r.pageYOffset;return{scrollLeft:l,scrollTop:t}}function co(a){return Pi(Kt(a)).left+so(a).scrollLeft}function Wl(a,r){var l=Ct(a),t=Kt(a),i=l.visualViewport,e=t.clientWidth,c=t.clientHeight,p=0,h=0;if(i){e=i.width,c=i.height;var w=yr();(w||!w&&r==="fixed")&&(p=i.offsetLeft,h=i.offsetTop)}return{width:e,height:c,x:p+co(a),y:h}}function Ul(a){var r,l=Kt(a),t=so(a),i=(r=a.ownerDocument)==null?void 0:r.body,e=$i(l.scrollWidth,l.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),c=$i(l.scrollHeight,l.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),p=-t.scrollLeft+co(a),h=-t.scrollTop;return mi(i||l).direction==="rtl"&&(p+=$i(l.clientWidth,i?i.clientWidth:0)-e),{width:e,height:c,x:p,y:h}}function po(a){var r=mi(a),l=r.overflow,t=r.overflowX,i=r.overflowY;return/auto|scroll|overlay|hidden/.test(l+i+t)}function Da(a){return["html","body","#document"].indexOf(qt(a))>=0?a.ownerDocument.body:Bt(a)&&po(a)?a:Da(Sn(a))}function Bn(a,r){var l;r===void 0&&(r=[]);var t=Da(a),i=t===((l=a.ownerDocument)==null?void 0:l.body),e=Ct(t),c=i?[e].concat(e.visualViewport||[],po(t)?t:[]):t,p=r.concat(c);return i?p:p.concat(Bn(Sn(c)))}function Vo(a){return Object.assign({},a,{left:a.x,top:a.y,right:a.x+a.width,bottom:a.y+a.height})}function Ev(a,r){var l=Pi(a,!1,r==="fixed");return l.top=l.top+a.clientTop,l.left=l.left+a.clientLeft,l.bottom=l.top+a.clientHeight,l.right=l.left+a.clientWidth,l.width=a.clientWidth,l.height=a.clientHeight,l.x=l.left,l.y=l.top,l}function vm(a,r,l){return r===ya?Vo(Wl(a,l)):Mi(r)?Ev(r,l):Vo(Ul(Kt(a)))}function Tv(a){var r=Bn(Sn(a)),l=["absolute","fixed"].indexOf(mi(a).position)>=0,t=l&&Bt(a)?Qi(a):a;return Mi(t)?r.filter(function(i){return Mi(i)&&Cr(i,t)&&qt(i)!=="body"}):[]}function Hl(a,r,l,t){var i=r==="clippingParents"?Tv(a):[].concat(r),e=[].concat(i,[l]),c=e[0],p=e.reduce(function(h,w){var N=vm(a,w,t);return h.top=$i(N.top,h.top),h.right=oo(N.right,h.right),h.bottom=oo(N.bottom,h.bottom),h.left=$i(N.left,h.left),h},vm(a,c,t));return p.width=p.right-p.left,p.height=p.bottom-p.top,p.x=p.left,p.y=p.top,p}function Er(a){var r=a.reference,l=a.element,t=a.placement,i=t?Yt(t):null,e=t?ki(t):null,c=r.x+r.width/2-l.width/2,p=r.y+r.height/2-l.height/2,h;switch(i){case kt:h={x:c,y:r.y-l.height};break;case Zt:h={x:c,y:r.y+r.height};break;case zt:h={x:r.x+r.width,y:p};break;case Lt:h={x:r.x-l.width,y:p};break;default:h={x:r.x,y:r.y}}var w=i?ao(i):null;if(w!=null){var N=w==="y"?"height":"width";switch(e){case yn:h[w]=h[w]-(r[N]/2-l[N]/2);break;case no:h[w]=h[w]+(r[N]/2-l[N]/2);break;default:}}return h}function Vn(a,r){r===void 0&&(r={});var l=r,t=l.placement,i=t===void 0?a.placement:t,e=l.strategy,c=e===void 0?a.strategy:e,p=l.boundary,h=p===void 0?dm:p,w=l.rootBoundary,N=w===void 0?ya:w,L=l.elementContext,V=L===void 0?Ao:L,I=l.altBoundary,G=I===void 0?!1:I,oe=l.padding,q=oe===void 0?0:oe,de=xr(typeof q!="number"?q:Dr(q,Ln)),xe=V===Ao?cm:Ao,fe=a.rects.popper,ce=a.elements[G?xe:V],Pe=Hl(Mi(ce)?ce:ce.contextElement||Kt(a.elements.popper),h,N,c),Oe=Pi(a.elements.reference),He=Er({reference:Oe,element:fe,strategy:"absolute",placement:i}),Re=Vo(Object.assign({},fe,He)),lt=V===Ao?Re:Oe,ct={top:Pe.top-lt.top+de.top,bottom:lt.bottom-Pe.bottom+de.bottom,left:Pe.left-lt.left+de.left,right:lt.right-Pe.right+de.right},rt=a.modifiersData.offset;if(V===Ao&&rt){var Vt=rt[i];Object.keys(ct).forEach(function(vt){var Ri=[zt,Zt].indexOf(vt)>=0?1:-1,ji=[kt,Zt].indexOf(vt)>=0?"y":"x";ct[vt]+=Vt[ji]*Ri})}return ct}function zl(a,r){r===void 0&&(r={});var l=r,t=l.placement,i=l.boundary,e=l.rootBoundary,c=l.padding,p=l.flipVariations,h=l.allowedAutoPlacements,w=h===void 0?Ca:h,N=ki(t),L=N?p?Rl:Rl.filter(function(G){return ki(G)===N}):Ln,V=L.filter(function(G){return w.indexOf(G)>=0});V.length===0&&(V=L);var I=V.reduce(function(G,oe){return G[oe]=Vn(a,{placement:oe,boundary:i,rootBoundary:e,padding:c})[Yt(oe)],G},{});return Object.keys(I).sort(function(G,oe){return I[G]-I[oe]})}function wv(a){if(Yt(a)===ba)return[];var r=Bo(a);return[xa(a),r,xa(r)]}function Iv(a){var r=a.state,l=a.options,t=a.name;if(!r.modifiersData[t]._skip){for(var i=l.mainAxis,e=i===void 0?!0:i,c=l.altAxis,p=c===void 0?!0:c,h=l.fallbackPlacements,w=l.padding,N=l.boundary,L=l.rootBoundary,V=l.altBoundary,I=l.flipVariations,G=I===void 0?!0:I,oe=l.allowedAutoPlacements,q=r.options.placement,de=Yt(q),xe=de===q,fe=h||(xe||!G?[Bo(q)]:wv(q)),ce=[q].concat(fe).reduce(function(In,Ji){return In.concat(Yt(Ji)===ba?zl(r,{placement:Ji,boundary:N,rootBoundary:L,padding:w,flipVariations:G,allowedAutoPlacements:oe}):Ji)},[]),Pe=r.rects.reference,Oe=r.rects.popper,He=new Map,Re=!0,lt=ce[0],ct=0;ct<ce.length;ct++){var rt=ce[ct],Vt=Yt(rt),vt=ki(rt)===yn,Ri=[kt,Zt].indexOf(Vt)>=0,ji=Ri?"width":"height",ai=Vn(r,{placement:rt,boundary:N,rootBoundary:L,altBoundary:V,padding:w}),Ci=Ri?vt?zt:Lt:vt?Zt:kt;Pe[ji]>Oe[ji]&&(Ci=Bo(Ci));var li=Bo(Ci),Gi=[];if(e&&Gi.push(ai[Vt]<=0),p&&Gi.push(ai[Ci]<=0,ai[li]<=0),Gi.every(function(In){return In})){lt=rt,Re=!1;break}He.set(rt,Gi)}if(Re)for(var on=G?3:1,qn=function(Ji){var Xi=ce.find(function(Yn){var rn=He.get(Yn);if(rn)return rn.slice(0,Ji).every(function(Yo){return Yo})});if(Xi)return lt=Xi,"break"},Di=on;Di>0;Di--){var ke=qn(Di);if(ke==="break")break}r.placement!==lt&&(r.modifiersData[t]._skip=!0,r.placement=lt,r.reset=!0)}}var ql={name:"flip",enabled:!0,phase:"main",fn:Iv,requiresIfExists:["offset"],data:{_skip:!1}};function Nv(a,r,l){var t=Yt(a),i=[Lt,kt].indexOf(t)>=0?-1:1,e=typeof l=="function"?l(Object.assign({},r,{placement:a})):l,c=e[0],p=e[1];return c=c||0,p=(p||0)*i,[Lt,zt].indexOf(t)>=0?{x:p,y:c}:{x:c,y:p}}function Fv(a){var r=a.state,l=a.options,t=a.name,i=l.offset,e=i===void 0?[0,0]:i,c=Ca.reduce(function(N,L){return N[L]=Nv(L,r.rects,e),N},{}),p=c[r.placement],h=p.x,w=p.y;r.modifiersData.popperOffsets!=null&&(r.modifiersData.popperOffsets.x+=h,r.modifiersData.popperOffsets.y+=w),r.modifiersData[t]=c}var Yl={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Fv};function Mv(a){var r=a.state,l=a.name;r.modifiersData[l]=Er({reference:r.rects.reference,element:r.rects.popper,strategy:"absolute",placement:r.placement})}var bm={name:"popperOffsets",enabled:!0,phase:"read",fn:Mv,data:{}};function $l(a){return a==="x"?"y":"x"}function Pv(a){var r=a.state,l=a.options,t=a.name,i=l.mainAxis,e=i===void 0?!0:i,c=l.altAxis,p=c===void 0?!1:c,h=l.boundary,w=l.rootBoundary,N=l.altBoundary,L=l.padding,V=l.tether,I=V===void 0?!0:V,G=l.tetherOffset,oe=G===void 0?0:G,q=Vn(r,{boundary:h,rootBoundary:w,padding:L,altBoundary:N}),de=Yt(r.placement),xe=ki(r.placement),fe=!xe,ce=ao(de),Pe=$l(ce),Oe=r.modifiersData.popperOffsets,He=r.rects.reference,Re=r.rects.popper,lt=typeof oe=="function"?oe(Object.assign({},r.rects,{placement:r.placement})):oe,ct=typeof lt=="number"?{mainAxis:lt,altAxis:lt}:Object.assign({mainAxis:0,altAxis:0},lt),rt=r.modifiersData.offset?r.modifiersData.offset[r.placement]:null,Vt={x:0,y:0};if(Oe){if(e){var vt,Ri=ce==="y"?kt:Lt,ji=ce==="y"?Zt:zt,ai=ce==="y"?"height":"width",Ci=Oe[ce],li=Ci+q[Ri],Gi=Ci-q[ji],on=I?-Re[ai]/2:0,qn=xe===yn?He[ai]:Re[ai],Di=xe===yn?-Re[ai]:-He[ai],ke=r.elements.arrow,In=I&&ke?ro(ke):{width:0,height:0},Ji=r.modifiersData["arrow#persistent"]?r.modifiersData["arrow#persistent"].padding:Sr(),Xi=Ji[Ri],Yn=Ji[ji],rn=lo(0,He[ai],In[ai]),Yo=fe?He[ai]/2-on-rn-Xi-ct.mainAxis:qn-rn-Xi-ct.mainAxis,il=fe?-He[ai]/2+on+rn+Yn+ct.mainAxis:Di+rn+Yn+ct.mainAxis,$o=r.elements.arrow&&Qi(r.elements.arrow),nl=$o?ce==="y"?$o.clientTop||0:$o.clientLeft||0:0,kr=(vt=rt?.[ce])!=null?vt:0,ol=Ci+Yo-kr-nl,rl=Ci+il-kr,Ar=lo(I?oo(li,ol):li,Ci,I?$i(Gi,rl):Gi);Oe[ce]=Ar,Vt[ce]=Ar-Ci}if(p){var Or,Lr=ce==="x"?kt:Lt,hi=ce==="x"?Zt:zt,Wi=Oe[Pe],go=Pe==="y"?"height":"width",Br=Wi+q[Lr],Qo=Wi-q[hi],Qt=[kt,Lt].indexOf(de)!==-1,Zo=(Or=rt?.[Pe])!=null?Or:0,fo=Qt?Br:Wi-He[go]-Re[go]-Zo+ct.altAxis,$n=Qt?Wi+He[go]+Re[go]-Zo-ct.altAxis:Qo,st=I&&Qt?hm(fo,Wi,$n):lo(I?fo:Br,Wi,I?$n:Qo);Oe[Pe]=st,Vt[Pe]=st-Wi}r.modifiersData[t]=Vt}}var Ql={name:"preventOverflow",enabled:!0,phase:"main",fn:Pv,requiresIfExists:["offset"]};function Zl(a){return{scrollLeft:a.scrollLeft,scrollTop:a.scrollTop}}function Kl(a){return a===Ct(a)||!Bt(a)?so(a):Zl(a)}function kv(a){var r=a.getBoundingClientRect(),l=Cn(r.width)/a.offsetWidth||1,t=Cn(r.height)/a.offsetHeight||1;return l!==1||t!==1}function Jl(a,r,l){l===void 0&&(l=!1);var t=Bt(r),i=Bt(r)&&kv(r),e=Kt(r),c=Pi(a,i,l),p={scrollLeft:0,scrollTop:0},h={x:0,y:0};return(t||!t&&!l)&&((qt(r)!=="body"||po(e))&&(p=Kl(r)),Bt(r)?(h=Pi(r,!0),h.x+=r.clientLeft,h.y+=r.clientTop):e&&(h.x=co(e))),{x:c.left+p.scrollLeft-h.x,y:c.top+p.scrollTop-h.y,width:c.width,height:c.height}}function Av(a){var r=new Map,l=new Set,t=[];a.forEach(function(e){r.set(e.name,e)});function i(e){l.add(e.name);var c=[].concat(e.requires||[],e.requiresIfExists||[]);c.forEach(function(p){if(!l.has(p)){var h=r.get(p);h&&i(h)}}),t.push(e)}return a.forEach(function(e){l.has(e.name)||i(e)}),t}function Xl(a){var r=Av(a);return pm.reduce(function(l,t){return l.concat(r.filter(function(i){return i.phase===t}))},[])}function es(a){var r;return function(){return r||(r=new Promise(function(l){Promise.resolve().then(function(){r=void 0,l(a())})})),r}}function ts(a){var r=a.reduce(function(l,t){var i=l[t.name];return l[t.name]=i?Object.assign({},i,t,{options:Object.assign({},i.options,t.options),data:Object.assign({},i.data,t.data)}):t,l},{});return Object.keys(r).map(function(l){return r[l]})}var ym={placement:"bottom",modifiers:[],strategy:"absolute"};function Cm(){for(var a=arguments.length,r=new Array(a),l=0;l<a;l++)r[l]=arguments[l];return!r.some(function(t){return!(t&&typeof t.getBoundingClientRect=="function")})}function Sm(a){a===void 0&&(a={});var r=a,l=r.defaultModifiers,t=l===void 0?[]:l,i=r.defaultOptions,e=i===void 0?ym:i;return function(p,h,w){w===void 0&&(w=e);var N={placement:"bottom",orderedModifiers:[],options:Object.assign({},ym,e),modifiersData:{},elements:{reference:p,popper:h},attributes:{},styles:{}},L=[],V=!1,I={state:N,setOptions:function(de){var xe=typeof de=="function"?de(N.options):de;oe(),N.options=Object.assign({},e,N.options,xe),N.scrollParents={reference:Mi(p)?Bn(p):p.contextElement?Bn(p.contextElement):[],popper:Bn(h)};var fe=Xl(ts([].concat(t,N.options.modifiers)));return N.orderedModifiers=fe.filter(function(ce){return ce.enabled}),G(),I.update()},forceUpdate:function(){if(!V){var de=N.elements,xe=de.reference,fe=de.popper;if(Cm(xe,fe)){N.rects={reference:Jl(xe,Qi(fe),N.options.strategy==="fixed"),popper:ro(fe)},N.reset=!1,N.placement=N.options.placement,N.orderedModifiers.forEach(function(ct){return N.modifiersData[ct.name]=Object.assign({},ct.data)});for(var ce=0;ce<N.orderedModifiers.length;ce++){if(N.reset===!0){N.reset=!1,ce=-1;continue}var Pe=N.orderedModifiers[ce],Oe=Pe.fn,He=Pe.options,Re=He===void 0?{}:He,lt=Pe.name;typeof Oe=="function"&&(N=Oe({state:N,options:Re,name:lt,instance:I})||N)}}}},update:es(function(){return new Promise(function(q){I.forceUpdate(),q(N)})}),destroy:function(){oe(),V=!0}};if(!Cm(p,h))return I;I.setOptions(w).then(function(q){!V&&w.onFirstUpdate&&w.onFirstUpdate(q)});function G(){N.orderedModifiers.forEach(function(q){var de=q.name,xe=q.options,fe=xe===void 0?{}:xe,ce=q.effect;if(typeof ce=="function"){var Pe=ce({state:N,name:de,instance:I,options:fe}),Oe=function(){};L.push(Pe||Oe)}})}function oe(){L.forEach(function(q){return q()}),L=[]}return I}}var Ov=[_m,bm,fm,mm],is=Sm({defaultModifiers:Ov});var ss=["*"];var Vv=["ngbDatepickerDayView",""],Rv=["month"],jv=["year"];function Gv(a,r){if(a&1&&(o(0,"option",4),s(1),n()),a&2){let l=r.$implicit,t=S();m("value",l),ci("aria-label",t.i18n.getMonthFullName(l,t.date.year)),d(),_(t.i18n.getMonthShortName(l,t.date.year))}}function Wv(a,r){if(a&1&&(o(0,"option",4),s(1),n()),a&2){let l=r.$implicit,t=S();m("value",l),d(),_(t.i18n.getYearNumerals(l))}}function Uv(a,r){if(a&1){let l=O();o(0,"ngb-datepicker-navigation-select",6),g("select",function(i){b(l);let e=S();return y(e.select.emit(i))}),n()}if(a&2){let l=S();m("date",l.date)("disabled",l.disabled)("months",l.selectBoxes.months)("years",l.selectBoxes.years)}}function Hv(a,r){a&1&&E(0,"div",7)}function zv(a,r){a&1&&E(0,"div",7)}function qv(a,r){if(a&1&&(v(0,Hv,1,0,"div",7),o(1,"div",8),s(2),n(),v(3,zv,1,0,"div",7)),a&2){let l=r.$implicit,t=r.$index,i=S(2);Ft(0,t>0?0:-1),d(2),Ce(" ",i.i18n.getMonthLabel(l.firstDate)," "),d(),Ft(3,t!==i.months.length-1?3:-1)}}function Yv(a,r){if(a&1&&We(0,qv,4,3,null,null,vn),a&2){let l=S();Ue(l.months)}}function $v(a,r){if(a&1&&(o(0,"div",1),s(1),n()),a&2){let l=S(2);d(),_(l.i18n.getWeekLabel())}}function Qv(a,r){if(a&1&&(o(0,"div",2),s(1),n()),a&2){let l=r.$implicit;d(),_(l)}}function Zv(a,r){if(a&1&&(o(0,"div",0),v(1,$v,2,1,"div",1),We(2,Qv,2,1,"div",2,vn),n()),a&2){let l=S();d(),Ft(1,l.datepicker.showWeekNumbers?1:-1),d(),Ue(l.viewModel.weekdays)}}function Kv(a,r){if(a&1&&(o(0,"div",4),s(1),n()),a&2){let l=S(2).$implicit,t=S();d(),_(t.i18n.getWeekNumerals(l.number))}}function Jv(a,r){}function Xv(a,r){if(a&1&&v(0,Jv,0,0,"ng-template",7),a&2){let l=S().$implicit,t=S(3);m("ngTemplateOutlet",t.datepicker.dayTemplate)("ngTemplateOutletContext",l.context)}}function eb(a,r){if(a&1){let l=O();o(0,"div",6),g("click",function(i){let e=b(l).$implicit;return S(3).doSelect(e),y(i.preventDefault())}),v(1,Xv,1,2),n()}if(a&2){let l=r.$implicit;pt("disabled",l.context.disabled)("hidden",l.hidden)("ngb-dp-today",l.context.today),m("tabindex",l.tabindex),ci("aria-label",l.ariaLabel),d(),Ft(1,l.hidden?-1:1)}}function tb(a,r){if(a&1&&(o(0,"div",3),v(1,Kv,2,1,"div",4),We(2,eb,2,9,"div",5,vn),n()),a&2){let l=S().$implicit,t=S();d(),Ft(1,t.datepicker.showWeekNumbers?1:-1),d(),Ue(l.days)}}function ib(a,r){if(a&1&&v(0,tb,4,1,"div",3),a&2){let l=r.$implicit;Ft(0,l.collapsed?-1:0)}}var nb=["defaultDayTemplate"],ob=["content"],rb=a=>({$implicit:a});function ab(a,r){if(a&1&&E(0,"div",7),a&2){let l=r.date,t=r.currentMonth,i=r.selected,e=r.disabled,c=r.focused;m("date",l)("currentMonth",t)("selected",i)("disabled",e)("focused",c)}}function lb(a,r){if(a&1&&(o(0,"div",9),s(1),n()),a&2){let l=S().$implicit,t=S(2);d(),Ce(" ",t.i18n.getMonthLabel(l.firstDate)," ")}}function sb(a,r){if(a&1&&(o(0,"div",8),v(1,lb,2,1,"div",9),E(2,"ngb-datepicker-month",10),n()),a&2){let l=r.$implicit,t=S(2);d(),Ft(1,t.navigation==="none"||t.displayMonths>1&&t.navigation==="select"?1:-1),d(),m("month",l.firstDate)}}function db(a,r){if(a&1&&We(0,sb,3,2,"div",8,vn),a&2){let l=S();Ue(l.model.months)}}function cb(a,r){if(a&1){let l=O();o(0,"ngb-datepicker-navigation",11),g("navigate",function(i){b(l);let e=S();return y(e.onNavigateEvent(i))})("select",function(i){b(l);let e=S();return y(e.onNavigateDateSelect(i))}),n()}if(a&2){let l=S();m("date",l.model.firstDate)("months",l.model.months)("disabled",l.model.disabled)("showSelect",l.model.navigation==="select")("prevDisabled",l.model.prevDisabled)("nextDisabled",l.model.nextDisabled)("selectBoxes",l.model.selectBoxes)}}function pb(a,r){}function mb(a,r){}var ub=["dialog"];var hb=(a,r,l)=>({$implicit:a,pages:r,disabled:l}),gb=a=>({disabled:!0,currentPage:a}),fb=(a,r,l)=>({disabled:a,$implicit:r,currentPage:l}),ds=(a,r)=>({disabled:a,currentPage:r}),_b=a=>({disabled:a});function vb(a,r){a&1&&(o(0,"span",13),dr(1,7),n())}function bb(a,r){a&1&&(o(0,"span",13),dr(1,8),n())}function yb(a,r){a&1&&(o(0,"span",13),dr(1,9),n())}function Cb(a,r){a&1&&(o(0,"span",13),dr(1,10),n())}function Sb(a,r){a&1&&s(0,"...")}function xb(a,r){if(a&1&&s(0),a&2){let l=r.$implicit;_(l)}}function Db(a,r){}function Eb(a,r){if(a&1&&(o(0,"a",14),v(1,Db,0,0,"ng-template",12),n()),a&2){let l=S(2).$implicit,t=S(),i=R(9);d(),m("ngTemplateOutlet",(t.tplEllipsis==null?null:t.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",ge(2,gb,l))}}function Tb(a,r){}function wb(a,r){if(a&1){let l=O();o(0,"a",15),g("click",function(i){b(l);let e=S().$implicit;return S(2).selectPage(e),y(i.preventDefault())}),v(1,Tb,0,0,"ng-template",12),n()}if(a&2){let l=S().$implicit,t=S(),i=t.$implicit,e=t.disabled,c=S(),p=R(11);ci("tabindex",e?"-1":null)("aria-disabled",e?"true":null),d(),m("ngTemplateOutlet",(c.tplNumber==null?null:c.tplNumber.templateRef)||p)("ngTemplateOutletContext",eo(4,fb,e,l,i))}}function Ib(a,r){if(a&1&&(o(0,"li",11),v(1,Eb,2,4,"a",14)(2,wb,2,8),n()),a&2){let l=r.$implicit,t=S(),i=t.$implicit,e=t.disabled,c=S();pt("active",l===i)("disabled",c.isEllipsis(l)||e),ci("aria-current",l===i?"page":null),d(),Ft(1,c.isEllipsis(l)?1:2)}}function Nb(a,r){if(a&1&&We(0,Ib,3,6,"li",11,vn),a&2){let l=r.pages;Ue(l)}}function Fb(a,r){}function Mb(a,r){if(a&1){let l=O();o(0,"li",11)(1,"a",16),g("click",function(i){return b(l),S().selectPage(1),y(i.preventDefault())}),v(2,Fb,0,0,"ng-template",12),n()()}if(a&2){let l=S(),t=R(1);pt("disabled",l.previousDisabled()),d(),ci("tabindex",l.previousDisabled()?"-1":null)("aria-disabled",l.previousDisabled()?"true":null),d(),m("ngTemplateOutlet",(l.tplFirst==null?null:l.tplFirst.templateRef)||t)("ngTemplateOutletContext",$e(6,ds,l.previousDisabled(),l.page))}}function Pb(a,r){}function kb(a,r){if(a&1){let l=O();o(0,"li",11)(1,"a",17),g("click",function(i){b(l);let e=S();return e.selectPage(e.page-1),y(i.preventDefault())}),v(2,Pb,0,0,"ng-template",12),n()()}if(a&2){let l=S(),t=R(3);pt("disabled",l.previousDisabled()),d(),ci("tabindex",l.previousDisabled()?"-1":null)("aria-disabled",l.previousDisabled()?"true":null),d(),m("ngTemplateOutlet",(l.tplPrevious==null?null:l.tplPrevious.templateRef)||t)("ngTemplateOutletContext",ge(6,_b,l.previousDisabled()))}}function Ab(a,r){}function Ob(a,r){}function Lb(a,r){if(a&1){let l=O();o(0,"li",11)(1,"a",18),g("click",function(i){b(l);let e=S();return e.selectPage(e.page+1),y(i.preventDefault())}),v(2,Ob,0,0,"ng-template",12),n()()}if(a&2){let l=S(),t=R(5);pt("disabled",l.nextDisabled()),d(),ci("tabindex",l.nextDisabled()?"-1":null)("aria-disabled",l.nextDisabled()?"true":null),d(),m("ngTemplateOutlet",(l.tplNext==null?null:l.tplNext.templateRef)||t)("ngTemplateOutletContext",$e(6,ds,l.nextDisabled(),l.page))}}function Bb(a,r){}function Vb(a,r){if(a&1){let l=O();o(0,"li",11)(1,"a",19),g("click",function(i){b(l);let e=S();return e.selectPage(e.pageCount),y(i.preventDefault())}),v(2,Bb,0,0,"ng-template",12),n()()}if(a&2){let l=S(),t=R(7);pt("disabled",l.nextDisabled()),d(),ci("tabindex",l.nextDisabled()?"-1":null)("aria-disabled",l.nextDisabled()?"true":null),d(),m("ngTemplateOutlet",(l.tplLast==null?null:l.tplLast.templateRef)||t)("ngTemplateOutletContext",$e(6,ds,l.nextDisabled(),l.page))}}function Rb(a,r){if(a&1&&s(0),a&2){let l=S(2);_(l.title)}}function jb(a,r){}function Gb(a,r){if(a&1&&(o(0,"h3",2),v(1,Rb,1,1,"ng-template",null,0,te)(3,jb,0,0,"ng-template",4),n()),a&2){let l=R(2),t=S();d(3),m("ngTemplateOutlet",t.isTitleTemplate()?t.title:l)("ngTemplateOutletContext",t.context)}}var Nm={animation:!0,transitionTimerDelayMs:5},cs=(()=>{let r=class r{constructor(){this.animation=Nm.animation}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function Wb(a){let{transitionDelay:r,transitionDuration:l}=window.getComputedStyle(a),t=parseFloat(r),i=parseFloat(l);return(t+i)*1e3}function Ki(a){return parseInt(`${a}`,10)}function Ub(a,r,l=0){return Math.max(Math.min(a,r),l)}function jo(a){return typeof a=="string"}function Zi(a){return!isNaN(Ki(a))}function vi(a){return typeof a=="number"&&isFinite(a)&&Math.floor(a)===a}function os(a){return a!=null}function Hb(a){return a&&a.then}function xm(a){return Zi(a)?`0${a}`.slice(-2):""}function zb(a,r){return!r||typeof a.closest>"u"?null:a.closest(r)}function Fm(a){return(a||document.body).getBoundingClientRect()}function qb(a){return r=>new gn(l=>{let t=c=>a.run(()=>l.next(c)),i=c=>a.run(()=>l.error(c)),e=()=>a.run(()=>l.complete());return r.subscribe({next:t,error:i,complete:e})})}var Yb=()=>{},{transitionTimerDelayMs:$b}=Nm,Ea=new Map,xn=(a,r,l,t)=>{let i=t.context||{},e=Ea.get(r);if(e)switch(t.runningTransition){case"continue":return Dc;case"stop":a.run(()=>e.transition$.complete()),i=Object.assign(e.context,i),Ea.delete(r)}let c=l(r,t.animation,i)||Yb;if(!t.animation||window.getComputedStyle(r).transitionProperty==="none")return a.run(()=>c()),Eo(void 0).pipe(qb(a));let p=new Ye,h=new Ye,w=p.pipe(Fc(!0));Ea.set(r,{transition$:p,complete:()=>{h.next(),h.complete()},context:i});let N=Wb(r);return a.runOutsideAngular(()=>{let L=Xt(r,"transitionend").pipe(xt(w),Ti(({target:I})=>I===r)),V=wc(N+$b).pipe(xt(w));Nl(V,L,h).pipe(xt(w)).subscribe(()=>{Ea.delete(r),a.run(()=>{c(),p.next(),p.complete()})})}),p.asObservable()};var bi=class a{static from(r){return r instanceof a?r:r?new a(r.year,r.month,r.day):null}constructor(r,l,t){this.year=vi(r)?r:null,this.month=vi(l)?l:null,this.day=vi(t)?t:null}equals(r){return r!=null&&this.year===r.year&&this.month===r.month&&this.day===r.day}before(r){return r?this.year===r.year?this.month===r.month?this.day===r.day?!1:this.day<r.day:this.month<r.month:this.year<r.year:!1}after(r){return r?this.year===r.year?this.month===r.month?this.day===r.day?!1:this.day>r.day:this.month>r.month:this.year>r.year:!1}};function Dm(a){return new bi(a.getFullYear(),a.getMonth()+1,a.getDate())}function Ta(a){let r=new Date(a.year,a.month-1,a.day,12);return isNaN(r.getTime())||r.setFullYear(a.year),r}function Qb(){return new Zb}var ht=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:()=>Qb(),providedIn:"root"});let a=r;return a})(),Zb=(()=>{let r=class r extends ht{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,i="d",e=1){let c=Ta(t),p=!0,h=c.getMonth();switch(i){case"y":c.setFullYear(c.getFullYear()+e);break;case"m":h+=e,c.setMonth(h),h=h%12,h<0&&(h=h+12);break;case"d":c.setDate(c.getDate()+e),p=!1;break;default:return t}return p&&c.getMonth()!==h&&c.setDate(0),Dm(c)}getPrev(t,i="d",e=1){return this.getNext(t,i,-e)}getWeekday(t){let e=Ta(t).getDay();return e===0?7:e}getWeekNumber(t,i){i===7&&(i=0);let e=(11-i)%7,c=t[e],p=Ta(c);p.setDate(p.getDate()+4-(p.getDay()||7));let h=p.getTime();return p.setMonth(0),p.setDate(1),Math.floor(Math.round((h-p.getTime())/864e5)/7)+1}getToday(){return Dm(new Date)}isValid(t){if(!t||!vi(t.year)||!vi(t.month)||!vi(t.day)||t.year===0)return!1;let i=Ta(t);return!isNaN(i.getTime())&&i.getFullYear()===t.year&&i.getMonth()+1===t.month&&i.getDate()===t.day}};r.\u0275fac=(()=>{let t;return function(e){return(t||(t=kn(r)))(e||r)}})(),r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})();function Ro(a,r){return!Kb(a,r)}function Mm(a,r){return!a&&!r?!1:!a||!r?!0:a.year!==r.year||a.month!==r.month}function Kb(a,r){return!a&&!r||!!a&&!!r&&a.equals(r)}function Jb(a,r){if(r&&a&&r.before(a))throw new Error(`'maxDate' ${r} should be greater than 'minDate' ${a}`)}function wa(a,r,l){return a&&r&&a.before(r)?r:a&&l&&a.after(l)?l:a||null}function ns(a,r){let{minDate:l,maxDate:t,disabled:i,markDisabled:e}=r;return!(a==null||i||e&&e(a,{year:a.year,month:a.month})||l&&a.before(l)||t&&a.after(t))}function Xb(a,r,l,t){if(!r)return[];let i=a.getMonths(r.year);if(l&&r.year===l.year){let e=i.findIndex(c=>c===l.month);i=i.slice(e)}if(t&&r.year===t.year){let e=i.findIndex(c=>c===t.month);i=i.slice(0,e+1)}return i}function ey(a,r,l){if(!a)return[];let t=r?Math.max(r.year,a.year-500):a.year-10,e=(l?Math.min(l.year,a.year+500):a.year+10)-t+1,c=Array(e);for(let p=0;p<e;p++)c[p]=t+p;return c}function ty(a,r,l){let t=Object.assign(a.getNext(r,"m"),{day:1});return l!=null&&t.after(l)}function iy(a,r,l){let t=Object.assign(a.getPrev(r,"m"),{day:1});return l!=null&&(t.year===l.year&&t.month<l.month||t.year<l.year&&l.month===1)}function ny(a,r,l,t,i){let{displayMonths:e,months:c}=l,p=c.splice(0,c.length);return Array.from({length:e},(w,N)=>{let L=Object.assign(a.getNext(r,"m",N),{day:1});if(c[N]=null,!i){let V=p.findIndex(I=>I.firstDate.equals(L));V!==-1&&(c[N]=p.splice(V,1)[0])}return L}).forEach((w,N)=>{c[N]===null&&(c[N]=oy(a,w,l,t,p.shift()||{}))}),c}function oy(a,r,l,t,i={}){let{dayTemplateData:e,minDate:c,maxDate:p,firstDayOfWeek:h,markDisabled:w,outsideDays:N,weekdayWidth:L,weekdaysVisible:V}=l,I=a.getToday();i.firstDate=null,i.lastDate=null,i.number=r.month,i.year=r.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],r=ry(a,r,h),V||(i.weekdays.length=0);for(let G=0;G<a.getWeeksPerMonth();G++){let oe=i.weeks[G];oe||(oe=i.weeks[G]={number:0,days:[],collapsed:!0});let q=oe.days;for(let de=0;de<a.getDaysPerWeek();de++){G===0&&V&&(i.weekdays[de]=t.getWeekdayLabel(a.getWeekday(r),L));let xe=new bi(r.year,r.month,r.day),fe=a.getNext(xe),ce=t.getDayAriaLabel(xe),Pe=!!(c&&xe.before(c)||p&&xe.after(p));!Pe&&w&&(Pe=w(xe,{month:i.number,year:i.year}));let Oe=xe.equals(I),He=e?e(xe,{month:i.number,year:i.year}):void 0;i.firstDate===null&&xe.month===i.number&&(i.firstDate=xe),xe.month===i.number&&fe.month!==i.number&&(i.lastDate=xe);let Re=q[de];Re||(Re=q[de]={}),Re.date=xe,Re.context=Object.assign(Re.context||{},{$implicit:xe,date:xe,data:He,currentMonth:i.number,currentYear:i.year,disabled:Pe,focused:!1,selected:!1,today:Oe}),Re.tabindex=-1,Re.ariaLabel=ce,Re.hidden=!1,r=fe}oe.number=a.getWeekNumber(q.map(de=>de.date),h),oe.collapsed=N==="collapsed"&&q[0].date.month!==i.number&&q[q.length-1].date.month!==i.number}return i}function ry(a,r,l){let t=a.getDaysPerWeek(),i=new bi(r.year,r.month,1),e=a.getWeekday(i)%t;return a.getPrev(i,"d",(t+e-l)%t)}var mo=(()=>{let r=class r{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:()=>new ay,providedIn:"root"});let a=r;return a})(),ay=(()=>{let r=class r extends mo{constructor(){super(...arguments),this._locale=ne(Vc),this._monthsShort=Pl(this._locale,ca.Standalone,to.Abbreviated),this._monthsFull=Pl(this._locale,ca.Standalone,to.Wide)}getWeekdayLabel(t,i){let e=Rc(this._locale,ca.Standalone,i===void 0?to.Short:i);return e.map((p,h)=>e[(h+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){let i=new Date(t.year,t.month-1,t.day);return jc(i,"fullDate",this._locale)}};r.\u0275fac=(()=>{let t;return function(e){return(t||(t=kn(r)))(e||r)}})(),r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})(),rs=(()=>{let r=class r{constructor(){this._VALIDATORS={dayTemplateData:t=>{if(this._state.dayTemplateData!==t)return{dayTemplateData:t}},displayMonths:t=>{if(t=Ki(t),vi(t)&&t>0&&this._state.displayMonths!==t)return{displayMonths:t}},disabled:t=>{if(this._state.disabled!==t)return{disabled:t}},firstDayOfWeek:t=>{if(t=Ki(t),vi(t)&&t>=0&&this._state.firstDayOfWeek!==t)return{firstDayOfWeek:t}},focusVisible:t=>{if(this._state.focusVisible!==t&&!this._state.disabled)return{focusVisible:t}},markDisabled:t=>{if(this._state.markDisabled!==t)return{markDisabled:t}},maxDate:t=>{let i=this.toValidDate(t,null);if(Ro(this._state.maxDate,i))return{maxDate:i}},minDate:t=>{let i=this.toValidDate(t,null);if(Ro(this._state.minDate,i))return{minDate:i}},navigation:t=>{if(this._state.navigation!==t)return{navigation:t}},outsideDays:t=>{if(this._state.outsideDays!==t)return{outsideDays:t}},weekdays:t=>{let i=t===!0||t===!1?to.Short:t,e=t===!0||t===!1?t:!0;if(this._state.weekdayWidth!==i||this._state.weekdaysVisible!==e)return{weekdayWidth:i,weekdaysVisible:e}}},this._calendar=ne(ht),this._i18n=ne(mo),this._model$=new Ye,this._dateSelect$=new Ye,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:to.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(Ti(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(Ti(t=>t!==null))}set(t){let i=Object.keys(t).map(e=>this._VALIDATORS[e](t[e])).reduce((e,c)=>di(di({},e),c),{});Object.keys(i).length>0&&this._nextState(i)}focus(t){let i=this.toValidDate(t,null);i!=null&&!this._state.disabled&&Ro(this._state.focusDate,i)&&this._nextState({focusDate:t})}focusSelect(){ns(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){let i=this.toValidDate(t,this._calendar.getToday());i!=null&&!this._state.disabled&&(!this._state.firstDate||Mm(this._state.firstDate,i))&&this._nextState({firstDate:i})}select(t,i={}){let e=this.toValidDate(t,null);e!=null&&!this._state.disabled&&(Ro(this._state.selectedDate,e)&&this._nextState({selectedDate:e}),i.emitEvent&&ns(e,this._state)&&this._dateSelect$.next(e))}toValidDate(t,i){let e=bi.from(t);return i===void 0&&(i=this._calendar.getToday()),this._calendar.isValid(e)?e:i}getMonth(t){for(let i of this._state.months)if(t.month===i.number&&t.year===i.year)return i;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){let i=this._updateState(t);this._patchContexts(i),this._state=i,this._model$.next(this._state)}_patchContexts(t){let{months:i,displayMonths:e,selectedDate:c,focusDate:p,focusVisible:h,disabled:w,outsideDays:N}=t;t.months.forEach(L=>{L.weeks.forEach(V=>{V.days.forEach(I=>{p&&(I.context.focused=p.equals(I.date)&&h),I.tabindex=!w&&p&&I.date.equals(p)&&p.month===L.number?0:-1,w===!0&&(I.context.disabled=!0),c!==void 0&&(I.context.selected=c!==null&&c.equals(I.date)),L.number!==I.date.month&&(I.hidden=N==="hidden"||N==="collapsed"||e>1&&I.date.after(i[0].firstDate)&&I.date.before(i[e-1].lastDate))})})})}_updateState(t){let i=Object.assign({},this._state,t),e=i.firstDate;if(("minDate"in t||"maxDate"in t)&&(Jb(i.minDate,i.maxDate),i.focusDate=wa(i.focusDate,i.minDate,i.maxDate),i.firstDate=wa(i.firstDate,i.minDate,i.maxDate),e=i.focusDate),"disabled"in t&&(i.focusVisible=!1),"selectedDate"in t&&this._state.months.length===0&&(e=i.selectedDate),"focusVisible"in t||"focusDate"in t&&(i.focusDate=wa(i.focusDate,i.minDate,i.maxDate),e=i.focusDate,i.months.length!==0&&i.focusDate&&!i.focusDate.before(i.firstDate)&&!i.focusDate.after(i.lastDate)))return i;if("firstDate"in t&&(i.firstDate=wa(i.firstDate,i.minDate,i.maxDate),e=i.firstDate),e){let c="dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t,p=ny(this._calendar,e,i,this._i18n,c);i.months=p,i.firstDate=p[0].firstDate,i.lastDate=p[p.length-1].lastDate,"selectedDate"in t&&!ns(i.selectedDate,i)&&(i.selectedDate=null),"firstDate"in t&&(!i.focusDate||i.focusDate.before(i.firstDate)||i.focusDate.after(i.lastDate))&&(i.focusDate=e);let h=!this._state.firstDate||this._state.firstDate.year!==i.firstDate.year,w=!this._state.firstDate||this._state.firstDate.month!==i.firstDate.month;i.navigation==="select"?(("minDate"in t||"maxDate"in t||i.selectBoxes.years.length===0||h)&&(i.selectBoxes.years=ey(i.firstDate,i.minDate,i.maxDate)),("minDate"in t||"maxDate"in t||i.selectBoxes.months.length===0||h)&&(i.selectBoxes.months=Xb(this._calendar,i.firstDate,i.minDate,i.maxDate))):i.selectBoxes={years:[],months:[]},(i.navigation==="arrows"||i.navigation==="select")&&(w||h||"minDate"in t||"maxDate"in t||"disabled"in t)&&(i.prevDisabled=i.disabled||iy(this._calendar,i.firstDate,i.minDate),i.nextDisabled=i.disabled||ty(this._calendar,i.lastDate,i.maxDate))}return i}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})(),Na=function(a){return a[a.PREV=0]="PREV",a[a.NEXT=1]="NEXT",a}(Na||{}),ps=(()=>{let r=class r{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=to.Short}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function ly(){return new sy}var ms=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:()=>ly(),providedIn:"root"});let a=r;return a})(),sy=(()=>{let r=class r extends ms{fromModel(t){return t&&vi(t.year)&&vi(t.month)&&vi(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&vi(t.year)&&vi(t.month)&&vi(t.day)?{year:t.year,month:t.month,day:t.day}:null}};r.\u0275fac=(()=>{let t;return function(e){return(t||(t=kn(r)))(e||r)}})(),r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})(),_i=function(a){return a[a.Tab=9]="Tab",a[a.Enter=13]="Enter",a[a.Escape=27]="Escape",a[a.Space=32]="Space",a[a.PageUp=33]="PageUp",a[a.PageDown=34]="PageDown",a[a.End=35]="End",a[a.Home=36]="Home",a[a.ArrowLeft=37]="ArrowLeft",a[a.ArrowUp=38]="ArrowUp",a[a.ArrowRight=39]="ArrowRight",a[a.ArrowDown=40]="ArrowDown",a}(_i||{}),dy=(()=>{let r=class r{processKey(t,i){let{state:e,calendar:c}=i;switch(t.which){case _i.PageUp:i.focusDate(c.getPrev(e.focusedDate,t.shiftKey?"y":"m",1));break;case _i.PageDown:i.focusDate(c.getNext(e.focusedDate,t.shiftKey?"y":"m",1));break;case _i.End:i.focusDate(t.shiftKey?e.maxDate:e.lastDate);break;case _i.Home:i.focusDate(t.shiftKey?e.minDate:e.firstDate);break;case _i.ArrowLeft:i.focusDate(c.getPrev(e.focusedDate,"d",1));break;case _i.ArrowUp:i.focusDate(c.getPrev(e.focusedDate,"d",c.getDaysPerWeek()));break;case _i.ArrowRight:i.focusDate(c.getNext(e.focusedDate,"d",1));break;case _i.ArrowDown:i.focusDate(c.getNext(e.focusedDate,"d",c.getDaysPerWeek()));break;case _i.Enter:case _i.Space:i.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),cy=(()=>{let r=class r{constructor(){this.i18n=ne(mo)}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(i,e){i&2&&pt("bg-primary",e.selected)("text-white",e.selected)("text-muted",e.isMuted())("outside",e.isMuted())("active",e.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[fi],attrs:Vv,decls:1,vars:1,template:function(i,e){i&1&&s(0),i&2&&_(e.i18n.getDayNumerals(e.date))},styles:[`[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-tertiary-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}
`],encapsulation:2,changeDetection:0});let a=r;return a})(),py=(()=>{let r=class r{constructor(){this._month=-1,this._year=-1,this.i18n=ne(mo),this.select=new W}changeMonth(t){this.select.emit(new bi(this.date.year,Ki(t),1))}changeYear(t){this.select.emit(new bi(Ki(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this.monthSelect.nativeElement.value=`${this._month}`),this.date.year!==this._year&&(this._year=this.date.year,this.yearSelect.nativeElement.value=`${this._year}`))}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(i,e){if(i&1&&(Le(Rv,7,It),Le(jv,7,It)),i&2){let c;we(c=Ie())&&(e.monthSelect=c.first),we(c=Ie())&&(e.yearSelect=c.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[fi],decls:8,vars:2,consts:()=>{let t;t=$localize`:@@ngb.datepicker.select-month:Select month`;let i;i=$localize`:@@ngb.datepicker.select-month:Select month`;let e;e=$localize`:@@ngb.datepicker.select-year:Select year`;let c;return c=$localize`:@@ngb.datepicker.select-year:Select year`,[["month",""],["year",""],["aria-label",t,"title",i,1,"form-select",3,"change","disabled"],["aria-label",e,"title",c,1,"form-select",3,"change","disabled"],[3,"value"]]},template:function(i,e){if(i&1){let c=O();o(0,"select",2,0),g("change",function(h){return b(c),y(e.changeMonth(h.target.value))}),We(2,Gv,2,3,"option",null,vn),n(),o(4,"select",3,1),g("change",function(h){return b(c),y(e.changeYear(h.target.value))}),We(6,Wv,2,2,"option",null,vn),n()}i&2&&(m("disabled",e.disabled),d(2),Ue(e.months),d(2),m("disabled",e.disabled),d(2),Ue(e.years))},styles:[`ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}
`],encapsulation:2,changeDetection:0});let a=r;return a})(),my=(()=>{let r=class r{constructor(){this.navigation=Na,this.i18n=ne(mo),this.months=[],this.navigate=new W,this.select=new W}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[fi],decls:8,vars:4,consts:()=>{let t;t=$localize`:@@ngb.datepicker.previous-month:Previous month`;let i;i=$localize`:@@ngb.datepicker.previous-month:Previous month`;let e;e=$localize`:@@ngb.datepicker.next-month:Next month`;let c;return c=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow","ngb-dp-arrow-prev"],["type","button","aria-label",t,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-chevron"],[1,"ngb-dp-navigation-select"],[1,"ngb-dp-arrow","ngb-dp-arrow-next"],["type","button","aria-label",e,"title",c,1,"btn","btn-link","ngb-dp-arrow-btn",3,"click","disabled"],[1,"ngb-dp-navigation-select",3,"select","date","disabled","months","years"],[1,"ngb-dp-arrow"],[1,"ngb-dp-month-name"]]},template:function(i,e){i&1&&(o(0,"div",0)(1,"button",1),g("click",function(p){return e.onClickPrev(p)}),E(2,"span",2),n()(),v(3,Uv,1,4,"ngb-datepicker-navigation-select",3)(4,Yv,2,0),o(5,"div",4)(6,"button",5),g("click",function(p){return e.onClickNext(p)}),E(7,"span",2),n()()),i&2&&(d(),m("disabled",e.prevDisabled),d(2),Ft(3,e.showSelect?3:-1),d(),Ft(4,e.showSelect?-1:4),d(2),m("disabled",e.nextDisabled))},dependencies:[py],styles:[`ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow-next{justify-content:flex-end}.ngb-dp-arrow-next .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}
`],encapsulation:2,changeDetection:0});let a=r;return a})(),uy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0});let a=r;return a})(),hy=(()=>{let r=class r{constructor(){this._keyboardService=ne(dy),this._service=ne(rs),this.i18n=ne(mo),this.datepicker=ne(Ma)}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(i,e){i&1&&g("keydown",function(p){return e.onKeyDown(p)})},inputs:{month:"month"},standalone:!0,features:[fi],decls:3,vars:1,consts:[["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["role","row",1,"ngb-dp-week"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day"],["role","gridcell",1,"ngb-dp-day",3,"click","tabindex"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,e){i&1&&(v(0,Zv,4,1,"div",0),We(1,ib,1,1,null,null,vn)),i&2&&(Ft(0,e.viewModel.weekdays.length>0?0:-1),d(),Ue(e.viewModel.weeks))},dependencies:[gr],styles:[`ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-tertiary-bg)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}
`],encapsulation:2});let a=r;return a})(),Ma=(()=>{let r=class r{constructor(){this.injector=ne(_n),this._service=ne(rs),this._calendar=ne(ht),this._i18n=ne(mo),this._config=ne(ps),this._nativeElement=ne(It).nativeElement,this._ngbDateAdapter=ne(ms),this._ngZone=ne(ti),this._destroyRef=ne(ra),this._controlValue=null,this._publicState={},this.dayTemplate=this._config.dayTemplate,this.dayTemplateData=this._config.dayTemplateData,this.displayMonths=this._config.displayMonths,this.firstDayOfWeek=this._config.firstDayOfWeek,this.footerTemplate=this._config.footerTemplate,this.markDisabled=this._config.markDisabled,this.maxDate=this._config.maxDate,this.minDate=this._config.minDate,this.navigation=this._config.navigation,this.outsideDays=this._config.outsideDays,this.showWeekNumbers=this._config.showWeekNumbers,this.startDate=this._config.startDate,this.weekdays=this._config.weekdays,this.navigate=new W,this.dateSelect=new W,this.onChange=i=>{},this.onTouched=()=>{};let t=ne(wi);this._service.dateSelect$.pipe(br()).subscribe(i=>{this.dateSelect.emit(i)}),this._service.model$.pipe(br()).subscribe(i=>{let e=i.firstDate,c=this.model?this.model.firstDate:null;this._publicState={maxDate:i.maxDate,minDate:i.minDate,firstDate:i.firstDate,lastDate:i.lastDate,focusedDate:i.focusDate,months:i.months.map(L=>L.firstDate)};let p=!1;if(!e.equals(c)&&(this.navigate.emit({current:c?{year:c.year,month:c.month}:null,next:{year:e.year,month:e.month},preventDefault:()=>p=!0}),p&&c!==null)){this._service.open(c);return}let h=i.selectedDate,w=i.focusDate,N=this.model?this.model.focusDate:null;this.model=i,Ro(h,this._controlValue)&&(this._controlValue=h,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(h))),Ro(w,N)&&N&&i.focusVisible&&this.focus(),t.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}get i18n(){return this._i18n}focusDate(t){this._service.focus(bi.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(fn(1)).subscribe(()=>this._nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]')?.focus())}navigateTo(t){this._service.open(bi.from(t?t.day?t:zi(di({},t),{day:1}):null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{let t=Xt(this._contentEl.nativeElement,"focusin"),i=Xt(this._contentEl.nativeElement,"focusout");To(t,i).pipe(Ti(e=>{let c=e.target,p=e.relatedTarget;return!(c?.classList.contains("ngb-dp-day")&&p?.classList.contains("ngb-dp-day")&&this._nativeElement.contains(c)&&this._nativeElement.contains(p))}),br(this._destroyRef)).subscribe(({type:e})=>this._ngZone.run(()=>this._service.set({focusVisible:e==="focusin"})))})}ngOnInit(){if(this.model===void 0){let t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(i=>t[i]=this[i]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){let i={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(e=>e in t).forEach(e=>i[e]=this[e]),this._service.set(i),"startDate"in t){let{currentValue:e,previousValue:c}=t.startDate;Mm(c,e)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Na.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Na.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1));break}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=bi.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-datepicker"]],contentQueries:function(i,e,c){if(i&1&&bn(c,uy,7),i&2){let p;we(p=Ie())&&(e.contentTemplateFromContent=p.first)}},viewQuery:function(i,e){if(i&1&&(Le(nb,7),Le(ob,7)),i&2){let c;we(c=Ie())&&(e._defaultDayTemplate=c.first),we(c=Ie())&&(e._contentEl=c.first)}},hostVars:2,hostBindings:function(i,e){i&2&&pt("disabled",e.model.disabled)},inputs:{contentTemplate:"contentTemplate",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[Gt([{provide:_r,useExisting:wo(()=>r),multi:!0},rs]),Be,fi],decls:10,vars:9,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],["content",""],[1,"ngb-dp-header"],[1,"ngb-dp-content"],[3,"ngTemplateOutlet","ngTemplateOutletContext","ngTemplateOutletInjector"],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],[1,"ngb-dp-month"],[1,"ngb-dp-month-name"],[3,"month"],[3,"navigate","select","date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes"]],template:function(i,e){if(i&1&&(v(0,ab,1,5,"ng-template",null,0,te)(2,db,2,0,"ng-template",null,1,te),o(4,"div",3),v(5,cb,1,7,"ngb-datepicker-navigation"),n(),o(6,"div",4,2),v(8,pb,0,0,"ng-template",5),n(),v(9,mb,0,0,"ng-template",6)),i&2){let c=R(3);d(5),Ft(5,e.navigation!=="none"?5:-1),d(),pt("ngb-dp-months",!e.contentTemplate),d(2),m("ngTemplateOutlet",e.contentTemplate||(e.contentTemplateFromContent==null?null:e.contentTemplateFromContent.templateRef)||c)("ngTemplateOutletContext",ge(7,rb,e))("ngTemplateOutletInjector",e.injector),d(),m("ngTemplateOutlet",e.footerTemplate)}},dependencies:[gr,cy,hy,my],styles:[`ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-tertiary-bg)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-tertiary-bg)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}
`],encapsulation:2,changeDetection:0});let a=r;return a})(),Ia=(a,r)=>r?r.some(l=>l.contains(a)):!1,Em=(a,r)=>!r||zb(a,r)!=null,gy=(()=>{let a=()=>/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2,r=()=>/Android/.test(navigator.userAgent);return typeof navigator<"u"?!!navigator.userAgent&&(a()||r()):!1})(),fy=a=>gy?()=>setTimeout(()=>a(),100):a;function us(a,r,l,t,i,e,c,p){l&&a.runOutsideAngular(fy(()=>{let h=V=>{let I=V.target;return V.button===2||Ia(I,c)?!1:l==="inside"?Ia(I,e)&&Em(I,p):l==="outside"?!Ia(I,e):Em(I,p)||!Ia(I,e)},w=Xt(r,"keydown").pipe(xt(i),Ti(V=>V.which===_i.Escape),ei(V=>V.preventDefault())),N=Xt(r,"mousedown").pipe(Pn(h),xt(i)),L=Xt(r,"mouseup").pipe(na(N),Ti(([V,I])=>I),Nc(0),xt(i));Nl([w.pipe(Pn(V=>0)),L.pipe(Pn(V=>1))]).subscribe(V=>a.run(()=>t(V)))}))}var _y=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function Pm(a){let r=Array.from(a.querySelectorAll(_y)).filter(l=>l.tabIndex!==-1);return[r[0],r[r.length-1]]}var km=(a,r,l,t=!1)=>{a.runOutsideAngular(()=>{let i=Xt(r,"focusin").pipe(xt(l),Pn(e=>e.target));Xt(r,"keydown").pipe(xt(l),Ti(e=>e.which===_i.Tab),na(i)).subscribe(([e,c])=>{let[p,h]=Pm(r);(c===p||c===r)&&e.shiftKey&&(h.focus(),e.preventDefault()),c===h&&!e.shiftKey&&(p.focus(),e.preventDefault())}),t&&Xt(r,"click").pipe(xt(l),na(i),Pn(e=>e[1])).subscribe(e=>e.focus())})},vy=(()=>{let r=class r{constructor(){this._element=ne(Wt).documentElement}isRTL(){return(this._element.getAttribute("dir")||"").toLowerCase()==="rtl"}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),by=/\s+/,yy=/  +/gi,Cy={top:["top"],bottom:["bottom"],start:["left","right"],left:["left"],end:["right","left"],right:["right"],"top-start":["top-start","top-end"],"top-left":["top-start"],"top-end":["top-end","top-start"],"top-right":["top-end"],"bottom-start":["bottom-start","bottom-end"],"bottom-left":["bottom-start"],"bottom-end":["bottom-end","bottom-start"],"bottom-right":["bottom-end"],"start-top":["left-start","right-start"],"left-top":["left-start"],"start-bottom":["left-end","right-end"],"left-bottom":["left-end"],"end-top":["right-start","left-start"],"right-top":["right-start"],"end-bottom":["right-end","left-end"],"right-bottom":["right-end"]};function Sy(a,r){let[l,t]=Cy[a];return r&&t||l}var xy=/^left/,Dy=/^right/,Ey=/^start/,Ty=/^end/;function wy(a,r){let[l,t]=r.split("-"),i=l.replace(xy,"start").replace(Dy,"end"),e=[i];if(t){let c=t;(l==="left"||l==="right")&&(c=c.replace(Ey,"top").replace(Ty,"bottom")),e.push(`${i}-${c}`)}return a&&(e=e.map(c=>`${a}-${c}`)),e.join(" ")}function Tm({placement:a,baseClass:r},l){let t=Array.isArray(a)?a:a.split(by),i=["top","bottom","start","end","top-start","top-end","bottom-start","bottom-end","start-top","start-bottom","end-top","end-bottom"],e=t.findIndex(w=>w==="auto");e>=0&&i.forEach(function(w){t.find(N=>N.search("^"+w)!==-1)==null&&t.splice(e++,1,w)});let c=t.map(w=>Sy(w,l.isRTL()));return{placement:c.shift(),modifiers:[{name:"bootstrapClasses",enabled:!!r,phase:"write",fn({state:w}){let N=new RegExp(r+"(-[a-z]+)*","gi"),L=w.elements.popper,V=w.placement,I=L.className;I=I.replace(N,""),I+=` ${wy(r,V)}`,I=I.trim().replace(yy," "),L.className=I}},ql,Ql,Gl,{enabled:!0,name:"flip",options:{fallbackPlacements:c}},{enabled:!0,name:"preventOverflow",phase:"main",fn:function(){}}]}}function wm(a){return a}function hs(){let a=ne(vy),r=null;return{createPopper(l){if(!r){let i=(l.updatePopperOptions||wm)(Tm(l,a));r=is(l.hostElement,l.targetElement,i)}},update(){r&&r.update()},setOptions(l){if(r){let i=(l.updatePopperOptions||wm)(Tm(l,a));r.setOptions(i)}},destroy(){r&&(r.destroy(),r=null)}}}function Iy(){return new Ny}var Go=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:()=>Iy(),providedIn:"root"});let a=r;return a})(),Ny=(()=>{let r=class r extends Go{parse(t){if(t!=null){let i=t.trim().split("-");if(i.length===1&&Zi(i[0]))return{year:Ki(i[0]),month:null,day:null};if(i.length===2&&Zi(i[0])&&Zi(i[1]))return{year:Ki(i[0]),month:Ki(i[1]),day:null};if(i.length===3&&Zi(i[0])&&Zi(i[1])&&Zi(i[2]))return{year:Ki(i[0]),month:Ki(i[1]),day:Ki(i[2])}}return null}format(t){return t?`${t.year}-${Zi(t.month)?xm(t.month):""}-${Zi(t.day)?xm(t.day):""}`:""}};r.\u0275fac=(()=>{let t;return function(e){return(t||(t=kn(r)))(e||r)}})(),r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})(),Im=(()=>{let r=class r extends ps{constructor(){super(...arguments),this.autoClose=!0,this.placement=["bottom-start","bottom-end","top-start","top-end"],this.popperOptions=t=>t,this.restoreFocus=!0}};r.\u0275fac=(()=>{let t;return function(e){return(t||(t=kn(r)))(e||r)}})(),r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function gs(a){return r=>(r.modifiers.push(Yl,{name:"offset",options:{offset:()=>a}}),r)}var Tt=(()=>{let r=class r{constructor(){this._parserFormatter=ne(Go),this._elRef=ne(It),this._vcRef=ne(Io),this._ngZone=ne(ti),this._calendar=ne(ht),this._dateAdapter=ne(ms),this._document=ne(Wt),this._changeDetector=ne(wi),this._config=ne(Im),this._cRef=null,this._disabled=!1,this._elWithFocus=null,this._model=null,this._positioning=hs(),this._destroyCloseHandlers$=new Ye,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.container=this._config.container,this.positionTarget=this._config.positionTarget,this.dateSelect=new W,this.navigate=new W,this.closed=new W,this._onChange=t=>{},this._onTouched=()=>{},this._validatorChange=()=>{}}get disabled(){return this._disabled}set disabled(t){this._disabled=t===""||t&&t!=="false",this.isOpen()&&this._cRef.instance.setDisabledState(this._disabled)}registerOnChange(t){this._onChange=t}registerOnTouched(t){this._onTouched=t}registerOnValidatorChange(t){this._validatorChange=t}setDisabledState(t){this.disabled=t}validate(t){let{value:i}=t;if(i!=null){let e=this._fromDateStruct(this._dateAdapter.fromModel(i));if(!e)return{ngbDate:{invalid:i}};if(this.minDate&&e.before(bi.from(this.minDate)))return{ngbDate:{minDate:{minDate:this.minDate,actual:i}}};if(this.maxDate&&e.after(bi.from(this.maxDate)))return{ngbDate:{maxDate:{maxDate:this.maxDate,actual:i}}}}return null}writeValue(t){this._model=this._fromDateStruct(this._dateAdapter.fromModel(t)),this._writeModelValue(this._model)}manualDateChange(t,i=!1){let e=t!==this._inputValue;e&&(this._inputValue=t,this._model=this._fromDateStruct(this._parserFormatter.parse(t))),(e||!i)&&this._onChange(this._model?this._dateAdapter.toModel(this._model):t===""?null:t),i&&this._model&&this._writeModelValue(this._model)}isOpen(){return!!this._cRef}open(){if(!this.isOpen()){this._cRef=this._vcRef.createComponent(Ma),this._applyPopupStyling(this._cRef.location.nativeElement),this._applyDatepickerInputs(this._cRef),this._subscribeForDatepickerOutputs(this._cRef.instance),this._cRef.instance.ngOnInit(),this._cRef.instance.writeValue(this._dateAdapter.toModel(this._model)),this._cRef.instance.registerOnChange(i=>{this.writeValue(i),this._onChange(i),this._onTouched()}),this._cRef.changeDetectorRef.detectChanges(),this._cRef.instance.setDisabledState(this.disabled),this.container==="body"&&this._document.querySelector(this.container)?.appendChild(this._cRef.location.nativeElement),this._elWithFocus=this._document.activeElement,km(this._ngZone,this._cRef.location.nativeElement,this.closed,!0),setTimeout(()=>this._cRef?.instance.focus());let t;if(jo(this.positionTarget)?t=this._document.querySelector(this.positionTarget):this.positionTarget instanceof HTMLElement?t=this.positionTarget:t=this._elRef.nativeElement,this.positionTarget&&!t)throw new Error("ngbDatepicker could not find element declared in [positionTarget] to position against.");this._ngZone.runOutsideAngular(()=>{this._cRef&&t&&(this._positioning.createPopper({hostElement:t,targetElement:this._cRef.location.nativeElement,placement:this.placement,appendToBody:this.container==="body",updatePopperOptions:i=>this.popperOptions(gs([0,2])(i))}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update()))}),this._setCloseHandlers()}}close(){if(this.isOpen()){this._vcRef.remove(this._vcRef.indexOf(this._cRef.hostView)),this._cRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this._destroyCloseHandlers$.next(),this.closed.emit(),this._changeDetector.markForCheck();let t=this._elWithFocus;jo(this.restoreFocus)?t=this._document.querySelector(this.restoreFocus):this.restoreFocus!==void 0&&(t=this.restoreFocus),t&&t.focus?t.focus():this._document.body.focus()}}toggle(){this.isOpen()?this.close():this.open()}navigateTo(t){this.isOpen()&&this._cRef.instance.navigateTo(t)}onBlur(){this._onTouched()}onFocus(){this._elWithFocus=this._elRef.nativeElement}ngOnChanges(t){if((t.minDate||t.maxDate)&&(this._validatorChange(),this.isOpen()&&(t.minDate&&this._cRef.setInput("minDate",this.minDate),t.maxDate&&this._cRef.setInput("maxDate",this.maxDate))),t.datepickerClass){let{currentValue:i,previousValue:e}=t.datepickerClass;this._applyPopupClass(i,e)}t.autoClose&&this.isOpen()&&this._setCloseHandlers()}ngOnDestroy(){this.close()}_applyDatepickerInputs(t){["contentTemplate","dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showNavigation","showWeekNumbers","weekdays"].forEach(i=>{this[i]!==void 0&&t.setInput(i,this[i])}),t.setInput("startDate",this.startDate||this._model)}_applyPopupClass(t,i){let e=this._cRef?.location.nativeElement;e&&(t&&e.classList.add(t),i&&e.classList.remove(i))}_applyPopupStyling(t){t.classList.add("dropdown-menu","show"),this.container==="body"&&t.classList.add("ngb-dp-body"),this._applyPopupClass(this.datepickerClass)}_subscribeForDatepickerOutputs(t){t.navigate.subscribe(i=>this.navigate.emit(i)),t.dateSelect.subscribe(i=>{this.dateSelect.emit(i),(this.autoClose===!0||this.autoClose==="inside")&&this.close()})}_writeModelValue(t){let i=this._parserFormatter.format(t);this._inputValue=i,this._elRef.nativeElement.value=i,this.isOpen()&&(this._cRef.instance.writeValue(this._dateAdapter.toModel(t)),this._onTouched())}_fromDateStruct(t){let i=t?new bi(t.year,t.month,t.day):null;return this._calendar.isValid(i)?i:null}_setCloseHandlers(){this._destroyCloseHandlers$.next(),us(this._ngZone,this._document,this.autoClose,()=>this.close(),this._destroyCloseHandlers$,[],[this._elRef.nativeElement,this._cRef.location.nativeElement])}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["input","ngbDatepicker",""]],hostVars:1,hostBindings:function(i,e){i&1&&g("input",function(p){return e.manualDateChange(p.target.value)})("change",function(p){return e.manualDateChange(p.target.value,!0)})("focus",function(){return e.onFocus()})("blur",function(){return e.onBlur()}),i&2&&sa("disabled",e.disabled)},inputs:{autoClose:"autoClose",contentTemplate:"contentTemplate",datepickerClass:"datepickerClass",dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",minDate:"minDate",maxDate:"maxDate",navigation:"navigation",outsideDays:"outsideDays",placement:"placement",popperOptions:"popperOptions",restoreFocus:"restoreFocus",showWeekNumbers:"showWeekNumbers",startDate:"startDate",container:"container",positionTarget:"positionTarget",weekdays:"weekdays",disabled:"disabled"},outputs:{dateSelect:"dateSelect",navigate:"navigate",closed:"closed"},exportAs:["ngbDatepicker"],standalone:!0,features:[Gt([{provide:_r,useExisting:wo(()=>r),multi:!0},{provide:tm,useExisting:wo(()=>r),multi:!0},{provide:ps,useExisting:Im}]),Be]});let a=r;return a})();var IV=new Date(1882,10,12),NV=new Date(2174,10,25);var FV=1e3*60*60*24;var fs=1080,Fy=24*fs,My=12*fs+793,MV=29*Fy+My,PV=11*fs+204;var Am=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({});let a=r;return a})();var Py=(()=>{let r=class r{constructor(){this._ngbConfig=ne(cs),this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),Dn=class{constructor(r,l,t){this.nodes=r,this.viewRef=l,this.componentRef=t}},Fa=class{constructor(r){this._componentType=r,this._windowRef=null,this._contentRef=null,this._document=ne(Wt),this._applicationRef=ne(ur),this._injector=ne(_n),this._viewContainerRef=ne(Io),this._ngZone=ne(ti)}open(r,l,t=!1){this._windowRef||(this._contentRef=this._getContentRef(r,l),this._windowRef=this._viewContainerRef.createComponent(this._componentType,{injector:this._injector,projectableNodes:this._contentRef.nodes}));let{nativeElement:i}=this._windowRef.location,e=this._ngZone.onStable.pipe(fn(1),Ec(()=>xn(this._ngZone,i,({classList:c})=>c.add("show"),{animation:t,runningTransition:"continue"})));return{windowRef:this._windowRef,transition$:e}}close(r=!1){return this._windowRef?xn(this._ngZone,this._windowRef.location.nativeElement,({classList:l})=>l.remove("show"),{animation:r,runningTransition:"stop"}).pipe(ei(()=>{this._windowRef&&(this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._windowRef.hostView)),this._windowRef=null),this._contentRef?.viewRef&&(this._applicationRef.detachView(this._contentRef.viewRef),this._contentRef.viewRef.destroy(),this._contentRef=null)})):Eo(void 0)}_getContentRef(r,l){if(r)if(r instanceof gi){let t=r.createEmbeddedView(l);return this._applicationRef.attachView(t),new Dn([t.rootNodes],t)}else return new Dn([[this._document.createTextNode(`${r}`)]]);else return new Dn([])}},ky=(()=>{let r=class r{constructor(){this._document=ne(Wt)}hide(){let t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),i=this._document.body,e=i.style,{overflow:c,paddingRight:p}=e;if(t>0){let h=parseFloat(window.getComputedStyle(i).paddingRight);e.paddingRight=`${h+t}px`}return e.overflow="hidden",()=>{t>0&&(e.paddingRight=p),e.overflow=c}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),Ay=(()=>{let r=class r{constructor(){this._nativeElement=ne(It).nativeElement,this._zone=ne(ti)}ngOnInit(){this._zone.onStable.asObservable().pipe(fn(1)).subscribe(()=>{xn(this._zone,this._nativeElement,(t,i)=>{i&&Fm(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return xn(this._zone,this._nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(i,e){i&2&&(Xn("modal-backdrop"+(e.backdropClass?" "+e.backdropClass:"")),pt("show",!e.animation)("fade",e.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[fi],decls:0,vars:0,template:function(i,e){},encapsulation:2});let a=r;return a})(),ut=class{update(r){}close(r){}dismiss(r){}},Oy=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],Ly=["animation","backdropClass"],as=class{_applyWindowOptions(r,l){Oy.forEach(t=>{os(l[t])&&(r[t]=l[t])})}_applyBackdropOptions(r,l){Ly.forEach(t=>{os(l[t])&&(r[t]=l[t])})}update(r){this._applyWindowOptions(this._windowCmptRef.instance,r),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,r)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(xt(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(xt(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(r,l,t,i){this._windowCmptRef=r,this._contentRef=l,this._backdropCmptRef=t,this._beforeDismiss=i,this._closed=new Ye,this._dismissed=new Ye,this._hidden=new Ye,r.instance.dismissEvent.subscribe(e=>{this.dismiss(e)}),this.result=new Promise((e,c)=>{this._resolve=e,this._reject=c}),this.result.then(null,()=>{})}close(r){this._windowCmptRef&&(this._closed.next(r),this._resolve(r),this._removeModalElements())}_dismiss(r){this._dismissed.next(r),this._reject(r),this._removeModalElements()}dismiss(r){if(this._windowCmptRef)if(!this._beforeDismiss)this._dismiss(r);else{let l=this._beforeDismiss();Hb(l)?l.then(t=>{t!==!1&&this._dismiss(r)},()=>{}):l!==!1&&this._dismiss(r)}}_removeModalElements(){let r=this._windowCmptRef.instance.hide(),l=this._backdropCmptRef?this._backdropCmptRef.instance.hide():Eo(void 0);r.subscribe(()=>{let{nativeElement:t}=this._windowCmptRef.location;t.parentNode.removeChild(t),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),l.subscribe(()=>{if(this._backdropCmptRef){let{nativeElement:t}=this._backdropCmptRef.location;t.parentNode.removeChild(t),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),ia(r,l).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}},ls=function(a){return a[a.BACKDROP_CLICK=0]="BACKDROP_CLICK",a[a.ESC=1]="ESC",a}(ls||{}),By=(()=>{let r=class r{constructor(){this._document=ne(Wt),this._elRef=ne(It),this._zone=ne(ti),this._closed$=new Ye,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new W,this.shown=new Ye,this.hidden=new Ye}get fullscreenClass(){return this.fullscreen===!0?" modal-fullscreen":jo(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(fn(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){let{nativeElement:t}=this._elRef,i={animation:this.animation,runningTransition:"stop"},e=xn(this._zone,t,()=>t.classList.remove("show"),i),c=xn(this._zone,this._dialogEl.nativeElement,()=>{},i),p=ia(e,c);return p.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),p}_show(){let t={animation:this.animation,runningTransition:"continue"},i=xn(this._zone,this._elRef.nativeElement,(c,p)=>{p&&Fm(c),c.classList.add("show")},t),e=xn(this._zone,this._dialogEl.nativeElement,()=>{},t);ia(i,e).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){let{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Xt(t,"keydown").pipe(xt(this._closed$),Ti(e=>e.which===_i.Escape)).subscribe(e=>{this.keyboard?requestAnimationFrame(()=>{e.defaultPrevented||this._zone.run(()=>this.dismiss(ls.ESC))}):this.backdrop==="static"&&this._bumpBackdrop()});let i=!1;Xt(this._dialogEl.nativeElement,"mousedown").pipe(xt(this._closed$),ei(()=>i=!1),lr(()=>Xt(t,"mouseup").pipe(xt(this._closed$),fn(1))),Ti(({target:e})=>t===e)).subscribe(()=>{i=!0}),Xt(t,"click").pipe(xt(this._closed$)).subscribe(({target:e})=>{t===e&&(this.backdrop==="static"?this._bumpBackdrop():this.backdrop===!0&&!i&&this._zone.run(()=>this.dismiss(ls.BACKDROP_CLICK))),i=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){let{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){let i=t.querySelector("[ngbAutofocus]"),e=Pm(t)[0];(i||e||t).focus()}}_restoreFocus(){let t=this._document.body,i=this._elWithFocus,e;i&&i.focus&&t.contains(i)?e=i:e=t,this._zone.runOutsideAngular(()=>{setTimeout(()=>e.focus()),this._elWithFocus=null})}_bumpBackdrop(){this.backdrop==="static"&&xn(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-modal-window"]],viewQuery:function(i,e){if(i&1&&Le(ub,7),i&2){let c;we(c=Ie())&&(e._dialogEl=c.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(i,e){i&2&&(ci("aria-modal",!0)("aria-labelledby",e.ariaLabelledBy)("aria-describedby",e.ariaDescribedBy),Xn("modal d-block"+(e.windowClass?" "+e.windowClass:"")),pt("fade",e.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[fi],ngContentSelectors:ss,decls:4,vars:2,consts:[["dialog",""],["role","document"],[1,"modal-content"]],template:function(i,e){i&1&&(cr(),o(0,"div",1,0)(2,"div",2),pr(3),n()()),i&2&&Xn("modal-dialog"+(e.size?" modal-"+e.size:"")+(e.centered?" modal-dialog-centered":"")+e.fullscreenClass+(e.scrollable?" modal-dialog-scrollable":"")+(e.modalDialogClass?" "+e.modalDialogClass:""))},styles:[`ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}
`],encapsulation:2});let a=r;return a})(),Vy=(()=>{let r=class r{constructor(){this._applicationRef=ne(ur),this._injector=ne(_n),this._environmentInjector=ne(sr),this._document=ne(Wt),this._scrollBar=ne(ky),this._activeWindowCmptHasChanged=new Ye,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new W;let t=ne(ti);this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){let i=this._windowCmpts[this._windowCmpts.length-1];km(t,i.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(i.location.nativeElement)}})}_restoreScrollBar(){let t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,i,e){let c=e.container instanceof HTMLElement?e.container:os(e.container)?this._document.querySelector(e.container):this._document.body;if(!c)throw new Error(`The specified modal container "${e.container||"body"}" was not found in the DOM.`);this._hideScrollBar();let p=new ut;t=e.injector||t;let h=t.get(sr,null)||this._environmentInjector,w=this._getContentRef(t,h,i,p,e),N=e.backdrop!==!1?this._attachBackdrop(c):void 0,L=this._attachWindowComponent(c,w.nodes),V=new as(L,w,N,e.beforeDismiss);return this._registerModalRef(V),this._registerWindowCmpt(L),V.hidden.pipe(fn(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(this._document.body.classList.remove("modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),p.close=I=>{V.close(I)},p.dismiss=I=>{V.dismiss(I)},p.update=I=>{V.update(I)},V.update(e),this._modalRefs.length===1&&this._document.body.classList.add("modal-open"),N&&N.instance&&N.changeDetectorRef.detectChanges(),L.changeDetectorRef.detectChanges(),V}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(i=>i.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let i=Fo(Ay,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_attachWindowComponent(t,i){let e=Fo(By,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:i});return this._applicationRef.attachView(e.hostView),t.appendChild(e.location.nativeElement),e}_getContentRef(t,i,e,c,p){return e?e instanceof gi?this._createFromTemplateRef(e,c):jo(e)?this._createFromString(e):this._createFromComponent(t,i,e,c,p):new Dn([])}_createFromTemplateRef(t,i){let e={$implicit:i,close(p){i.close(p)},dismiss(p){i.dismiss(p)}},c=t.createEmbeddedView(e);return this._applicationRef.attachView(c),new Dn([c.rootNodes],c)}_createFromString(t){let i=this._document.createTextNode(`${t}`);return new Dn([[i]])}_createFromComponent(t,i,e,c,p){let h=_n.create({providers:[{provide:ut,useValue:c}],parent:t}),w=Fo(e,{environmentInjector:i,elementInjector:h}),N=w.location.nativeElement;return p.scrollable&&N.classList.add("component-host-scrollable"),this._applicationRef.attachView(w.hostView),new Dn([[N]],w.hostView,w)}_setAriaHidden(t){let i=t.parentElement;i&&t!==this._document.body&&(Array.from(i.children).forEach(e=>{e!==t&&e.nodeName!=="SCRIPT"&&(this._ariaHiddenValues.set(e,e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}),this._setAriaHidden(i))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,i)=>{t?i.setAttribute("aria-hidden",t):i.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){let i=()=>{let e=this._modalRefs.indexOf(t);e>-1&&(this._modalRefs.splice(e,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(i,i)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{let i=this._windowCmpts.indexOf(t);i>-1&&(this._windowCmpts.splice(i,1),this._activeWindowCmptHasChanged.next())})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),qe=(()=>{let r=class r{constructor(){this._injector=ne(_n),this._modalStack=ne(Vy),this._config=ne(Py)}open(t,i={}){let e=di(zi(di({},this._config),{animation:this._config.animation}),i);return this._modalStack.open(this._injector,t,e)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Ry=(()=>{let r=class r{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),jy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0});let a=r;return a})(),Gy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0});let a=r;return a})(),Wy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0});let a=r;return a})(),Uy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0});let a=r;return a})(),Hy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0});let a=r;return a})(),zy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0});let a=r;return a})(),qy=(()=>{let r=class r{constructor(){this.templateRef=ne(gi)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0});let a=r;return a})(),Ne=(()=>{let r=class r{constructor(){this._config=ne(Ry),this.pageCount=0,this.pages=[],this.disabled=this._config.disabled,this.boundaryLinks=this._config.boundaryLinks,this.directionLinks=this._config.directionLinks,this.ellipses=this._config.ellipses,this.rotate=this._config.rotate,this.maxSize=this._config.maxSize,this.page=1,this.pageSize=this._config.pageSize,this.pageChange=new W(!0),this.size=this._config.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return t===-1}_applyEllipses(t,i){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):t===2&&this.pages.unshift(2),this.pages.unshift(1)),i<this.pageCount&&(i<this.pageCount-2?this.pages.push(-1):i===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,i=this.pageCount,e=Math.floor(this.maxSize/2),c=this.maxSize%2===0?e-1:e;return this.page<=e?i=this.maxSize:this.pageCount-this.page<e?t=this.pageCount-this.maxSize:(t=this.page-e-1,i=this.page+c),[t,i]}_applyPagination(){let i=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize,e=i+this.maxSize;return[i,e]}_setPageInRange(t){let i=this.page;this.page=Ub(t,this.pageCount,1),this.page!==i&&Zi(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Zi(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let i=1;i<=this.pageCount;i++)this.pages.push(i);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let i=0,e=this.pageCount;this.rotate?[i,e]=this._applyRotation():[i,e]=this._applyPagination(),this.pages=this.pages.slice(i,e),this._applyEllipses(i,e)}}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-pagination"]],contentQueries:function(i,e,c){if(i&1&&(bn(c,jy,5),bn(c,Gy,5),bn(c,Wy,5),bn(c,Uy,5),bn(c,Hy,5),bn(c,zy,5),bn(c,qy,5)),i&2){let p;we(p=Ie())&&(e.tplEllipsis=p.first),we(p=Ie())&&(e.tplFirst=p.first),we(p=Ie())&&(e.tplLast=p.first),we(p=Ie())&&(e.tplNext=p.first),we(p=Ie())&&(e.tplNumber=p.first),we(p=Ie())&&(e.tplPrevious=p.first),we(p=Ie())&&(e.tplPages=p.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[Be,fi],decls:20,vars:12,consts:()=>{let t;t=$localize`:@@ngb.pagination.first:`;let i;i=$localize`:@@ngb.pagination.previous:`;let e;e=$localize`:@@ngb.pagination.next:`;let c;c=$localize`:@@ngb.pagination.last:`;let p;p=$localize`:@@ngb.pagination.first-aria:First`;let h;h=$localize`:@@ngb.pagination.previous-aria:Previous`;let w;w=$localize`:@@ngb.pagination.next-aria:Next`;let N;return N=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],t,i,e,c,[1,"page-item"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",p,"href","",1,"page-link",3,"click"],["aria-label",h,"href","",1,"page-link",3,"click"],["aria-label",w,"href","",1,"page-link",3,"click"],["aria-label",N,"href","",1,"page-link",3,"click"]]},template:function(i,e){if(i&1&&(v(0,vb,2,0,"ng-template",null,0,te)(2,bb,2,0,"ng-template",null,1,te)(4,yb,2,0,"ng-template",null,2,te)(6,Cb,2,0,"ng-template",null,3,te)(8,Sb,1,0,"ng-template",null,4,te)(10,xb,1,1,"ng-template",null,5,te)(12,Nb,2,0,"ng-template",null,6,te),o(14,"ul"),v(15,Mb,3,9,"li",11)(16,kb,3,8,"li",11)(17,Ab,0,0,"ng-template",12)(18,Lb,3,9,"li",11)(19,Vb,3,9,"li",11),n()),i&2){let c=R(13);d(14),Xn("pagination"+(e.size?" pagination-"+e.size:"")),d(),Ft(15,e.boundaryLinks?15:-1),d(),Ft(16,e.directionLinks?16:-1),d(),m("ngTemplateOutlet",(e.tplPages==null?null:e.tplPages.templateRef)||c)("ngTemplateOutletContext",eo(8,hb,e.page,e.pages,e.disabled)),d(),Ft(18,e.directionLinks?18:-1),d(),Ft(19,e.boundaryLinks?19:-1)}},dependencies:[gr],encapsulation:2,changeDetection:0});let a=r;return a})();var Yy={hover:["mouseenter","mouseleave"],focus:["focusin","focusout"]};function $y(a){let r=(a||"").trim();if(r.length===0)return[];let l=r.split(/\s+/).map(i=>i.split(":")).map(i=>Yy[i[0]]||i),t=l.filter(i=>i.includes("manual"));if(t.length>1)throw"Triggers parse error: only one manual trigger is allowed";if(t.length===1&&l.length>1)throw"Triggers parse error: manual trigger can't be mixed with other triggers";return t.length?[]:l}function Om(a,r,l,t,i,e=0,c=0){let p=$y(r);if(p.length===0)return()=>{};let h=new Set,w=[],N;function L(I,G){a.addEventListener(I,G),w.push(()=>a.removeEventListener(I,G))}function V(I,G){clearTimeout(N),G>0?N=setTimeout(I,G):I()}for(let[I,G]of p)G?(L(I,()=>{h.add(I),V(()=>h.size>0&&t(),e)}),L(G,()=>{h.delete(I),V(()=>h.size===0&&i(),c)})):L(I,()=>l()?V(i,c):V(t,e));return()=>w.forEach(I=>I())}var Qy=(()=>{let r=class r{constructor(){this._ngbConfig=ne(cs),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="click",this.disablePopover=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),Zy=0,Ky=(()=>{let r=class r{isTitleTemplate(){return this.title instanceof gi}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-popover-window"]],hostAttrs:["role","tooltip",2,"position","absolute"],hostVars:5,hostBindings:function(i,e){i&2&&(sa("id",e.id),Xn("popover"+(e.popoverClass?" "+e.popoverClass:"")),pt("fade",e.animation))},inputs:{animation:"animation",title:"title",id:"id",popoverClass:"popoverClass",context:"context"},standalone:!0,features:[fi],ngContentSelectors:ss,decls:4,vars:1,consts:[["simpleTitle",""],["data-popper-arrow","",1,"popover-arrow"],[1,"popover-header"],[1,"popover-body"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(i,e){i&1&&(cr(),E(0,"div",1),v(1,Gb,4,2,"h3",2),o(2,"div",3),pr(3),n()),i&2&&(d(),Ft(1,e.title?1:-1))},dependencies:[gr],encapsulation:2,changeDetection:0});let a=r;return a})(),ii=(()=>{let r=class r{constructor(){this._config=ne(Qy),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disablePopover=this._config.disablePopover,this.popoverClass=this._config.popoverClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new W,this.hidden=new W,this._nativeElement=ne(It).nativeElement,this._ngZone=ne(ti),this._document=ne(Wt),this._changeDetector=ne(wi),this._ngbPopoverWindowId=`ngb-popover-${Zy++}`,this._popupService=new Fa(Ky),this._windowRef=null,this._positioning=hs()}open(t){if(!this._windowRef&&!this._isDisabled()){let{windowRef:i,transition$:e}=this._popupService.open(this.ngbPopover,t??this.popoverContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("title",this.popoverTitle),this._windowRef.setInput("context",t??this.popoverContext),this._windowRef.setInput("popoverClass",this.popoverClass),this._windowRef.setInput("id",this._ngbPopoverWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbPopoverWindowId),this.container==="body"&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:this.container==="body",baseClass:"bs-popover",updatePopperOptions:c=>this.popperOptions(gs([0,8])(c))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),us(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement]),e.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return this._windowRef!=null}ngOnInit(){this._unregisterListenersFn=Om(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({ngbPopover:t,popoverTitle:i,disablePopover:e,popoverClass:c}){c&&this.isOpen()&&this._windowRef.setInput("popoverClass",c.currentValue),(t||i||e)&&this._isDisabled()&&this.close()}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_isDisabled(){return this.disablePopover?!0:!this.ngbPopover&&!this.popoverTitle}_getPositionTargetElement(){return(jo(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["","ngbPopover",""]],inputs:{animation:"animation",autoClose:"autoClose",ngbPopover:"ngbPopover",popoverTitle:"popoverTitle",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disablePopover:"disablePopover",popoverClass:"popoverClass",popoverContext:"popoverContext",openDelay:"openDelay",closeDelay:"closeDelay"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbPopover"],standalone:!0,features:[Be]});let a=r;return a})(),Lm=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({});let a=r;return a})();var Jy=(()=>{let r=class r{constructor(){this._ngbConfig=ne(cs),this.autoClose=!0,this.placement="auto",this.popperOptions=t=>t,this.triggers="hover focus",this.disableTooltip=!1,this.openDelay=0,this.closeDelay=0}get animation(){return this._animation??this._ngbConfig.animation}set animation(t){this._animation=t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),Xy=0,eC=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ngb-tooltip-window"]],hostAttrs:["role","tooltip"],hostVars:5,hostBindings:function(i,e){i&2&&(sa("id",e.id),Xn("tooltip"+(e.tooltipClass?" "+e.tooltipClass:"")),pt("fade",e.animation))},inputs:{animation:"animation",id:"id",tooltipClass:"tooltipClass"},standalone:!0,features:[fi],ngContentSelectors:ss,decls:3,vars:0,consts:[["data-popper-arrow","",1,"tooltip-arrow"],[1,"tooltip-inner"]],template:function(i,e){i&1&&(cr(),E(0,"div",0),o(1,"div",1),pr(2),n())},styles:[`ngb-tooltip-window{pointer-events:none;position:absolute}ngb-tooltip-window .tooltip-inner{pointer-events:auto}ngb-tooltip-window.bs-tooltip-top,ngb-tooltip-window.bs-tooltip-bottom{padding-left:0;padding-right:0}ngb-tooltip-window.bs-tooltip-start,ngb-tooltip-window.bs-tooltip-end{padding-top:0;padding-bottom:0}
`],encapsulation:2,changeDetection:0});let a=r;return a})(),be=(()=>{let r=class r{constructor(){this._config=ne(Jy),this.animation=this._config.animation,this.autoClose=this._config.autoClose,this.placement=this._config.placement,this.popperOptions=this._config.popperOptions,this.triggers=this._config.triggers,this.container=this._config.container,this.disableTooltip=this._config.disableTooltip,this.tooltipClass=this._config.tooltipClass,this.openDelay=this._config.openDelay,this.closeDelay=this._config.closeDelay,this.shown=new W,this.hidden=new W,this._nativeElement=ne(It).nativeElement,this._ngZone=ne(ti),this._document=ne(Wt),this._changeDetector=ne(wi),this._ngbTooltipWindowId=`ngb-tooltip-${Xy++}`,this._popupService=new Fa(eC),this._windowRef=null,this._positioning=hs()}set ngbTooltip(t){this._ngbTooltip=t,!t&&this._windowRef&&this.close()}get ngbTooltip(){return this._ngbTooltip}open(t){if(!this._windowRef&&this._ngbTooltip&&!this.disableTooltip){let{windowRef:i,transition$:e}=this._popupService.open(this._ngbTooltip,t??this.tooltipContext,this.animation);this._windowRef=i,this._windowRef.setInput("animation",this.animation),this._windowRef.setInput("tooltipClass",this.tooltipClass),this._windowRef.setInput("id",this._ngbTooltipWindowId),this._getPositionTargetElement().setAttribute("aria-describedby",this._ngbTooltipWindowId),this.container==="body"&&this._document.body.appendChild(this._windowRef.location.nativeElement),this._windowRef.changeDetectorRef.detectChanges(),this._windowRef.changeDetectorRef.markForCheck(),this._ngZone.runOutsideAngular(()=>{this._positioning.createPopper({hostElement:this._getPositionTargetElement(),targetElement:this._windowRef.location.nativeElement,placement:this.placement,appendToBody:this.container==="body",baseClass:"bs-tooltip",updatePopperOptions:c=>this.popperOptions(gs([0,6])(c))}),Promise.resolve().then(()=>{this._positioning.update(),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>this._positioning.update())})}),us(this._ngZone,this._document,this.autoClose,()=>this.close(),this.hidden,[this._windowRef.location.nativeElement],[this._nativeElement]),e.subscribe(()=>this.shown.emit())}}close(t=this.animation){this._windowRef!=null&&(this._getPositionTargetElement().removeAttribute("aria-describedby"),this._popupService.close(t).subscribe(()=>{this._windowRef=null,this._positioning.destroy(),this._zoneSubscription?.unsubscribe(),this.hidden.emit(),this._changeDetector.markForCheck()}))}toggle(){this._windowRef?this.close():this.open()}isOpen(){return this._windowRef!=null}ngOnInit(){this._unregisterListenersFn=Om(this._nativeElement,this.triggers,this.isOpen.bind(this),this.open.bind(this),this.close.bind(this),+this.openDelay,+this.closeDelay)}ngOnChanges({tooltipClass:t}){t&&this.isOpen()&&this._windowRef.setInput("tooltipClass",t.currentValue)}ngOnDestroy(){this.close(!1),this._unregisterListenersFn?.()}_getPositionTargetElement(){return(jo(this.positionTarget)?this._document.querySelector(this.positionTarget):this.positionTarget)||this._nativeElement}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["","ngbTooltip",""]],inputs:{animation:"animation",autoClose:"autoClose",placement:"placement",popperOptions:"popperOptions",triggers:"triggers",positionTarget:"positionTarget",container:"container",disableTooltip:"disableTooltip",tooltipClass:"tooltipClass",tooltipContext:"tooltipContext",openDelay:"openDelay",closeDelay:"closeDelay",ngbTooltip:"ngbTooltip"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbTooltip"],standalone:!0,features:[Be]});let a=r;return a})(),Bm=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({});let a=r;return a})();var kV=new tn("live announcer delay",{providedIn:"root",factory:()=>100});var Rn=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getCustomers(t,i=0,e=this.maxCount){return this.post(Jc(i,e),t)}getCustomerData(t){return this.get($p(t))}updateCustomer(t,i){return this.put(Yp(t),i)}createCustomer(t){return this.post(qp(),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function nC(a,r){if(a&1&&(o(0,"ng-option",13),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function oC(a,r){if(a&1&&(o(0,"ng-option",13),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function rC(a,r){if(a&1&&(o(0,"ng-option",13),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Vm=(()=>{let r=class r{constructor(t,i){this.toastr=t,this.elementRef=i,this.filters=[],this.getData=new W,this.customerCode=void 0,this.customerName=void 0,this.status=void 0}ngOnInit(){}onCustomerSearch(){let t={customerCode:this.customerCode,customerName:this.customerName,status:this.status};this.getData.emit(t)}onClearFilter(){this.customerName=void 0,this.customerCode=void 0,this.status=void 0;let t={customerCode:void 0,customerName:void 0,status:void 0};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(Z),D(It))},r.\u0275cmp=k({type:r,selectors:[["app-customer-filters"]],inputs:{filters:"filters"},outputs:{getData:"getData"},decls:28,vars:7,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Code",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Name",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters","me-2",2,"padding","4px 10px",3,"click","disabled"],[1,"custom-button-filters",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Customer Code"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.customerCode,p)||(e.customerCode=p),p}),v(7,nC,2,2,"ng-option",6),n()()(),o(8,"div",2)(9,"div",3)(10,"label",4),s(11,"Customer Name"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.customerName,p)||(e.customerName=p),p}),v(13,oC,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label"),s(17,"Status"),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(19,rC,2,2,"ng-option",6),n()()(),o(20,"div",9)(21,"div",3)(22,"label",10),s(23,"\xA0"),n(),o(24,"button",11),g("click",function(){return e.onCustomerSearch()}),s(25," Search "),n(),o(26,"button",12),g("click",function(){return e.onClearFilter()}),s(27,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.customerCode),d(),m("ngForOf",e.filters==null?null:e.filters.CustomerCode),d(5),F("ngModel",e.customerName),d(),m("ngForOf",e.filters==null?null:e.filters.CustomerName),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",!e.customerCode&&!e.customerName&&!e.status))},dependencies:[$,le,se,U,Y],styles:[".custom-form-input[_ngcontent-%COMP%]{position:relative}.suggestions[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:1px solid #ccc;border-top:none;max-height:var(--spacer-200);width:100%}.suggestion[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer}.suggestion[_ngcontent-%COMP%]:hover{background-color:#f5faff}"]});let a=r;return a})();var lC=["table"],sC=(a,r)=>r.id;function dC(a,r){if(a&1&&(o(0,"div",9)(1,"div",10)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",10)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",10)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",10)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function cC(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",6)(2,"span",7)(3,"u"),s(4),n()(),v(5,dC,23,10,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),n(),o(33,"td"),s(34),n(),o(35,"td"),s(36),n(),o(37,"td"),s(38),n(),o(39,"td"),s(40),n(),o(41,"td"),s(42),n(),o(43,"td"),s(44),n(),o(45,"td"),s(46),n(),o(47,"td",5)(48,"img",8),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onGoToEditCustomer(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l.customerType),d(4),_(l.customerName),d(2),_(l.billingAddressLine1),d(2),_(l.billingAddressLine2),d(2),_(l.billingCity),d(2),_(l.billingState),d(2),_(l.billingCountry),d(2),_(l.billingPinCode),d(2),_(l.shippingAddressLine1),d(2),_(l.shippingAddressLine2),d(2),_(l.shippingCity),d(2),_(l.shippingState),d(2),_(l.shippingCountry),d(2),_(l.shippingPinCode),d(2),_(l.contactPersonName),d(2),_(l.designation),d(2),_(l.email),d(2),_(l.mobileNumber),d(2),_(l.currency),d(2),_(l.paymentTerms),d(2),_(l.status)}}function pC(a,r){a&1&&(o(0,"tr")(1,"td",11),s(2,"No Customer Found"),n()())}var Rm=(()=>{let r=class r{constructor(t){this.router=t,this.customersList=[],this.exportHeader=new W,this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.customersList&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}onGoToEditCustomer(t){this.router.navigate(["master/addEditCustomer",t.id])}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.customersList)}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-customer-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(lC,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{customersList:"customersList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:53,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"table",3,0)(3,"thead")(4,"tr")(5,"th",4),g("click",function(){return b(c),y(e.sortData("customerType"))}),s(6,"Customer Type"),n(),o(7,"th",4),g("click",function(){return b(c),y(e.sortData("customerName"))}),s(8,"Customer Name"),n(),o(9,"th",4),g("click",function(){return b(c),y(e.sortData("billingAddressLine1"))}),s(10,"Billing Address Line 1"),n(),o(11,"th",4),g("click",function(){return b(c),y(e.sortData("billingAddressLine2"))}),s(12,"Billing Address Line 2"),n(),o(13,"th",4),g("click",function(){return b(c),y(e.sortData("billingCity"))}),s(14,"Billing City"),n(),o(15,"th",4),g("click",function(){return b(c),y(e.sortData("billingState"))}),s(16,"Billing State"),n(),o(17,"th",4),g("click",function(){return b(c),y(e.sortData("billingCountry"))}),s(18,"Billing Country"),n(),o(19,"th",4),g("click",function(){return b(c),y(e.sortData("billingPinCode"))}),s(20,"Billing Pin Code"),n(),o(21,"th",4),g("click",function(){return b(c),y(e.sortData("shippingAddressLine1"))}),s(22,"Shipping Address Line 1"),n(),o(23,"th",4),g("click",function(){return b(c),y(e.sortData("shippingAddressLine2"))}),s(24,"Shipping Address Line 2"),n(),o(25,"th",4),g("click",function(){return b(c),y(e.sortData("shippingCity"))}),s(26,"Shipping City"),n(),o(27,"th",4),g("click",function(){return b(c),y(e.sortData("shippingState"))}),s(28,"Shipping State"),n(),o(29,"th",4),g("click",function(){return b(c),y(e.sortData("shippingCountry"))}),s(30,"Shipping Country"),n(),o(31,"th",4),g("click",function(){return b(c),y(e.sortData("shippingPinCode"))}),s(32,"Shipping Pin Code"),n(),o(33,"th",4),g("click",function(){return b(c),y(e.sortData("contactPersonName"))}),s(34,"Contact Person Name"),n(),o(35,"th",4),g("click",function(){return b(c),y(e.sortData("designation"))}),s(36,"Designation"),n(),o(37,"th",4),g("click",function(){return b(c),y(e.sortData("email"))}),s(38,"Email"),n(),o(39,"th",4),g("click",function(){return b(c),y(e.sortData("mobileNumber"))}),s(40,"Mobile Number"),n(),o(41,"th",4),g("click",function(){return b(c),y(e.sortData("currency"))}),s(42,"Currency"),n(),o(43,"th",4),g("click",function(){return b(c),y(e.sortData("paymentTerms"))}),s(44,"Payment Terms"),n(),o(45,"th",4),g("click",function(){return b(c),y(e.sortData("status"))}),s(46,"Status"),n(),o(47,"th",5),s(48,"Action"),n()()(),o(49,"tbody"),We(50,cC,49,22,"tr",null,sC,!1,pC,3,0,"tr"),n()()()}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(49),Ue(e.customersList))},dependencies:[ae,be,Se]});let a=r;return a})();var uC=(a,r)=>({isFilters:a,fullScreen:r});function hC(a,r){a&1&&s(0," Full Screen ")}function gC(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function fC(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var jm=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.customerService=i,this.toastr=e,this.xlsxService=c,this.customersList=[],this.loadSpinner=!0,this.isFilters=!0,this.searchedCustomer="",this.fullScreen=!1,this.headers=[],this.currentPage=1,this.count=10,this.totalCustomers=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getFilteredCustomersList()}getFilteredCustomersList(t=0,i=this.count,e=this.appliedFilters){let c={customerCode:e?.customerCode||"",customerName:e?.customerName||"",status:e?.status||""};this.customerService.getCustomers(c,t,i).subscribe(p=>{console.log(p),this.customersList=p.customers,this.totalCustomers=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getFilteredCustomersList(0,this.count,this.appliedFilters)}onCreateCustomer(){this.router.navigate(["master/addEditCustomer","0"])}onExportHeader(t){this.headers=t}exportData(t="Customer"){let i={customerNumber:this.appliedFilters?.customerNumber||"",customerName:this.appliedFilters?.customerName||"",status:this.appliedFilters?.status||""};this.customerService.getCustomers(i,0,this.totalCustomers).subscribe(e=>{let p=e.customers.map(h=>({customerType:h.customerType,customerCode:h.customerCode,customerName:h.customerName,billingAddressLine1:h.billingAddressLine1,billingAddressLine2:h.billingAddressLine2,billingCity:h.billingCity,billingState:h.billingState,billingCountry:h.billingCountry,billingPinCode:h.billingPinCode,shippingAddressLine1:h.shippingAddressLine1,shippingAddressLine2:h.shippingAddressLine2,shippingCity:h.shippingCity,shippingState:h.shippingState,shippingCountry:h.shippingState,shippingPinCode:h.shippingPinCode,designation:h.designation,contactPersonName:h.contactPersonName,email:h.email,mobileNumber:h.mobileNumber,currency:h.currency,paymentTerms:h.paymentTerms,status:h.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getFilteredCustomersList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getFilteredCustomersList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Rn),D(Z),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-customer"]],decls:36,vars:21,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","customersList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"Customer Master"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateCustomer())}),s(8,"Create Customer"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,hC,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-customer-filters",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,gC,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-customer-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,fC,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(4),m("filters",e.filters),d(),m("ngClass",$e(18,uC,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("customersList",e.customersList),d(2),m("collectionSize",e.totalCustomers),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,Vm,Rm],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 253px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var nn=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getCountryData(t,i=0,e=this.maxCount){return this.post(Kp(i,e),t)}getStateData(t,i=0,e=this.maxCount){return this.post(Jp(i,e),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function _C(a,r){a&1&&(o(0,"li",7)(1,"a",74),s(2,"Compliance Details "),n()())}function vC(a,r){a&1&&(o(0,"li",7)(1,"a",75),s(2,"Status "),n()())}function bC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function yC(a,r){a&1&&(o(0,"small",76),s(1," Customer Type is required. "),n())}function CC(a,r){if(a&1&&(o(0,"div"),v(1,yC,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("customerType"))==null?null:l.hasError("required"))}}function SC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function xC(a,r){a&1&&(o(0,"small",76),s(1," Customer Name is required. "),n())}function DC(a,r){if(a&1&&(o(0,"div"),v(1,xC,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("customerName"))==null?null:l.hasError("required"))}}function EC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function TC(a,r){a&1&&(o(0,"small",76),s(1," Address is required. "),n())}function wC(a,r){if(a&1&&(o(0,"div"),v(1,TC,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("billingAddressLine1"))==null?null:l.hasError("required"))}}function IC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function NC(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function FC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function MC(a,r){a&1&&(o(0,"small",76),s(1," City is required. "),n())}function PC(a,r){if(a&1&&(o(0,"div"),v(1,MC,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("billingCity"))==null?null:l.hasError("required"))}}function kC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function AC(a,r){a&1&&E(0,"input",78)}function OC(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function LC(a,r){if(a&1&&(o(0,"ng-select",79),v(1,OC,2,2,"ng-option",28),n()),a&2){let l=S();d(),m("ngForOf",l.stateList)}}function BC(a,r){a&1&&(o(0,"small",76),s(1," state is required. "),n())}function VC(a,r){if(a&1&&(o(0,"div"),v(1,BC,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("billingState"))==null?null:l.hasError("required"))}}function RC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function jC(a,r){a&1&&(o(0,"small",76),s(1," PinCode is required. "),n())}function GC(a,r){a&1&&(o(0,"small",76),s(1," Invalid PinCode. "),n())}function WC(a,r){if(a&1&&(o(0,"div"),v(1,jC,2,0,"small",17)(2,GC,2,0,"small",17),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.customerForm.get("billingPinCode"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.customerForm.get("billingPinCode"))==null?null:t.hasError("pattern"))}}function UC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function HC(a,r){a&1&&(o(0,"small",76),s(1," state is required. "),n())}function zC(a,r){if(a&1&&(o(0,"div"),v(1,HC,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("shippingAddressLine1"))==null?null:l.hasError("required"))}}function qC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function YC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function $C(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function QC(a,r){if(a&1){let l=O();o(0,"ng-select",80),g("click",function(i){b(l);let e=S();return y(e.onSelectshippingCountry(i))}),v(1,$C,2,2,"ng-option",28),n()}if(a&2){let l=S();d(),m("ngForOf",l.countryList)}}function ZC(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function KC(a,r){if(a&1){let l=O();o(0,"ng-select",80),g("click",function(i){b(l);let e=S();return y(e.onSelectshippingCountry(i))}),v(1,ZC,2,2,"ng-option",28),n()}if(a&2){let l=S();d(),m("ngForOf",l.countryList)}}function JC(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function XC(a,r){a&1&&(o(0,"small",76),s(1," state is required. "),n())}function eS(a,r){if(a&1&&(o(0,"div"),v(1,XC,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("shippingCity"))==null?null:l.hasError("required"))}}function tS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function iS(a,r){a&1&&E(0,"input",81)}function nS(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function oS(a,r){if(a&1&&(o(0,"ng-select",82),v(1,nS,2,2,"ng-option",28),n()),a&2){let l=S();d(),m("ngForOf",l.stateList)}}function rS(a,r){a&1&&(o(0,"small",76),s(1," state is required. "),n())}function aS(a,r){if(a&1&&(o(0,"div"),v(1,rS,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("shippingState"))==null?null:l.hasError("required"))}}function lS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function sS(a,r){a&1&&(o(0,"small",76),s(1," Pincode is required. "),n())}function dS(a,r){a&1&&(o(0,"small",76),s(1," Invalid PinCode. "),n())}function cS(a,r){if(a&1&&(o(0,"div"),v(1,sS,2,0,"small",17)(2,dS,2,0,"small",17),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.customerForm.get("shippingPinCode"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.customerForm.get("shippingPinCode"))==null?null:t.hasError("pattern"))}}function pS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function mS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function uS(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function hS(a,r){if(a&1){let l=O();o(0,"ng-select",83),g("change",function(i){b(l);let e=S();return y(e.onSelectCurrency(i))}),v(1,uS,2,2,"ng-option",28),n()}if(a&2){let l=S();d(),m("ngForOf",l.CurrencyList)}}function gS(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function fS(a,r){if(a&1){let l=O();o(0,"ng-select",83),g("change",function(i){b(l);let e=S();return y(e.onSelectCurrency(i))}),v(1,gS,2,2,"ng-option",28),n()}if(a&2){let l=S();d(),m("ngForOf",l.CurrencyList)}}function _S(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function vS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function bS(a,r){a&1&&(o(0,"small",76),s(1," Contact Name is required. "),n())}function yS(a,r){if(a&1&&(o(0,"div"),v(1,bS,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("contactPersonName"))==null?null:l.hasError("required"))}}function CS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function SS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function xS(a,r){a&1&&(o(0,"small",76),s(1," Please enter a valid email address. "),n())}function DS(a,r){if(a&1&&(o(0,"div"),v(1,xS,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("email1"))==null?null:l.hasError("email"))}}function ES(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function TS(a,r){a&1&&(o(0,"small",76),s(1," Enter a valid email address. "),n())}function wS(a,r){if(a&1&&(o(0,"div"),v(1,TS,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("email2"))==null?null:l.hasError("email"))}}function IS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function NS(a,r){if(a&1&&(o(0,"ng-option",77),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function FS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function MS(a,r){a&1&&(o(0,"small",76),s(1," No is required. "),n())}function PS(a,r){a&1&&(o(0,"small",76),s(1," Invalid Mobile No. "),n())}function kS(a,r){if(a&1&&(o(0,"div"),v(1,MS,2,0,"small",17)(2,PS,2,0,"small",17),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.customerForm.get("phoneMobileNo"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.customerForm.get("phoneMobileNo"))==null?null:t.hasError("pattern"))}}function AS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function OS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function LS(a,r){a&1&&(o(0,"small",76),s(1," MSME Type is required. "),n())}function BS(a,r){if(a&1&&(o(0,"div"),v(1,LS,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("msmeType"))==null?null:l.hasError("required"))}}function VS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function RS(a,r){a&1&&(o(0,"small",76),s(1," MSME No is required. "),n())}function jS(a,r){a&1&&(o(0,"small",76),s(1," MSME No must be 19 characters long with alphanumeric and special characters. "),n())}function GS(a,r){if(a&1&&(o(0,"div"),v(1,RS,2,0,"small",17)(2,jS,2,0,"small",17),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.customerForm.get("msmeNo"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.customerForm.get("msmeNo"))==null?null:t.hasError("pattern"))}}function WS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function US(a,r){a&1&&(o(0,"small",76),s(1," Correct Pan No is required. "),n())}function HS(a,r){a&1&&(o(0,"small",76),s(1," Invalid Pan. "),n())}function zS(a,r){if(a&1&&(o(0,"div"),v(1,US,2,0,"small",17)(2,HS,2,0,"small",17),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.customerForm.get("pan"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.customerForm.get("pan"))==null?null:t.hasError("pattern"))}}function qS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function YS(a,r){a&1&&(o(0,"small",76),s(1," GST Treatment is required. "),n())}function $S(a,r){if(a&1&&(o(0,"div"),v(1,YS,2,0,"small",17),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.customerForm.get("gstTreatment"))==null?null:l.hasError("required"))}}function QS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function ZS(a,r){a&1&&(o(0,"small",76),s(1," Gst No is required. "),n())}function KS(a,r){a&1&&(o(0,"small",76),s(1," Invalid GST No . "),n())}function JS(a,r){if(a&1&&(o(0,"div"),v(1,ZS,2,0,"small",17)(2,KS,2,0,"small",17),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.customerForm.get("gst"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.customerForm.get("gst"))==null?null:t.hasError("pattern"))}}function XS(a,r){a&1&&(o(0,"span",76),s(1,"*"),n())}function e2(a,r){if(a&1&&(o(0,"div",15)(1,"label",23),s(2,"Status "),v(3,XS,2,0,"span",17),n(),o(4,"select",84)(5,"option",85),s(6,"Active"),n(),o(7,"option",86),s(8,"Inactive"),n()()()),a&2){let l=S();d(3),m("ngIf",l.currentRequiredFields.includes("status"))}}function t2(a,r){a&1&&(o(0,"div",87),s(1," Loading... "),n())}var Gm=(()=>{let r=class r{constructor(t,i,e,c,p,h){this._Activatedroute=t,this.router=i,this.customerService=e,this.toastr=c,this.countryService=p,this.lookupService=h,this.customerId=0,this.customerData={id:0,customerType:"",customerCode:"",customerName:"",createdBy:"",createdOn:"",modifiedBy:"",modifiedOn:"",messageStatus:null},this.customersList=[],this.PhoneCodeList=[],this.CurrencyList=[],this.countryList=[],this.stateList=[],this.loadSpinner=!0,this.disableSubmit=!1,this.customerType="",this.showComplianceTab=!0,this.statusTab=!1,this.showExtraTab=!1,this.selectedTransactionTypes=new Set,this.isShow=!1,this.statusValue="",this.isBillingCountryDisabled=!1,this.requiredFieldsForDOM=["customerType","customerName","billingAddressLine1","billingCity","billingState","billingCountry","billingPinCode","shippingAddressLine1","shippingCity","shippingState","shippingCountry","shippingPinCode","gstTreatment","msmeRegistered","currency"],this.requiredFieldsForVIM=["customerType","customerName","billingAddressLine1","billingCity","billingCountry","billingPinCode","shippingAddressLine1","shippingCity","shippingCountry","shippingPinCode","currency"],this.currentRequiredFields=[],this.customerForm=new An({customerType:new J("",A.required),customerName:new J("",A.required),billingAddressLine1:new J("",A.required),billingAddressLine2:new J(""),billingCity:new J("",A.required),billingState:new J(""),billingCountry:new J("",A.required),billingPinCode:new J("",[A.required]),shippingAddressLine1:new J("",A.required),shippingAddressLine2:new J(""),shippingCity:new J("",A.required),shippingState:new J(""),shippingCountry:new J("",A.required),shippingPinCode:new J("",[A.required]),sameAsBilling:new J(!1),currencySymbol:new J(""),pan:new J("",[A.pattern(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/)]),gst:new J(""),gstTreatment:new J("",A.required),msmeRegistered:new J(null),msmeType:new J(""),msmeNo:new J(""),contactPersonName:new J(""),designation:new J(""),email1:new J("",[A.email]),email2:new J("",[A.email]),countryCode:new J(""),phoneMobileNo:new J("",[A.pattern("^[0-9]*$")]),currency:new J("",A.required),paymentTerms:new J(""),status:new J("")})}ngOnInit(){this.loadSpinner=!0,this.queryData=this._Activatedroute.snapshot.paramMap.get("customerId"),this.customerId=Number(this._Activatedroute.snapshot.paramMap.get("customerId"))||0,this.getCustomerData(this.queryData),this.AllcountryList(),this.AllstateList(),this.AllPhoneCodeList(),this.AllCurrencyList(),this.customerId==0&&(this.statusTab=!1),this.customerId>0&&(this.statusTab=!0,this.customerForm.get("currencySymbol")?.disable())}AllstateList(){this.loadSpinner=!0,this.lookupService.getDropdownData("States").subscribe(t=>{this.stateList=t.lookUps||[],this.loadSpinner=!1})}AllPhoneCodeList(){this.loadSpinner=!0,this.lookupService.getDropdownData("PhoneCodes").subscribe(t=>{this.PhoneCodeList=t.lookUps||[],this.loadSpinner=!1})}AllCurrencyList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Currency").subscribe(t=>{this.CurrencyList=t.lookUps||[],this.loadSpinner=!1})}onMsmeRegisterChange(){this.customerForm.get("msmeRegistered")?.value?(this.customerForm.get("msmeType")?.setValidators([A.required]),this.customerForm.get("msmeNo")?.setValidators([A.required]),this.requiredFieldsForDOM.includes("msmeType")||this.requiredFieldsForDOM.push("msmeType"),this.requiredFieldsForDOM.includes("msmeNo")||this.requiredFieldsForDOM.push("msmeNo"),this.currentRequiredFields=[...this.requiredFieldsForDOM]):(this.customerForm.get("msmeType")?.clearValidators(),this.customerForm.get("msmeNo")?.clearValidators(),this.requiredFieldsForDOM=this.requiredFieldsForDOM.filter(i=>i!=="msmeNo"),this.requiredFieldsForDOM=this.requiredFieldsForDOM.filter(i=>i!=="msmeType"),this.currentRequiredFields=[...this.requiredFieldsForDOM]),this.customerForm.get("msmeType")?.updateValueAndValidity(),this.customerForm.get("msmeNo")?.updateValueAndValidity()}onGSTTreatmentChange(t){let i=t.target.value,e=this.customerForm.get("gst"),c=A.pattern(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/);i==="Unregistered"||i==="Consumer"?(e?.setValidators([c]),this.requiredFieldsForDOM=this.requiredFieldsForDOM.filter(p=>p!=="gst")):(e?.setValidators([A.required,c]),this.requiredFieldsForDOM.includes("gst")||this.requiredFieldsForDOM.push("gst")),this.currentRequiredFields=[...this.requiredFieldsForDOM],e?.updateValueAndValidity()}onCustomerTypeChange(t){let i=t.target.value;this.customerType=i,this.customerType==="EIPCEXP"?(this.currentRequiredFields=this.requiredFieldsForVIM,this.showComplianceTab=!1,this.customerForm.get("billingPinCode")?.setValidators([A.required]),this.customerForm.get("billingPinCode")?.updateValueAndValidity(),this.customerForm.get("shippingPinCode")?.setValidators([A.required]),this.customerForm.get("shippingPinCode")?.updateValueAndValidity(),this.customerForm.get("shippingState")?.clearValidators(),this.customerForm.get("shippingState")?.updateValueAndValidity(),this.customerForm.get("msmeType")?.clearValidators(),this.customerForm.get("msmeType")?.updateValueAndValidity(),this.customerForm.get("msmeRegistered")?.setValue(!1),this.customerForm.get("msmeRegistered")?.clearValidators(),this.customerForm.get("msmeRegistered")?.updateValueAndValidity(),this.customerForm.get("msmeNo")?.clearValidators(),this.customerForm.get("msmeNo")?.updateValueAndValidity(),this.customerForm.get("phoneMobileNo")?.clearValidators(),this.customerForm.get("phoneMobileNo")?.setValidators([A.pattern("^[0-9]*$")]),this.customerForm.get("phoneMobileNo")?.updateValueAndValidity(),this.customerForm.get("ifscCode")?.clearValidators(),this.customerForm.get("ifscCode")?.updateValueAndValidity(),this.customerForm.get("gstTreatment")?.clearValidators(),this.customerForm.get("gstTreatment")?.updateValueAndValidity(),this.customerForm.get("accountNumber")?.setValidators([A.required]),this.customerForm.get("accountNumber")?.updateValueAndValidity(),this.customerForm.get("confirmAccountNumber")?.setValidators([A.required]),this.customerForm.get("confirmAccountNumber")?.updateValueAndValidity()):(this.currentRequiredFields=this.requiredFieldsForDOM,this.showComplianceTab=!0,this.showExtraTab=!1,this.onMsmeRegisterChange(),this.customerForm.get("msmeRegistered")?.setValidators([A.required]),this.customerForm.get("msmeRegistered")?.updateValueAndValidity(),this.customerForm.get("phoneMobileNo")?.setValidators([A.pattern(/^[0-9]{10}$/)]),this.customerForm.get("phoneMobileNo")?.updateValueAndValidity(),this.customerForm.get("ifscCode")?.setValidators([A.required,A.pattern(/^[A-Z]{4}0[A-Z0-9]{6}$/)]),this.customerForm.get("ifscCode")?.updateValueAndValidity(),this.customerForm.get("billingPinCode")?.setValidators([A.required,A.pattern(/^[0-9]{6}$/)]),this.customerForm.get("billingPinCode")?.updateValueAndValidity(),this.customerForm.get("shippingPinCode")?.setValidators([A.required,A.pattern(/^[0-9]{6}$/)]),this.customerForm.get("shippingPinCode")?.updateValueAndValidity(),this.customerForm.get("pan")?.setValidators([A.pattern(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/)]),this.customerForm.get("pan")?.updateValueAndValidity(),this.customerForm.get("accountNumber")?.setValidators([A.required,A.pattern(/^\d{9,18}$/)]),this.customerForm.get("accountNumber")?.updateValueAndValidity(),this.customerForm.get("confirmAccountNumber")?.setValidators([A.required,A.pattern(/^\d{9,18}$/)]),this.customerForm.get("confirmAccountNumber")?.updateValueAndValidity()),i==="EIPCDOM"?(this.customerForm.patchValue({billingCountry:"India"}),this.customerForm.patchValue({shippingCountry:"India"}),this.customerForm.patchValue({currency:"Indian Rupee"}),this.customerForm.patchValue({currencySymbol:"\u20B9"}),this.customerForm.patchValue({countryCode:"+91"}),this.customerForm.get("billingCountry")?.disable(),this.customerForm.get("shippingCountry")?.disable(),this.customerForm.get("currency")?.disable(),this.customerForm.get("countryCode")?.disable(),this.customerForm.get("currencySymbol")?.disable()):(this.customerForm.get("billingCountry")?.enable(),this.customerForm.get("shippingCountry")?.enable(),this.customerForm.get("currency")?.enable(),this.customerForm.get("countryCode")?.enable())}onSelectbillingCountry(t){this.customerForm.get("billingCountry")?.setValue(t?.target?.innerText)}onSelectshippingCountry(t){this.customerForm.get("shippingCountry")?.setValue(t?.target?.innerText)}onSelectCurrency(t){let i=this.CurrencyList.find(e=>e.value===t);i?(this.customerForm.get("currencySymbol")?.setValue(i.description),this.customerForm.get("currencySymbol")?.disable()):(this.customerForm.get("currencySymbol")?.reset(),this.customerForm.get("currencySymbol")?.enable())}getCustomerData(t){this.customerService.getCustomerData(t).subscribe(i=>{this.customerData=i,this.patchCustomerData(i),i.shippingAddressLine1==i.billingAddressLine1&&this.copyBillingToShipping(!0);let e=this.customerForm.get("customerType")?.value;e&&(this.onCustomerTypeChange({target:{value:e}}),this.customerForm.get("customerType")?.disable()),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}onPressSave(){this.loadSpinner=!0;let t={actionBy:"",customerType:this.customerForm.get("customerType")?.value,customerCode:this.customerForm.get("customerCode")?.value,customerName:this.customerForm.get("customerName")?.value,billingAddressLine1:this.customerForm.get("billingAddressLine1")?.value,billingAddressLine2:this.customerForm.get("billingAddressLine2")?.value,billingCity:this.customerForm.get("billingCity")?.value,billingState:this.customerForm.get("billingState")?.value,billingCountry:this.customerForm.get("billingCountry")?.value,billingPinCode:this.customerForm.get("billingPinCode")?.value,shippingAddressLine1:this.customerForm.get("shippingAddressLine1")?.value,shippingAddressLine2:this.customerForm.get("shippingAddressLine2")?.value,shippingCity:this.customerForm.get("shippingCity")?.value,shippingState:this.customerForm.get("shippingState")?.value,shippingCountry:this.customerForm.get("shippingCountry")?.value,shippingPinCode:this.customerForm.get("shippingPinCode")?.value,pan:this.customerForm.get("pan")?.value,gst:this.customerForm.get("gst")?.value,gstTreatment:this.customerForm.get("gstTreatment")?.value,msmeRegistered:this.customerForm.get("msmeRegistered")?.value,msmeType:this.customerForm.get("msmeType")?.value,msmeNo:this.customerForm.get("msmeNo")?.value,contactPersonName:this.customerForm.get("contactPersonName")?.value,designation:this.customerForm.get("designation")?.value,email1:this.customerForm.get("email1")?.value,email2:this.customerForm.get("email2")?.value,countryCode:this.customerForm.get("countryCode")?.value,phoneMobileNo:this.customerForm.get("phoneMobileNo")?.value,currency:this.customerForm.get("currency")?.value,currencySymbol:this.customerForm.get("currencySymbol")?.value,paymentTerms:this.customerForm.get("paymentTerms")?.value,status:this.customerForm.get("status")?.value};this.customerId==0?(this.loadSpinner=!0,this.customerService.createCustomer(t).subscribe(i=>{this.customerData=i,this.loadSpinner=!1,this.toastr.success("Customer Created Successfully"),this.router.navigate(["/master/customer"])},()=>{this.loadSpinner=!1})):this.customerService.updateCustomer(this.queryData,t).subscribe(i=>{this.customerData=i,this.toastr.success("Customer Update Successfully"),this.router.navigate(["master/customer"]),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}onCancelPress(){this.router.navigate(["master/customer"])}patchCustomerData(t){setTimeout(()=>{},1e3),this.selectedTransactionTypes.clear(),this.customerForm.patchValue({customerType:t?.customerType,customerName:t?.customerName,billingAddressLine1:t?.billingAddressLine1,billingAddressLine2:t?.billingAddressLine2,billingCity:t?.billingCity,billingState:t?.billingState,billingCountry:t?.billingCountry,billingPinCode:t?.billingPinCode,shippingAddressLine1:t?.shippingAddressLine1,shippingAddressLine2:t?.shippingAddressLine2,shippingCity:t?.shippingCity,shippingState:t?.shippingState,shippingCountry:t?.shippingCountry,shippingPinCode:t?.shippingPinCode,pan:t?.pan,gst:t?.gst,gstTreatment:t?.gstTreatment,msmeRegistered:t?.msmeRegistered,msmeType:t?.msmeType,msmeNo:t?.msmeNo,contactPersonName:t?.contactPersonName,designation:t?.designation,email1:t?.email1,email2:t?.email2,countryCode:t?.countryCode,phoneMobileNo:t?.phoneMobileNo,currency:t?.currency,currencySymbol:t?.currencySymbol,paymentTerms:t?.paymentTerms,status:t?.status})}onOptionSelected(t){this.customerForm.patchValue({})}validateNo(t){let i=t.which?t.which:t.keyCode;return!(i>31&&(i<48||i>57))}phoneNumberLength(t){let i=this.customerForm.get("phone")}onStatusChange(t,i){i.disabled=t==="Inactive"}copyBillingToShipping(t){let i;typeof t=="boolean"?(i=t,this.customerForm.get("sameAsBilling")?.setValue(!0)):i=t.target.checked,i?(this.customerForm.patchValue({shippingAddressLine1:this.customerForm.get("billingAddressLine1")?.value,shippingAddressLine2:this.customerForm.get("billingAddressLine2")?.value,shippingCountry:this.customerForm.get("billingCountry")?.value,shippingCity:this.customerForm.get("billingCity")?.value,shippingState:this.customerForm.get("billingState")?.value,shippingPinCode:this.customerForm.get("billingPinCode")?.value}),this.customerForm.get("shippingAddressLine1")?.disable(),this.customerForm.get("shippingAddressLine2")?.disable(),this.customerForm.get("shippingCountry")?.disable(),this.customerForm.get("shippingCity")?.disable(),this.customerForm.get("shippingState")?.disable(),this.customerForm.get("shippingPinCode")?.disable()):(this.customerForm.get("shippingAddressLine1")?.enable(),this.customerForm.get("shippingAddressLine2")?.enable(),this.customerForm.get("shippingCountry")?.enable(),this.customerForm.get("shippingCity")?.enable(),this.customerForm.get("shippingState")?.enable(),this.customerForm.get("shippingPinCode")?.enable(),this.customerForm.patchValue({shippingAddressLine1:"",shippingAddressLine2:"",shippingCity:"",shippingState:"",shippingPinCode:"",shippingCountry:""}))}AllcountryList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Country").subscribe(t=>{this.countryList=t.lookUps||[],this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(et),D(X),D(Rn),D(Z),D(nn),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-customer"]],decls:262,vars:68,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["data-bs-toggle","tab","href","#customerTab",1,"nav-link","active"],["data-bs-toggle","tab","href","#contactTab",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"tab-content"],["id","customerTab",1,"tab-pane","fade","show","active"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-form-input"],["for","customerType"],["class","text-danger",4,"ngIf"],["formControlName","customerType","aria-placeholder","selectType",1,"input-field",3,"change"],["value","","selected",""],["value","EIPCDOM"],["value","EIPCEXP"],[4,"ngIf"],["for",""],["type","text","formControlName","customerName",1,"input-field"],["type","text","formControlName","billingAddressLine1",1,"input-field"],["type","text","formControlName","billingAddressLine2",1,"input-field"],["formControlName","billingCountry",1,"input-field",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","billingCity",1,"input-field"],["type","text","class","input-field","formControlName","billingState",4,"ngIf"],["class","input-field","formControlName","billingState",4,"ngIf"],["type","text","formControlName","billingPinCode",1,"input-field"],[1,"col-12","mb-3","mt-3"],["type","checkbox","id","sameAsBilling","formControlName","sameAsBilling",1,"form-check-input",2,"outline","1px solid black","margin-right","10px",3,"change"],["for","sameAsBilling",1,"form-check-label"],["type","text","formControlName","shippingAddressLine1",1,"input-field"],["type","text","formControlName","shippingAddressLine2",1,"input-field"],["class","input-field","formControlName","shippingCountry",3,"click",4,"ngIf"],["type","text","formControlName","shippingCity",1,"input-field"],["type","text","class","input-field","formControlName","shippingState",4,"ngIf"],["class","input-field","formControlName","shippingState",4,"ngIf"],["type","text","formControlName","shippingPinCode",1,"input-field"],["type","text","formControlName","paymentTerms",1,"input-field"],["class","input-field","formControlName","currency",3,"change",4,"ngIf"],["type","text","formControlName","currencySymbol","readonly","",1,"form-control"],["id","contactTab",1,"tab-pane","fade"],["type","text","formControlName","contactPersonName",1,"input-field"],["type","text","formControlName","designation",1,"input-field"],["type","email","formControlName","email1",1,"input-field"],["type","text","formControlName","email2",1,"input-field"],["formControlName","countryCode",1,"input-field",3,"disabled"],["type","text","formControlName","phoneMobileNo","pattern","[0-9]*","inputmode","numeric",1,"input-field"],["id","complianceTab",1,"tab-pane","fade"],["for","msmeRegistered"],["formControlName","msmeRegistered",1,"input-field",3,"change"],[3,"ngValue"],["formControlName","msmeType",1,"input-field"],["value","null"],["value","MICRO"],["value","SMALL"],["value","MEDIUM"],["type","text","formControlName","msmeNo",1,"input-field"],["type","text","formControlName","pan",1,"input-field"],["formControlName","gstTreatment",1,"input-field",3,"change"],["value",""],["value","Registered"],["value","Unregistered"],["value","Consumer"],["value","RCM"],["type","text","formControlName","gst",1,"input-field"],["id","status",1,"tab-pane","fade"],["class","custom-form-input",4,"ngIf"],["class","spinner",4,"ngIf"],["data-bs-toggle","tab","href","#complianceTab",1,"nav-link"],["data-bs-toggle","tab","href","#status",1,"nav-link"],[1,"text-danger"],[3,"value"],["type","text","formControlName","billingState",1,"input-field"],["formControlName","billingState",1,"input-field"],["formControlName","shippingCountry",1,"input-field",3,"click"],["type","text","formControlName","shippingState",1,"input-field"],["formControlName","shippingState",1,"input-field"],["formControlName","currency",1,"input-field",3,"change"],["name","","id","","formControlName","status"],["value","Active"],["value","Inactive"],[1,"spinner"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onPressSave()}),s(5,"Save"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7,"Cancel"),n()()(),o(8,"div",4)(9,"form",5)(10,"ul",6)(11,"li",7)(12,"a",8),s(13,"Name & Address Details "),n()(),o(14,"li",7)(15,"a",9),s(16,"Contact Details "),n()(),v(17,_C,3,0,"li",10)(18,vC,3,0,"li",10),n(),o(19,"div",11)(20,"div",12)(21,"div",13)(22,"div",14)(23,"div",15)(24,"label",16),s(25,"Customer Type "),v(26,bC,2,0,"span",17),n(),o(27,"select",18),g("change",function(p){return e.onCustomerTypeChange(p)}),o(28,"option",19),s(29,"Select Type"),n(),o(30,"option",20),s(31,"EIPCDOM"),n(),o(32,"option",21),s(33,"EIPCEXP"),n()(),v(34,CC,2,1,"div",22),n()(),o(35,"div",14)(36,"div",15)(37,"label",23),s(38,"Customer Name "),v(39,SC,2,0,"span",17),n(),E(40,"input",24),v(41,DC,2,1,"div",22),n()(),o(42,"div",14)(43,"div",15)(44,"label",23),s(45,"Billing Address Line 1 "),v(46,EC,2,0,"span",17),n(),E(47,"input",25),v(48,wC,2,1,"div",22),n()(),o(49,"div",14)(50,"div",15)(51,"label",23),s(52,"Billing Address Line 2"),n(),E(53,"input",26),n()(),o(54,"div",14)(55,"div",15)(56,"label",23),s(57,"Billing Country "),v(58,IC,2,0,"span",17),n(),o(59,"ng-select",27),v(60,NC,2,2,"ng-option",28),n()()(),o(61,"div",14)(62,"div",15)(63,"label",23),s(64,"Billing City "),v(65,FC,2,0,"span",17),n(),E(66,"input",29),v(67,PC,2,1,"div",22),n()(),o(68,"div",14)(69,"div",15)(70,"label",23),s(71,"Billing State "),v(72,kC,2,0,"span",17),n(),v(73,AC,1,0,"input",30)(74,LC,2,1,"ng-select",31)(75,VC,2,1,"div",22),n()(),o(76,"div",14)(77,"div",15)(78,"label",23),s(79,"Billing Pin Code "),v(80,RC,2,0,"span",17),n(),E(81,"input",32),v(82,WC,3,2,"div",22),n()(),o(83,"div",33)(84,"div",14)(85,"input",34),g("change",function(p){return e.copyBillingToShipping(p)}),n(),o(86,"label",35),s(87," Same as Billing Address "),n()()(),o(88,"div",14)(89,"div",15)(90,"label",23),s(91,"Shipping Address Line 1 "),v(92,UC,2,0,"span",17),n(),E(93,"input",36),v(94,zC,2,1,"div",22),n()(),o(95,"div",14)(96,"div",15)(97,"label",23),s(98,"Shipping Address Line 2 "),v(99,qC,2,0,"span",17),n(),E(100,"input",37),n()(),o(101,"div",14)(102,"div",15)(103,"label",23),s(104,"Shipping Country "),v(105,YC,2,0,"span",17),n(),v(106,QC,2,1,"ng-select",38)(107,KC,2,1,"ng-select",38),n()(),o(108,"div",14)(109,"div",15)(110,"label",23),s(111,"Shipping City "),v(112,JC,2,0,"span",17),n(),E(113,"input",39),v(114,eS,2,1,"div",22),n()(),o(115,"div",14)(116,"div",15)(117,"label",23),s(118,"Shipping State "),v(119,tS,2,0,"span",17),n(),v(120,iS,1,0,"input",40)(121,oS,2,1,"ng-select",41)(122,aS,2,1,"div",22),n()(),o(123,"div",14)(124,"div",15)(125,"label",23),s(126,"Shipping Pin Code "),v(127,lS,2,0,"span",17),n(),E(128,"input",42),v(129,cS,3,2,"div",22),n()(),o(130,"div",14)(131,"div",15)(132,"label",23),s(133,"Payment Terms "),v(134,pS,2,0,"span",17),n(),E(135,"input",43),n()(),o(136,"div",14)(137,"div",15)(138,"label",23),s(139,"Currency "),v(140,mS,2,0,"span",17),n(),v(141,hS,2,1,"ng-select",44)(142,fS,2,1,"ng-select",44),n()(),o(143,"div",14)(144,"div",15)(145,"label",23),s(146," Currency Symbol "),v(147,_S,2,0,"span",17),n(),E(148,"input",45),n()()()(),o(149,"div",46)(150,"div",13)(151,"div",14)(152,"div",15)(153,"label",23),s(154,"Contact Person Name "),v(155,vS,2,0,"span",17),n(),E(156,"input",47),v(157,yS,2,1,"div",22),n()(),o(158,"div",14)(159,"div",15)(160,"label",23),s(161,"Designation "),v(162,CS,2,0,"span",17),n(),E(163,"input",48),n()(),o(164,"div",14)(165,"div",15)(166,"label",23),s(167,"Email 1 "),v(168,SS,2,0,"span",17),n(),E(169,"input",49),v(170,DS,2,1,"div",22),n()(),o(171,"div",14)(172,"div",15)(173,"label",23),s(174,"Email 2 "),v(175,ES,2,0,"span",17),n(),E(176,"input",50),v(177,wS,2,1,"div",22),n()(),o(178,"div",14)(179,"div",15)(180,"label",23),s(181,"Phone Code "),v(182,IS,2,0,"span",17),n(),o(183,"ng-select",51),v(184,NS,2,2,"ng-option",28),n()()(),o(185,"div",14)(186,"div",15)(187,"label",23),s(188,"Mobile No "),v(189,FS,2,0,"span",17),n(),E(190,"input",52),v(191,kS,3,2,"div",22),n()()()(),o(192,"div",53)(193,"div",13)(194,"div",14)(195,"div",15)(196,"label",54),s(197," MSME Registered "),v(198,AS,2,0,"span",17),n(),o(199,"select",55),g("change",function(){return e.onMsmeRegisterChange()}),o(200,"option",56),s(201,"Yes"),n(),o(202,"option",56),s(203,"No"),n()()()(),o(204,"div",14)(205,"div",15)(206,"label",23),s(207,"MSME Type "),v(208,OS,2,0,"span",17),n(),o(209,"select",57)(210,"option",58),s(211,"Select MSME Type"),n(),o(212,"option",59),s(213,"MICRO"),n(),o(214,"option",60),s(215,"SMALL"),n(),o(216,"option",61),s(217,"MEDIUM"),n()(),v(218,BS,2,1,"div",22),n()(),o(219,"div",14)(220,"div",15)(221,"label",23),s(222,"MSME No "),v(223,VS,2,0,"span",17),n(),E(224,"input",62),v(225,GS,3,2,"div",22),n()(),o(226,"div",14)(227,"div",15)(228,"label",23),s(229,"PAN "),v(230,WS,2,0,"span",17),n(),E(231,"input",63),v(232,zS,3,2,"div",22),n()(),o(233,"div",14)(234,"div",15)(235,"label",23),s(236,"GST Treatment "),v(237,qS,2,0,"span",17),n(),o(238,"select",64),g("change",function(p){return e.onGSTTreatmentChange(p)}),o(239,"option",65),s(240,"-- Select --"),n(),o(241,"option",66),s(242,"Registered"),n(),o(243,"option",67),s(244,"Unregistered"),n(),o(245,"option",68),s(246,"Consumer"),n(),o(247,"option",69),s(248,"RCM"),n()(),v(249,$S,2,1,"div",22),n()(),o(250,"div",14)(251,"div",15)(252,"label",23),s(253,"GST No "),v(254,QS,2,0,"span",17),n(),E(255,"input",70),v(256,JS,3,2,"div",22),n()()()(),o(257,"div",71)(258,"div",13)(259,"div",14),v(260,e2,9,1,"div",72),n()()()()(),v(261,t2,2,0,"div",73),n()),i&2){let c,p,h,w,N,L,V,I,G,oe,q,de,xe,fe,ce,Pe,Oe,He,Re;d(2),Ce("",e.customerId>0?"Edit Customer":"Create Customer"," Master"),d(2),m("disabled",e.disableSubmit||!e.customerForm.valid),d(5),m("formGroup",e.customerForm),d(8),m("ngIf",e.showComplianceTab),d(),m("ngIf",e.statusTab),d(8),m("ngIf",e.currentRequiredFields.includes("customerType")),d(8),m("ngIf",((c=e.customerForm.get("customerType"))==null?null:c.invalid)&&((c=e.customerForm.get("customerType"))==null?null:c.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("customerName")),d(2),m("ngIf",((p=e.customerForm.get("customerName"))==null?null:p.invalid)&&((p=e.customerForm.get("customerName"))==null?null:p.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("billingAddressLine1")),d(2),m("ngIf",((h=e.customerForm.get("billingAddressLine1"))==null?null:h.invalid)&&((h=e.customerForm.get("billingAddressLine1"))==null?null:h.touched)),d(10),m("ngIf",e.customerId==0),d(),m("disabled",e.isBillingCountryDisabled),d(),m("ngForOf",e.countryList),d(5),m("ngIf",e.currentRequiredFields.includes("billingCity")),d(2),m("ngIf",((w=e.customerForm.get("billingCity"))==null?null:w.invalid)&&((w=e.customerForm.get("billingCity"))==null?null:w.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("billingState")),d(),m("ngIf",e.customerType!=="EIPCDOM"),d(),m("ngIf",e.customerType==="EIPCDOM"),d(),m("ngIf",((N=e.customerForm.get("billingState"))==null?null:N.invalid)&&((N=e.customerForm.get("billingState"))==null?null:N.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("billingPinCode")),d(2),m("ngIf",((L=e.customerForm.get("billingPinCode"))==null?null:L.invalid)&&((L=e.customerForm.get("billingPinCode"))==null?null:L.touched)),d(10),m("ngIf",e.currentRequiredFields.includes("shippingAddressLine1")),d(2),m("ngIf",((V=e.customerForm.get("shippingAddressLine1"))==null?null:V.invalid)&&((V=e.customerForm.get("shippingAddressLine1"))==null?null:V.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("shippingAddressLine2")),d(6),m("ngIf",e.customerId==0),d(),m("ngIf",e.customerId>0),d(),m("ngIf",e.customerId==0),d(5),m("ngIf",e.currentRequiredFields.includes("shippingCity")),d(2),m("ngIf",((I=e.customerForm.get("shippingCity"))==null?null:I.invalid)&&((I=e.customerForm.get("shippingCity"))==null?null:I.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("shippingState")),d(),m("ngIf",e.customerType!=="EIPCDOM"),d(),m("ngIf",e.customerType==="EIPCDOM"),d(),m("ngIf",((G=e.customerForm.get("shippingState"))==null?null:G.invalid)&&((G=e.customerForm.get("shippingState"))==null?null:G.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("shippingPinCode")),d(2),m("ngIf",((oe=e.customerForm.get("shippingPinCode"))==null?null:oe.invalid)&&((oe=e.customerForm.get("shippingPinCode"))==null?null:oe.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("paymentTerms")),d(6),m("ngIf",e.currentRequiredFields.includes("currency")),d(),m("ngIf",e.customerId>0),d(),m("ngIf",e.customerId==0),d(5),m("ngIf",e.currentRequiredFields.includes("currencySymbol")),d(8),m("ngIf",e.currentRequiredFields.includes("contactPersonName")),d(2),m("ngIf",((q=e.customerForm.get("contactPersonName"))==null?null:q.invalid)&&((q=e.customerForm.get("contactPersonName"))==null?null:q.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("designation")),d(6),m("ngIf",e.currentRequiredFields.includes("email1")),d(2),m("ngIf",((de=e.customerForm.get("email1"))==null?null:de.invalid)&&((de=e.customerForm.get("email1"))==null?null:de.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("email2")),d(2),m("ngIf",((xe=e.customerForm.get("email2"))==null?null:xe.invalid)&&((xe=e.customerForm.get("email2"))==null?null:xe.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("countryCode")),d(),m("disabled",e.isBillingCountryDisabled),d(),m("ngForOf",e.PhoneCodeList),d(5),m("ngIf",e.currentRequiredFields.includes("phoneMobileNo")),d(2),m("ngIf",((fe=e.customerForm.get("phoneMobileNo"))==null?null:fe.invalid)&&((fe=e.customerForm.get("phoneMobileNo"))==null?null:fe.touched)),d(7),m("ngIf",e.currentRequiredFields.includes("msmeRegistered")),d(2),m("ngValue",!0),d(2),m("ngValue",!1),d(6),m("ngIf",e.currentRequiredFields.includes("msmeType")),d(10),m("ngIf",((ce=e.customerForm.get("msmeType"))==null?null:ce.invalid)&&((ce=e.customerForm.get("msmeType"))==null?null:ce.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("msmeNo")),d(2),m("ngIf",((Pe=e.customerForm.get("msmeNo"))==null?null:Pe.invalid)&&((Pe=e.customerForm.get("msmeNo"))==null?null:Pe.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("pan")),d(2),m("ngIf",((Oe=e.customerForm.get("pan"))==null?null:Oe.invalid)&&((Oe=e.customerForm.get("pan"))==null?null:Oe.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("gstTreatment")),d(12),m("ngIf",((He=e.customerForm.get("gstTreatment"))==null?null:He.invalid)&&((He=e.customerForm.get("gstTreatment"))==null?null:He.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("gst")),d(2),m("ngIf",((Re=e.customerForm.get("gst"))==null?null:Re.invalid)&&((Re=e.customerForm.get("gst"))==null?null:Re.touched)),d(4),m("ngIf",e.customerId),d(),m("ngIf",e.loadSpinner)}},dependencies:[$,z,le,se,Ze,me,ue,Ae,Ii,pe,U,Qe,fa,nt,ot],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}"]});let a=r;return a})();var xi=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getTransactionTypes(t,i=0,e=this.maxCount){return this.post(Zc(i,e),t)}getTransactionTypeData(t){return this.get(j.transactionTypeData+t)}updateTransaction(t,i){return this.put(j.updateTransactionTypeData+t,i)}getDropdownData(t,i){return this.post(Ut(i),t)}getTransactionTypeInterface(t){return this.post(j.transactionTypeInterfaces,t)}createBankId(t){return this.post(j.transactionTypeInterfaces,t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Ai=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getVendors(t,i=0,e=this.maxCount){return this.post(Kc(i,e),t)}getVendorData(t){return this.get(j.vendorData+t)}updateVendor(t,i){return this.put(j.updateVendor+t,i)}getDropdownData(t,i){return this.post(Ut(i),t)}createVendor(t){return this.post(Qp(),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function i2(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function n2(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function o2(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Wm=(()=>{let r=class r{constructor(){this.getData=new W,this.filters=[],this.vendorCode=void 0,this.vendorName=void 0,this.vendorType=void 0,this.city=void 0,this.state=void 0,this.taxationType=void 0,this.paidByDetails=void 0,this.status=void 0}ngOnInit(){}onVendorSearch(){let t={vendorCode:this.vendorCode||"",vendorName:this.vendorName||"",vendorType:this.vendorType||"",status:this.status||""};this.getData.emit(t)}onClearFilter(){this.vendorCode=void 0,this.vendorName=void 0,this.vendorType=void 0,this.status=void 0;let t={vendorCode:void 0,vendorName:void 0,vendorType:void 0,status:void 0};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-vendor-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData"},decls:28,vars:7,consts:[[1,"filters-box"],[1,"row"],[1,"col-2"],[1,"custom-form-input"],["for",""],["typeToSearchText","","placeholder","Select type",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["typeToSearchText","","placeholder","Select Name",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"d-flex","mt-4"],["for","",1,"d-block"],[1,"custom-button-filters","me-2",2,"padding","4px 10px",3,"click","disabled"],[1,"custom-button-filters",2,"padding","4px 10px",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Vendor Type"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.vendorType,p)||(e.vendorType=p),p}),v(7,i2,2,2,"ng-option",6),n()()(),o(8,"div",7)(9,"div",3)(10,"label",4),s(11,"Vendor Name"),n(),o(12,"ng-select",8),P("ngModelChange",function(p){return M(e.vendorName,p)||(e.vendorName=p),p}),v(13,n2,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label"),s(17,"Status"),n(),o(18,"ng-select",9),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(19,o2,2,2,"ng-option",6),n()()(),o(20,"div",7)(21,"div",10)(22,"label",11),s(23,"\xA0"),n(),o(24,"button",12),g("click",function(){return e.onVendorSearch()}),s(25,"Search"),n(),o(26,"button",13),g("click",function(){return e.onClearFilter()}),s(27,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.vendorType),d(),m("ngForOf",e.filters==null?null:e.filters.VendorType),d(5),F("ngModel",e.vendorName),d(),m("ngForOf",e.filters==null?null:e.filters.VendorName),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",!e.vendorType&&!e.vendorName&&!e.status))},dependencies:[$,le,se,U,Y],styles:[".custom-form-input[_ngcontent-%COMP%]{position:relative}.suggestions[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:1px solid #ccc;border-top:none;max-height:var(--spacer-200);width:100%}.suggestion[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer}.suggestion[_ngcontent-%COMP%]:hover{background-color:#f5faff}"]});let a=r;return a})();var a2=["table"],l2=(a,r)=>r.id;function s2(a,r){if(a&1&&(o(0,"div",9)(1,"div",10)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),n()(),o(6,"div",10)(7,"span"),s(8,"Created By"),n(),o(9,"span"),s(10),n()(),o(11,"div",10)(12,"span"),s(13,"Last Update Date"),n(),o(14,"span"),s(15),n()(),o(16,"div",10)(17,"span"),s(18,"Last Updated By"),n(),o(19,"span"),s(20),n()()()),a&2){let l=S().$implicit;d(5),_(l.creationDate),d(5),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(l.lastUpdateOn),d(5),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function d2(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",6)(2,"span",7)(3,"u"),s(4),n()(),v(5,s2,21,4,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),n(),o(33,"td"),s(34),n(),o(35,"td"),s(36),n(),o(37,"td"),s(38),n(),o(39,"td"),s(40),n(),o(41,"td"),s(42),n(),o(43,"td"),s(44),n(),o(45,"td"),s(46),n(),o(47,"td"),s(48),n(),o(49,"td"),s(50),n(),o(51,"td"),s(52),n(),o(53,"td"),s(54),n(),o(55,"td"),s(56),n(),o(57,"td"),s(58),n(),o(59,"td"),s(60),n(),o(61,"td"),s(62),n(),o(63,"td"),s(64),n(),o(65,"td"),s(66),n(),o(67,"td"),s(68),n(),o(69,"td"),s(70),n(),o(71,"td"),s(72),n(),o(73,"td"),s(74),n(),o(75,"td"),s(76),n(),o(77,"td"),s(78),n(),o(79,"td"),s(80),n(),o(81,"td"),s(82),n(),o(83,"td"),s(84),n(),o(85,"td",5)(86,"img",8),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onGoToEditVendor(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l.vendorType||"-"),d(4),_(l.vendorName||"-"),d(2),_(l.billingAddressLine1||"-"),d(2),_(l.billingAddressLine2||"-"),d(2),_(l.billingCity||"-"),d(2),_(l.billingState||"-"),d(2),_(l.billingCountry||"-"),d(2),_(l.billingPinCode||"-"),d(2),_(l.shippingAddressLine1||"-"),d(2),_(l.shippingAddressLine2||"-"),d(2),_(l.shippingCity||"-"),d(2),_(l.shippingState||"-"),d(2),_(l.shippingCountry||"-"),d(2),_(l.shippingPinCode||"-"),d(2),_(l.pan||"-"),d(2),_(l.gst||"-"),d(2),_(l.gstTreatment||"-"),d(2),_(l.msmeRegistered||"-"),d(2),_(l.msmeType||"-"),d(2),_(l.msmeNo||"-"),d(2),_(l.contactPersonName||"-"),d(2),_(l.designation||"-"),d(2),_(l.email1||"-"),d(2),_(l.email2||"-"),d(2),_(l.phoneMobileNo||"-"),d(2),_(l.currency||"-"),d(2),_(l.paymentTerms||"-"),d(2),_(l.bankName||"-"),d(2),_(l.accountHolderName||"-"),d(2),_(l.accountNumber||"-"),d(2),_(l.confirmAccountNumber||"-"),d(2),_(l.ifscCode||"-"),d(2),_(l.swiftCode||"-"),d(2),_(l.bankAddressLine1||"-"),d(2),_(l.bankAddressLine2||"-"),d(2),_(l.branch||"-"),d(2),_(l.bankCity||"-"),d(2),_(l.bankState||"-"),d(2),_(l.bankPinCode||"-"),d(2),_(l.status||"-")}}function c2(a,r){a&1&&(o(0,"tr")(1,"td",11),s(2,"No Vendor Found"),n()())}var Um=(()=>{let r=class r{constructor(t){this.router=t,this.vendorsList=[],this.exportHeader=new W,this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.vendorsList&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{console.log(e),e.innerText.trim()!=="Action"&&e.innerText.trim()!=="Paid By Details"&&e.innerText.trim()!=="Transaction Type"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}onGoToEditVendor(t){this.router.navigate(["master/addEditVendor",t.id])}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.vendorsList)}getPaidByDetails(t){return t.vendorMappingModels.map(i=>i.paidByDetails.code).join(", ")}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-vendor-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(a2,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{vendorsList:"vendorsList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:91,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"table",3,0)(3,"thead")(4,"tr")(5,"th",4),g("click",function(){return b(c),y(e.sortData("vendorType"))}),s(6,"Vendor Type"),n(),o(7,"th",4),g("click",function(){return b(c),y(e.sortData("vendorName"))}),s(8,"Vendor Name"),n(),o(9,"th",4),g("click",function(){return b(c),y(e.sortData("billingAddressLine1"))}),s(10,"Billing Address Line 1"),n(),o(11,"th",4),g("click",function(){return b(c),y(e.sortData("billingAddressLine2"))}),s(12,"Billing Address Line 2"),n(),o(13,"th",4),g("click",function(){return b(c),y(e.sortData("billingCity"))}),s(14,"Billing City"),n(),o(15,"th",4),g("click",function(){return b(c),y(e.sortData("billingState"))}),s(16,"Billing State"),n(),o(17,"th",4),g("click",function(){return b(c),y(e.sortData("billingCountry"))}),s(18,"Billing Country"),n(),o(19,"th",4),g("click",function(){return b(c),y(e.sortData("billingPinCode"))}),s(20,"Billing Pin Code"),n(),o(21,"th",4),g("click",function(){return b(c),y(e.sortData("shippingAddressLine1"))}),s(22,"Shipping Address Line 1"),n(),o(23,"th",4),g("click",function(){return b(c),y(e.sortData("shippingAddressLine2"))}),s(24,"Shipping Address Line 2"),n(),o(25,"th",4),g("click",function(){return b(c),y(e.sortData("shippingCity"))}),s(26,"Shipping City"),n(),o(27,"th",4),g("click",function(){return b(c),y(e.sortData("shippingState"))}),s(28,"Shipping State"),n(),o(29,"th",4),g("click",function(){return b(c),y(e.sortData("shippingCountry"))}),s(30,"Shipping Country"),n(),o(31,"th",4),g("click",function(){return b(c),y(e.sortData("shippingPinCode"))}),s(32,"Shipping Pin Code"),n(),o(33,"th",4),g("click",function(){return b(c),y(e.sortData("pan"))}),s(34,"PAN"),n(),o(35,"th",4),g("click",function(){return b(c),y(e.sortData("gst"))}),s(36,"GST"),n(),o(37,"th",4),g("click",function(){return b(c),y(e.sortData("gstTreatment"))}),s(38,"GST Treatment"),n(),o(39,"th",4),g("click",function(){return b(c),y(e.sortData("msmeRegistered"))}),s(40,"MSME Registered"),n(),o(41,"th",4),g("click",function(){return b(c),y(e.sortData("msmeType"))}),s(42,"MSME Type"),n(),o(43,"th",4),g("click",function(){return b(c),y(e.sortData("msmeNo"))}),s(44,"MSME Number"),n(),o(45,"th",4),g("click",function(){return b(c),y(e.sortData("contactPersonName"))}),s(46,"Contact Person"),n(),o(47,"th",4),g("click",function(){return b(c),y(e.sortData("designation"))}),s(48,"Designation"),n(),o(49,"th",4),g("click",function(){return b(c),y(e.sortData("email1"))}),s(50,"Email 1"),n(),o(51,"th",4),g("click",function(){return b(c),y(e.sortData("email2"))}),s(52,"Email 2"),n(),o(53,"th",4),g("click",function(){return b(c),y(e.sortData("phoneMobileNo"))}),s(54,"Phone Number"),n(),o(55,"th",4),g("click",function(){return b(c),y(e.sortData("currency"))}),s(56,"Currency"),n(),o(57,"th",4),g("click",function(){return b(c),y(e.sortData("paymentTerms"))}),s(58,"Payment Terms"),n(),o(59,"th",4),g("click",function(){return b(c),y(e.sortData("bankName"))}),s(60,"Bank Name"),n(),o(61,"th",4),g("click",function(){return b(c),y(e.sortData("accountHolderName"))}),s(62,"Account Holder Name"),n(),o(63,"th",4),g("click",function(){return b(c),y(e.sortData("accountNumber"))}),s(64,"Account Number"),n(),o(65,"th",4),g("click",function(){return b(c),y(e.sortData("confirmAccountNumber"))}),s(66,"Confirm Account Number"),n(),o(67,"th",4),g("click",function(){return b(c),y(e.sortData("ifscCode"))}),s(68,"IFSC Code"),n(),o(69,"th",4),g("click",function(){return b(c),y(e.sortData("swiftCode"))}),s(70,"SWIFT Code"),n(),o(71,"th",4),g("click",function(){return b(c),y(e.sortData("bankAddressLine1"))}),s(72,"Bank Address Line 1"),n(),o(73,"th",4),g("click",function(){return b(c),y(e.sortData("bankAddressLine2"))}),s(74,"Bank Address Line 2"),n(),o(75,"th",4),g("click",function(){return b(c),y(e.sortData("branch"))}),s(76,"Branch"),n(),o(77,"th",4),g("click",function(){return b(c),y(e.sortData("bankCity"))}),s(78,"Bank City"),n(),o(79,"th",4),g("click",function(){return b(c),y(e.sortData("bankState"))}),s(80,"Bank State"),n(),o(81,"th",4),g("click",function(){return b(c),y(e.sortData("bankPinCode"))}),s(82,"Bank Pin Code"),n(),o(83,"th",4),g("click",function(){return b(c),y(e.sortData("status"))}),s(84,"Status"),n(),o(85,"th",5),s(86,"Action"),n()()(),o(87,"tbody"),We(88,d2,87,41,"tr",null,l2,!1,c2,3,0,"tr"),n()()()}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(87),Ue(e.vendorsList))},dependencies:[ae,be]});let a=r;return a})();var m2=(a,r)=>({isFilters:a,fullScreen:r});function u2(a,r){if(a&1){let l=O();o(0,"img",18),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function h2(a,r){a&1&&(o(0,"div",19),s(1,` Loading...
`),n())}var Hm=(()=>{let r=class r{constructor(t,i,e,c,p){this.vendorService=t,this.toastr=i,this.router=e,this.lookupService=c,this.xlsxService=p,this.isFilters=!0,this.searchedVendor="",this.fullScreen=!1,this.loadSpinner=!0,this.vendorsList=[],this.cities=[],this.states=[],this.headers=[],this.currentPage=1,this.count=10,this.totalVendors=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getVendorsList()}onCreateVendor(){this.router.navigate(["master/addEditVendor","0"])}onExportHeader(t){this.headers=t}getVendorsList(t=0,i=this.count,e=this.appliedFilters){let c={vendorName:e?.vendorName||"",vendorCode:e?.vendorCode||"",vendorType:e?.vendorType||"",status:e?.status||""};this.vendorService.getVendors(c,t,i).subscribe(p=>{console.log(p),this.vendorsList=p.vendors,this.totalVendors=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1,this.toastr.error(p.error.details.map(h=>h.description).join("<br>"))})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getVendorsList(0,this.count,this.appliedFilters)}exportData(t="Vendor"){let i={vendorCode:this.appliedFilters?.vendorCode||"",vendorName:this.appliedFilters?.vendorName||"",vendorType:this.appliedFilters?.vendorType||"",status:this.appliedFilters?.status||""};this.vendorService.getVendors(i,0,this.totalVendors).subscribe(e=>{let p=e.vendors.map(h=>({vendorType:h.vendorType||"",vendorCode:h.vendorCode||"",vendorName:h.vendorName||"",billingAddressLine1:h.billingAddressLine1||"",billingAddressLine2:h.billingAddressLine2||"",billingCity:h.billingCity||"",billingState:h.billingState||"",billingCountry:h.billingCountry||"",billingPinCode:h.billingPinCode||"",shippingAddressLine1:h.shippingAddressLine1||"",shippingAddressLine2:h.shippingAddressLine2||"",shippingCity:h.shippingCity||"",shippingState:h.shippingState||"",shippingCountry:h.shippingCountry||"",shippingPinCode:h.shippingPinCode||"",pan:h.pan||"",gst:h.gst||"",gstTreatment:h.gstTreatment||"",msmeRegistered:h.msmeRegistered?"Yes":"No",msmeType:h.msmeType||"",msmeNo:h.msmeNo||"",contactPersonName:h.contactPersonName||"",designation:h.designation||"",email1:h.email1||"",email2:h.email2||"",phoneMobileNo:h.phoneMobileNo||"",currency:h.currency||"",paymentTerms:h.paymentTerms||"",bankName:h.bankName||"",accountHolderName:h.accountHolderName||"",accountNumber:h.accountNumber||"",confirmAccountNumber:h.confirmAccountNumber||"",ifscCode:h.ifscCode||"",swiftCode:h.swiftCode||"",bankAddressLine1:h.bankAddressLine1||"",bankAddressLine2:h.bankAddressLine2||"",branch:h.branch||"",bankCity:h.bankCity||"",bankState:h.bankState||"",bankPinCode:h.bankPinCode||"",status:h.status||""}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.loadSpinner=!1,this.toastr.error(e.error.details.map(c=>c.description).join("<br>"))})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getVendorsList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getVendorsList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(Ai),D(Z),D(X),D(ye),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-vendor"]],decls:32,vars:20,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],[1,"filter-section"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","vendorsList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Vendor Master"),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.exportData()}),E(5,"img",3),s(6," Export"),n(),o(7,"button",4),g("click",function(){return e.onCreateVendor()}),s(8,"Create Vendor"),n()()(),o(9,"div",5)(10,"app-vendor-filter",6),g("getData",function(p){return e.getData(p)}),n()(),o(11,"div",7),v(12,u2,1,0,"img",8),o(13,"div",9)(14,"div",10)(15,"app-vendor-grid-table",11),g("exportHeader",function(p){return e.onExportHeader(p)}),n()(),o(16,"div",12)(17,"ngb-pagination",13),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(18,"p",14),s(19," Items per page:"),n(),o(20,"select",15),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(21,"option",16),s(22,"10"),n(),o(23,"option",16),s(24,"20"),n(),o(25,"option",16),s(26,"50"),n(),o(27,"option",16),s(28,"100"),n(),o(29,"option",16),s(30,"500"),n()()()()(),v(31,h2,2,0,"div",17)),i&2&&(d(10),m("filters",e.filters),d(),m("ngClass",$e(17,m2,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("vendorsList",e.vendorsList),d(2),m("collectionSize",e.totalVendors),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,Wm,Um],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 256px)}"]});let a=r;return a})();function g2(a,r){a&1&&(o(0,"li",7)(1,"a",103),s(2,"Compliance Details "),n()())}function f2(a,r){a&1&&(o(0,"li",7)(1,"a",104),s(2,"Extra Details "),n()())}function _2(a,r){a&1&&(o(0,"li",7)(1,"a",105),s(2,"Status "),n()())}function v2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function b2(a,r){a&1&&(o(0,"small",106),s(1," Vendor Type is required. "),n())}function y2(a,r){if(a&1&&(o(0,"div"),v(1,b2,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("vendorType"))==null?null:l.hasError("required"))}}function C2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function S2(a,r){a&1&&(o(0,"small",106),s(1," Vendor Name is required. "),n())}function x2(a,r){if(a&1&&(o(0,"div"),v(1,S2,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("vendorName"))==null?null:l.hasError("required"))}}function D2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function E2(a,r){a&1&&(o(0,"small",106),s(1," Address is required. "),n())}function T2(a,r){if(a&1&&(o(0,"div"),v(1,E2,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("billingAddressLine1"))==null?null:l.hasError("required"))}}function w2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function I2(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.countryName),d(),Ce(" ",l.countryName," ")}}function N2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function F2(a,r){a&1&&(o(0,"small",106),s(1," City is required. "),n())}function M2(a,r){if(a&1&&(o(0,"div"),v(1,F2,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("billingCity"))==null?null:l.hasError("required"))}}function P2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function k2(a,r){a&1&&E(0,"input",108)}function A2(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function O2(a,r){if(a&1&&(o(0,"ng-select",109),v(1,A2,2,2,"ng-option",29),n()),a&2){let l=S();d(),m("ngForOf",l.stateList)}}function L2(a,r){a&1&&(o(0,"small",106),s(1," state is required. "),n())}function B2(a,r){if(a&1&&(o(0,"div"),v(1,L2,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("billingState"))==null?null:l.hasError("required"))}}function V2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function R2(a,r){a&1&&(o(0,"small",106),s(1," PinCode is required. "),n())}function j2(a,r){a&1&&(o(0,"small",106),s(1," Invalid PinCode. "),n())}function G2(a,r){if(a&1&&(o(0,"div"),v(1,R2,2,0,"small",18)(2,j2,2,0,"small",18),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.vendorForm.get("billingPinCode"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.vendorForm.get("billingPinCode"))==null?null:t.hasError("pattern"))}}function W2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function U2(a,r){a&1&&(o(0,"small",106),s(1," state is required. "),n())}function H2(a,r){if(a&1&&(o(0,"div"),v(1,U2,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("shippingAddressLine1"))==null?null:l.hasError("required"))}}function z2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function q2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Y2(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function $2(a,r){if(a&1){let l=O();o(0,"ng-select",110),g("click",function(i){b(l);let e=S();return y(e.onSelectshippingCountry(i))}),v(1,Y2,2,2,"ng-option",29),n()}if(a&2){let l=S();d(),m("ngForOf",l.countryList)}}function Q2(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function Z2(a,r){if(a&1){let l=O();o(0,"ng-select",110),g("click",function(i){b(l);let e=S();return y(e.onSelectshippingCountry(i))}),v(1,Q2,2,2,"ng-option",29),n()}if(a&2){let l=S();d(),m("ngForOf",l.countryList)}}function K2(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function J2(a,r){a&1&&(o(0,"small",106),s(1," state is required. "),n())}function X2(a,r){if(a&1&&(o(0,"div"),v(1,J2,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("shippingCity"))==null?null:l.hasError("required"))}}function ex(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function tx(a,r){a&1&&E(0,"input",111)}function ix(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function nx(a,r){if(a&1&&(o(0,"ng-select",112),v(1,ix,2,2,"ng-option",29),n()),a&2){let l=S();d(),m("ngForOf",l.stateList)}}function ox(a,r){a&1&&(o(0,"small",106),s(1," state is required. "),n())}function rx(a,r){if(a&1&&(o(0,"div"),v(1,ox,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("shippingState"))==null?null:l.hasError("required"))}}function ax(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function lx(a,r){a&1&&(o(0,"small",106),s(1," Pincode is required. "),n())}function sx(a,r){a&1&&(o(0,"small",106),s(1," Invalid PinCode. "),n())}function dx(a,r){if(a&1&&(o(0,"div"),v(1,lx,2,0,"small",18)(2,sx,2,0,"small",18),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.vendorForm.get("shippingPinCode"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.vendorForm.get("shippingPinCode"))==null?null:t.hasError("pattern"))}}function cx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function px(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function mx(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function ux(a,r){if(a&1){let l=O();o(0,"ng-select",113),g("change",function(i){b(l);let e=S();return y(e.onSelectCurrency(i))}),v(1,mx,2,2,"ng-option",29),n()}if(a&2){let l=S();d(),m("ngForOf",l.CurrencyList)}}function hx(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function gx(a,r){if(a&1){let l=O();o(0,"ng-select",113),g("change",function(i){b(l);let e=S();return y(e.onSelectCurrency(i))}),v(1,hx,2,2,"ng-option",29),n()}if(a&2){let l=S();d(),m("ngForOf",l.CurrencyList)}}function fx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function _x(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function vx(a,r){a&1&&(o(0,"small",106),s(1," Contact Name is required. "),n())}function bx(a,r){if(a&1&&(o(0,"div"),v(1,vx,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("contactPersonName"))==null?null:l.hasError("required"))}}function yx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Cx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Sx(a,r){a&1&&(o(0,"small",106),s(1," Please enter a valid email address. "),n())}function xx(a,r){if(a&1&&(o(0,"div"),v(1,Sx,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("email1"))==null?null:l.hasError("email"))}}function Dx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Ex(a,r){a&1&&(o(0,"small",106),s(1," Enter a valid email address. "),n())}function Tx(a,r){if(a&1&&(o(0,"div"),v(1,Ex,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("email2"))==null?null:l.hasError("email"))}}function wx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Ix(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function Nx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Fx(a,r){a&1&&(o(0,"small",106),s(1," No is required. "),n())}function Mx(a,r){a&1&&(o(0,"small",106),s(1," Invalid Mobile No. "),n())}function Px(a,r){if(a&1&&(o(0,"div"),v(1,Fx,2,0,"small",18)(2,Mx,2,0,"small",18),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.vendorForm.get("phoneMobileNo"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.vendorForm.get("phoneMobileNo"))==null?null:t.hasError("pattern"))}}function kx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Ax(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Ox(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Lx(a,r){a&1&&(o(0,"small",106),s(1," Account No is required. "),n())}function Bx(a,r){a&1&&(o(0,"small",106),s(1," Invalid account No. "),n())}function Vx(a,r){if(a&1&&(o(0,"div"),v(1,Lx,2,0,"small",18)(2,Bx,2,0,"small",18),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.vendorForm.get("accountNumber"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.vendorForm.get("accountNumber"))==null?null:t.hasError("pattern"))}}function Rx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function jx(a,r){a&1&&(o(0,"small",106),s(1," Confirm Account Number is required. "),n())}function Gx(a,r){a&1&&(o(0,"small",106),s(1," Account numbers do not match. "),n())}function Wx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Ux(a,r){a&1&&(o(0,"small",106),s(1," Invalid IFSC Code. "),n())}function Hx(a,r){if(a&1&&(o(0,"div"),v(1,Ux,2,0,"small",18),n()),a&2){let l,t=S(2);d(),m("ngIf",(l=t.vendorForm.get("ifscCode"))==null?null:l.hasError("pattern"))}}function zx(a,r){if(a&1&&(o(0,"div",15)(1,"div",16)(2,"label",24),s(3,"IFSC Code "),v(4,Wx,2,0,"span",18),n(),E(5,"input",114),v(6,Hx,2,1,"div",23),n()()),a&2){let l,t=S();d(4),m("ngIf",t.currentRequiredFields.includes("ifscCode")),d(2),m("ngIf",((l=t.vendorForm.get("ifscCode"))==null?null:l.invalid)&&((l=t.vendorForm.get("ifscCode"))==null?null:l.touched))}}function qx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Yx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function $x(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Qx(a,r){if(a&1&&(o(0,"div",15)(1,"div",16)(2,"label",24),s(3,"Branch "),v(4,$x,2,0,"span",18),n(),E(5,"input",115),n()()),a&2){let l=S();d(4),m("ngIf",l.currentRequiredFields.includes("branch"))}}function Zx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Kx(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function Jx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function Xx(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function eD(a,r){a&1&&E(0,"input",116)}function tD(a,r){if(a&1&&(o(0,"ng-option",107),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function iD(a,r){if(a&1&&(o(0,"ng-select",117),v(1,tD,2,2,"ng-option",29),n()),a&2){let l=S();d(),m("ngForOf",l.stateList)}}function nD(a,r){a&1&&(o(0,"small",106),s(1," state is required. "),n())}function oD(a,r){if(a&1&&(o(0,"div"),v(1,nD,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("bankState"))==null?null:l.hasError("required"))}}function rD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function aD(a,r){a&1&&(o(0,"small",106),s(1," Invalid Pin Code. "),n())}function lD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function sD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function dD(a,r){a&1&&(o(0,"small",106),s(1," MSME Type is required. "),n())}function cD(a,r){if(a&1&&(o(0,"div"),v(1,dD,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("msmeType"))==null?null:l.hasError("required"))}}function pD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function mD(a,r){a&1&&(o(0,"small",106),s(1," MSME No is required. "),n())}function uD(a,r){a&1&&(o(0,"small",106),s(1," MSME No must be 19 characters long with alphanumeric and special characters. "),n())}function hD(a,r){if(a&1&&(o(0,"div"),v(1,mD,2,0,"small",18)(2,uD,2,0,"small",18),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.vendorForm.get("msmeNo"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.vendorForm.get("msmeNo"))==null?null:t.hasError("pattern"))}}function gD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function fD(a,r){a&1&&(o(0,"small",106),s(1," Correct Pan No is required. "),n())}function _D(a,r){a&1&&(o(0,"small",106),s(1," Invalid Pan. "),n())}function vD(a,r){if(a&1&&(o(0,"div"),v(1,fD,2,0,"small",18)(2,_D,2,0,"small",18),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.vendorForm.get("pan"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.vendorForm.get("pan"))==null?null:t.hasError("pattern"))}}function bD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function yD(a,r){a&1&&(o(0,"small",106),s(1," GST Treatment is required. "),n())}function CD(a,r){if(a&1&&(o(0,"div"),v(1,yD,2,0,"small",18),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.vendorForm.get("gstTreatment"))==null?null:l.hasError("required"))}}function SD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function xD(a,r){a&1&&(o(0,"small",106),s(1," Gst No is required. "),n())}function DD(a,r){a&1&&(o(0,"small",106),s(1," Invalid GST No . "),n())}function ED(a,r){if(a&1&&(o(0,"div"),v(1,xD,2,0,"small",18)(2,DD,2,0,"small",18),n()),a&2){let l,t,i=S();d(),m("ngIf",(l=i.vendorForm.get("gst"))==null?null:l.hasError("required")),d(),m("ngIf",(t=i.vendorForm.get("gst"))==null?null:t.hasError("pattern"))}}function TD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function wD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function ID(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function ND(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function FD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function MD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function PD(a,r){a&1&&(o(0,"span",106),s(1,"*"),n())}function kD(a,r){if(a&1&&(o(0,"div",16)(1,"label",24),s(2,"Status "),v(3,PD,2,0,"span",18),n(),o(4,"select",118)(5,"option",119),s(6,"Active"),n(),o(7,"option",120),s(8,"Inactive"),n()()()),a&2){let l=S();d(3),m("ngIf",l.currentRequiredFields.includes("status"))}}function AD(a,r){a&1&&(o(0,"div",121),s(1," Loading... "),n())}var zm=(()=>{let r=class r{constructor(t,i,e,c,p,h){this._Activatedroute=t,this.router=i,this.vendorService=e,this.toastr=c,this.countryService=p,this.lookupService=h,this.vendorId=0,this.vendorData={},this.vendorsList=[],this.PhoneCodeList=[],this.CurrencyList=[],this.countryList=[],this.stateList=[],this.loadSpinner=!0,this.disableSubmit=!1,this.vendorType="",this.showComplianceTab=!0,this.statusTab=!1,this.showExtraTab=!1,this.selectedTransactionTypes=new Set,this.isShow=!1,this.statusValue="",this.isBillingCountryDisabled=!1,this.IfscInput=!0,this.showSwiftfield=!0,this.requiredFieldsForDOM=["vendorType","vendorName","billingAddressLine1","billingCity","billingState","billingCountry","billingPinCode","shippingAddressLine1","shippingCity","shippingState","shippingCountry","shippingPinCode","bankAddressLine1","gstTreatment","msmeRegistered","currency","bankName","bankCountry","accountHolderName","accountNumber","confirmAccountNumber","ifscCode"],this.requiredFieldsForVIM=["vendorType","vendorName","billingAddressLine1","billingCity","billingCountry","billingPinCode","shippingAddressLine1","shippingCity","shippingCountry","shippingPinCode","currency","bankName","accountHolderName","accountNumber","confirmAccountNumber","bankAddressLine1","bankCity","bankPinCode","bankCountry"],this.currentRequiredFields=[],this.vendorForm=new An({vendorType:new J("",A.required),vendorCode:new J(""),vendorName:new J("",A.required),billingAddressLine1:new J("",A.required),billingAddressLine2:new J(""),billingCity:new J("",A.required),billingState:new J(""),billingCountry:new J("",A.required),billingPinCode:new J("",[A.required]),shippingAddressLine1:new J("",A.required),shippingAddressLine2:new J(""),shippingCity:new J("",A.required),shippingState:new J(""),shippingCountry:new J("",A.required),shippingPinCode:new J("",[A.required]),sameAsBilling:new J(!1),pan:new J("",[A.pattern(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/)]),gst:new J(""),gstTreatment:new J("",A.required),msmeRegistered:new J(null),msmeType:new J(""),msmeNo:new J(""),contactPersonName:new J(""),designation:new J(""),email1:new J("",[A.email]),email2:new J("",[A.email]),countryCode:new J(""),phoneMobileNo:new J("",[A.pattern("^[0-9]*$")]),currency:new J("",A.required),currencySymbol:new J(""),paymentTerms:new J(""),bankName:new J("",A.required),accountHolderName:new J("",A.required),accountNumber:new J("",[A.required]),confirmAccountNumber:new J("",[A.required]),ifscCode:new J("",[A.pattern(/^[A-Z]{4}0[A-Z0-9]{6}$/)]),swiftCode:new J(""),bankAddressLine1:new J(""),bankAddressLine2:new J(""),branch:new J(""),bankCity:new J(""),bankState:new J(""),bankPinCode:new J(""),iban:new J(""),sortCode:new J(""),routingNo:new J(""),bankCountry:new J(""),fCTCCharges:new J(""),complDocyear:new J(""),status:new J("")})}ngOnInit(){this.loadSpinner=!0,this.queryData=this._Activatedroute.snapshot.paramMap.get("vendorId"),this.vendorId=Number(this._Activatedroute.snapshot.paramMap.get("vendorId"))||0,this.getVendorData(this.queryData),this.AllcountryList(),this.AllstateList(),this.AllPhoneCodeList(),this.AllCurrencyList(),this.vendorForm.get("accountNumber")?.valueChanges.subscribe(()=>{this.checkAccountMatch()}),this.vendorForm.get("confirmAccountNumber")?.valueChanges.subscribe(()=>{this.checkAccountMatch()}),this.vendorId==0&&(this.statusTab=!1),this.vendorId>0&&(this.statusTab=!0,this.vendorForm.get("currencySymbol")?.disable())}AllstateList(){this.loadSpinner=!0,this.lookupService.getDropdownData("States").subscribe(t=>{this.stateList=t.lookUps||[],this.loadSpinner=!1})}AllPhoneCodeList(){this.loadSpinner=!0,this.lookupService.getDropdownData("PhoneCodes").subscribe(t=>{this.PhoneCodeList=t.lookUps||[],this.loadSpinner=!1})}AllCurrencyList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Currency").subscribe(t=>{this.CurrencyList=t.lookUps||[],this.loadSpinner=!1})}onMsmeRegisterChange(){this.vendorForm.get("msmeRegistered")?.value?(this.vendorForm.get("msmeType")?.setValidators([A.required]),this.vendorForm.get("msmeNo")?.setValidators([A.required]),this.requiredFieldsForDOM.includes("msmeType")||this.requiredFieldsForDOM.push("msmeType"),this.requiredFieldsForDOM.includes("msmeNo")||this.requiredFieldsForDOM.push("msmeNo"),this.currentRequiredFields=[...this.requiredFieldsForDOM]):(this.vendorForm.get("msmeType")?.clearValidators(),this.vendorForm.get("msmeNo")?.clearValidators(),this.requiredFieldsForDOM=this.requiredFieldsForDOM.filter(i=>i!=="msmeNo"),this.requiredFieldsForDOM=this.requiredFieldsForDOM.filter(i=>i!=="msmeType"),this.currentRequiredFields=[...this.requiredFieldsForDOM]),this.vendorForm.get("msmeType")?.updateValueAndValidity(),this.vendorForm.get("msmeNo")?.updateValueAndValidity()}onGSTTreatmentChange(t){let i=t.target.value,e=this.vendorForm.get("gst"),c=A.pattern(/^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$/);i==="Unregistered"||i==="Consumer"?(e?.setValidators([c]),this.requiredFieldsForDOM=this.requiredFieldsForDOM.filter(p=>p!=="gst")):(e?.setValidators([A.required,c]),this.requiredFieldsForDOM.includes("gst")||this.requiredFieldsForDOM.push("gst")),this.currentRequiredFields=[...this.requiredFieldsForDOM],e?.updateValueAndValidity()}checkAccountMatch(){let t=this.vendorForm.get("accountNumber")?.value,i=this.vendorForm.get("confirmAccountNumber")?.value;if(t&&i&&t!==i)this.vendorForm.get("confirmAccountNumber")?.setErrors({mismatch:!0});else{let e=this.vendorForm.get("confirmAccountNumber");if(e?.hasError("required")||e?.hasError("pattern"))return;e?.setErrors(null)}}onVendorTypeChange(t){let i=t.target.value;this.vendorType=i,this.vendorType==="EIPVIMP"?(this.currentRequiredFields=this.requiredFieldsForVIM,this.showComplianceTab=!1,this.IfscInput=!1,this.showExtraTab=!0,this.vendorForm.get("billingPinCode")?.setValidators([A.required]),this.vendorForm.get("billingPinCode")?.updateValueAndValidity(),this.vendorForm.get("shippingPinCode")?.setValidators([A.required]),this.vendorForm.get("shippingPinCode")?.updateValueAndValidity(),this.vendorForm.get("bankPinCode")?.setValidators([A.required]),this.vendorForm.get("bankPinCode")?.updateValueAndValidity(),this.vendorForm.get("bankAddressLine1")?.setValidators([A.required]),this.vendorForm.get("bankAddressLine1")?.updateValueAndValidity(),this.vendorForm.get("bankCity")?.setValidators([A.required]),this.vendorForm.get("bankCity")?.updateValueAndValidity(),this.vendorForm.get("bankPinCode")?.setValidators([A.required]),this.vendorForm.get("bankPinCode")?.updateValueAndValidity(),this.vendorForm.get("bankCountry")?.setValidators([A.required]),this.vendorForm.get("bankCountry")?.updateValueAndValidity(),this.vendorForm.get("billingState")?.clearValidators(),this.vendorForm.get("billingState")?.updateValueAndValidity(),this.vendorForm.get("shippingState")?.clearValidators(),this.vendorForm.get("shippingState")?.updateValueAndValidity(),this.vendorForm.get("msmeType")?.clearValidators(),this.vendorForm.get("msmeType")?.updateValueAndValidity(),this.vendorForm.get("msmeRegistered")?.setValue(!1),this.vendorForm.get("msmeRegistered")?.clearValidators(),this.vendorForm.get("msmeRegistered")?.updateValueAndValidity(),this.vendorForm.get("msmeNo")?.clearValidators(),this.vendorForm.get("msmeNo")?.updateValueAndValidity(),this.vendorForm.get("phoneMobileNo")?.clearValidators(),this.vendorForm.get("phoneMobileNo")?.setValidators([A.pattern("^[0-9]*$")]),this.vendorForm.get("phoneMobileNo")?.updateValueAndValidity(),this.vendorForm.get("ifscCode")?.clearValidators(),this.vendorForm.get("ifscCode")?.updateValueAndValidity(),this.vendorForm.get("gstTreatment")?.clearValidators(),this.vendorForm.get("gstTreatment")?.updateValueAndValidity(),this.vendorForm.get("accountNumber")?.setValidators([A.required]),this.vendorForm.get("accountNumber")?.updateValueAndValidity(),this.vendorForm.get("confirmAccountNumber")?.setValidators([A.required]),this.vendorForm.get("confirmAccountNumber")?.updateValueAndValidity()):(this.currentRequiredFields=this.requiredFieldsForDOM,this.showComplianceTab=!0,this.showExtraTab=!1,this.IfscInput=!0,this.onMsmeRegisterChange(),this.vendorForm.get("msmeRegistered")?.setValidators([A.required]),this.vendorForm.get("msmeRegistered")?.updateValueAndValidity(),this.vendorForm.get("phoneMobileNo")?.setValidators([A.pattern(/^[0-9]{10}$/)]),this.vendorForm.get("phoneMobileNo")?.updateValueAndValidity(),this.vendorForm.get("ifscCode")?.setValidators([A.required,A.pattern(/^[A-Z]{4}0[A-Z0-9]{6}$/)]),this.vendorForm.get("ifscCode")?.updateValueAndValidity(),this.vendorForm.get("billingPinCode")?.setValidators([A.required,A.pattern(/^[0-9]{6}$/)]),this.vendorForm.get("billingPinCode")?.updateValueAndValidity(),this.vendorForm.get("shippingPinCode")?.setValidators([A.required,A.pattern(/^[0-9]{6}$/)]),this.vendorForm.get("shippingPinCode")?.updateValueAndValidity(),this.vendorForm.get("bankPinCode")?.setValidators([A.pattern(/^[0-9]{6}$/)]),this.vendorForm.get("bankPinCode")?.updateValueAndValidity(),this.vendorForm.get("pan")?.setValidators([A.pattern(/^[A-Z]{5}[0-9]{4}[A-Z]{1}$/)]),this.vendorForm.get("pan")?.updateValueAndValidity(),this.vendorForm.get("accountNumber")?.setValidators([A.required,A.pattern(/^\d{9,18}$/)]),this.vendorForm.get("accountNumber")?.updateValueAndValidity(),this.vendorForm.get("confirmAccountNumber")?.setValidators([A.required,A.pattern(/^\d{9,18}$/)]),this.vendorForm.get("confirmAccountNumber")?.updateValueAndValidity()),i==="EIPVDOM"?(this.vendorForm.patchValue({billingCountry:"India"}),this.vendorForm.patchValue({shippingCountry:"India"}),this.vendorForm.patchValue({bankCountry:"India"}),this.vendorForm.patchValue({currency:"Indian Rupee"}),this.vendorForm.patchValue({currencySymbol:"\u20B9"}),this.vendorForm.patchValue({countryCode:"+91"}),this.vendorForm.get("billingCountry")?.disable(),this.vendorForm.get("shippingCountry")?.disable(),this.vendorForm.get("bankCountry")?.disable(),this.vendorForm.get("currency")?.disable(),this.vendorForm.get("currencySymbol")?.disable(),this.vendorForm.get("countryCode")?.disable()):(this.vendorForm.get("billingCountry")?.enable(),this.vendorForm.get("shippingCountry")?.enable(),this.vendorForm.get("bankCountry")?.enable(),this.vendorForm.get("currency")?.enable(),this.vendorForm.get("countryCode")?.enable())}onSelectbillingCountry(t){this.vendorForm.get("billingCountry")?.setValue(t?.target?.innerText)}onSelectshippingCountry(t){this.vendorForm.get("shippingCountry")?.setValue(t?.target?.innerText)}onSelectCurrency(t){let i=this.CurrencyList.find(e=>e.value===t);i?(this.vendorForm.get("currencySymbol")?.setValue(i.description),this.vendorForm.get("currencySymbol")?.disable()):(this.vendorForm.get("currencySymbol")?.reset(),this.vendorForm.get("currencySymbol")?.enable())}onSelectSymbolCurrency(t){this.vendorForm.get("currencySymbol")?.setValue(t?.target?.innerText)}getVendorData(t){this.vendorService.getVendorData(t).subscribe(i=>{this.vendorData=i,this.patchVendorData(i),i.shippingAddressLine1==i.billingAddressLine1&&this.copyBillingToShipping(!0);let e=this.vendorForm.get("vendorType")?.value;e&&(this.onVendorTypeChange({target:{value:e}}),this.vendorForm.get("vendorType")?.disable()),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}onPressSave(){this.loadSpinner=!0;let t={actionBy:"",vendorType:this.vendorForm.get("vendorType")?.value,vendorCode:this.vendorForm.get("vendorCode")?.value,vendorName:this.vendorForm.get("vendorName")?.value,billingAddressLine1:this.vendorForm.get("billingAddressLine1")?.value,billingAddressLine2:this.vendorForm.get("billingAddressLine2")?.value,billingCity:this.vendorForm.get("billingCity")?.value,billingState:this.vendorForm.get("billingState")?.value,billingCountry:this.vendorForm.get("billingCountry")?.value,billingPinCode:this.vendorForm.get("billingPinCode")?.value,shippingAddressLine1:this.vendorForm.get("shippingAddressLine1")?.value,shippingAddressLine2:this.vendorForm.get("shippingAddressLine2")?.value,shippingCity:this.vendorForm.get("shippingCity")?.value,shippingState:this.vendorForm.get("shippingState")?.value,shippingCountry:this.vendorForm.get("shippingCountry")?.value,shippingPinCode:this.vendorForm.get("shippingPinCode")?.value,pan:this.vendorForm.get("pan")?.value,gst:this.vendorForm.get("gst")?.value,gstTreatment:this.vendorForm.get("gstTreatment")?.value,msmeRegistered:this.vendorForm.get("msmeRegistered")?.value,msmeType:this.vendorForm.get("msmeType")?.value,msmeNo:this.vendorForm.get("msmeNo")?.value,contactPersonName:this.vendorForm.get("contactPersonName")?.value,designation:this.vendorForm.get("designation")?.value,email1:this.vendorForm.get("email1")?.value,email2:this.vendorForm.get("email2")?.value,countryCode:this.vendorForm.get("countryCode")?.value,phoneMobileNo:this.vendorForm.get("phoneMobileNo")?.value,currency:this.vendorForm.get("currency")?.value,currencySymbol:this.vendorForm.get("currencySymbol")?.value,paymentTerms:this.vendorForm.get("paymentTerms")?.value,bankName:this.vendorForm.get("bankName")?.value,accountHolderName:this.vendorForm.get("accountHolderName")?.value,accountNumber:this.vendorForm.get("accountNumber")?.value,confirmAccountNumber:this.vendorForm.get("confirmAccountNumber")?.value,ifscCode:this.vendorForm.get("ifscCode")?.value,swiftCode:this.vendorForm.get("swiftCode")?.value,bankAddressLine1:this.vendorForm.get("bankAddressLine1")?.value,bankAddressLine2:this.vendorForm.get("bankAddressLine2")?.value,branch:this.vendorForm.get("branch")?.value,bankCity:this.vendorForm.get("bankCity")?.value,bankState:this.vendorForm.get("bankState")?.value,bankPinCode:this.vendorForm.get("bankPinCode")?.value,iban:this.vendorForm.get("iban")?.value,sortCode:this.vendorForm.get("sortCode")?.value,routingNo:this.vendorForm.get("routingNo")?.value,bankCountry:this.vendorForm.get("bankCountry")?.value,fCTCCharges:this.vendorForm.get("fCTCCharges")?.value,complDocyear:this.vendorForm.get("complDocyear")?.value,status:this.vendorForm.get("status")?.value};this.vendorId==0?(this.loadSpinner=!0,this.vendorService.createVendor(t).subscribe(i=>{this.vendorData=i,this.loadSpinner=!1,this.toastr.success("Vendor Created Successfully"),this.router.navigate(["/master/vendor"])},()=>{this.loadSpinner=!1})):this.vendorService.updateVendor(this.queryData,t).subscribe(i=>{this.vendorData=i,this.toastr.success("Vendor Update Successfully"),this.router.navigate(["master/vendor"]),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}onCancelPress(){this.router.navigate(["master/vendor"])}patchVendorData(t){setTimeout(()=>{},1e3),this.selectedTransactionTypes.clear(),this.vendorForm.patchValue({vendorType:t?.vendorType,vendorCode:t?.vendorCode,vendorName:t?.vendorName,billingAddressLine1:t?.billingAddressLine1,billingAddressLine2:t?.billingAddressLine2,billingCity:t?.billingCity,billingState:t?.billingState,billingCountry:t?.billingCountry,billingPinCode:t?.billingPinCode,shippingAddressLine1:t?.shippingAddressLine1,shippingAddressLine2:t?.shippingAddressLine2,shippingCity:t?.shippingCity,shippingState:t?.shippingState,shippingCountry:t?.shippingCountry,shippingPinCode:t?.shippingPinCode,pan:t?.pan,gst:t?.gst,gstTreatment:t?.gstTreatment,msmeRegistered:t?.msmeRegistered,msmeType:t?.msmeType,msmeNo:t?.msmeNo,contactPersonName:t?.contactPersonName,designation:t?.designation,email1:t?.email1,email2:t?.email2,countryCode:t?.countryCode,phoneMobileNo:t?.phoneMobileNo,currency:t?.currency,currencySymbol:t?.currencySymbol,paymentTerms:t?.paymentTerms,bankName:t?.bankName,accountHolderName:t?.accountHolderName,accountNumber:t?.accountNumber,confirmAccountNumber:t?.confirmAccountNumber,ifscCode:t?.ifscCode,swiftCode:t?.swiftCode,bankAddressLine1:t?.bankAddressLine1,bankAddressLine2:t?.bankAddressLine2,branch:t?.branch,bankCity:t?.bankCity,bankState:t?.bankState,bankPinCode:t?.bankPinCode,iban:t?.iban,sortCode:t?.sortCode,routingNo:t?.routingNo,bankCountry:t?.bankCountry,fCTCCharges:t?.fCTCCharges,complDocyear:t?.complDocyear,status:t?.status}),this.checkAccountMatch()}onOptionSelected(t){this.vendorForm.patchValue({})}validateNo(t){let i=t.which?t.which:t.keyCode;return!(i>31&&(i<48||i>57))}phoneNumberLength(t){let i=this.vendorForm.get("phone")}copyBillingToShipping(t){let i;typeof t=="boolean"?(i=t,this.vendorForm.get("sameAsBilling")?.setValue(!0)):i=t.target.checked,i?(this.vendorForm.patchValue({shippingAddressLine1:this.vendorForm.get("billingAddressLine1")?.value,shippingAddressLine2:this.vendorForm.get("billingAddressLine2")?.value,shippingCountry:this.vendorForm.get("billingCountry")?.value,shippingCity:this.vendorForm.get("billingCity")?.value,shippingState:this.vendorForm.get("billingState")?.value,shippingPinCode:this.vendorForm.get("billingPinCode")?.value}),this.vendorForm.get("shippingAddressLine1")?.disable(),this.vendorForm.get("shippingAddressLine2")?.disable(),this.vendorForm.get("shippingCountry")?.disable(),this.vendorForm.get("shippingCity")?.disable(),this.vendorForm.get("shippingState")?.disable(),this.vendorForm.get("shippingPinCode")?.disable()):(this.vendorForm.get("shippingAddressLine1")?.enable(),this.vendorForm.get("shippingAddressLine2")?.enable(),this.vendorForm.get("shippingCountry")?.enable(),this.vendorForm.get("shippingCity")?.enable(),this.vendorForm.get("shippingState")?.enable(),this.vendorForm.get("shippingPinCode")?.enable(),this.vendorForm.patchValue({shippingAddressLine1:"",shippingAddressLine2:"",shippingCity:"",shippingState:"",shippingPinCode:"",shippingCountry:""}))}AllcountryList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Country").subscribe(t=>{this.countryList=t.lookUps||[],this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(et),D(X),D(Ai),D(Z),D(nn),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-vendor"]],decls:383,vars:96,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["data-bs-toggle","tab","href","#vendorTab",1,"nav-link","active"],["data-bs-toggle","tab","href","#contactTab",1,"nav-link"],["data-bs-toggle","tab","href","#banktab",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"tab-content"],["id","vendorTab",1,"tab-pane","fade","show","active"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-form-input"],["for","vendorType"],["class","text-danger",4,"ngIf"],["formControlName","vendorType","aria-placeholder","selectType",1,"input-field",3,"change"],["value","","selected",""],["value","EIPVDOM"],["value","EIPVIMP"],[4,"ngIf"],["for",""],["type","text","formControlName","vendorName",1,"input-field"],["type","text","formControlName","billingAddressLine1",1,"input-field"],["type","text","formControlName","billingAddressLine2",1,"input-field"],["formControlName","billingCountry",1,"input-field",3,"disabled"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","billingCity",1,"input-field"],["type","text","class","input-field","formControlName","billingState",4,"ngIf"],["class","input-field","formControlName","billingState",4,"ngIf"],["type","text","formControlName","billingPinCode",1,"input-field"],[1,"col-12","mb-3","mt-3"],["type","checkbox","id","sameAsBilling","formControlName","sameAsBilling",1,"form-check-input",2,"outline","1px solid black","margin-right","10px",3,"change"],["for","sameAsBilling",1,"form-check-label"],["type","text","formControlName","shippingAddressLine1",1,"input-field"],["type","text","formControlName","shippingAddressLine2",1,"input-field"],["class","input-field","formControlName","shippingCountry",3,"click",4,"ngIf"],["type","text","formControlName","shippingCity",1,"input-field"],["type","text","class","input-field","formControlName","shippingState",4,"ngIf"],["class","input-field","formControlName","shippingState",4,"ngIf"],["type","text","formControlName","shippingPinCode",1,"input-field"],["type","text","formControlName","paymentTerms",1,"input-field"],["class","input-field","formControlName","currency",3,"change",4,"ngIf"],["type","text","formControlName","currencySymbol","readonly","",1,"form-control"],["id","contactTab",1,"tab-pane","fade"],["type","text","formControlName","contactPersonName",1,"input-field"],["type","text","formControlName","designation",1,"input-field"],["type","email","formControlName","email1",1,"input-field"],["type","text","formControlName","email2",1,"input-field"],["formControlName","countryCode",1,"input-field",3,"disabled"],["type","text","formControlName","phoneMobileNo","pattern","[0-9]*","inputmode","numeric",1,"input-field"],["id","banktab",1,"tab-pane","fade"],["type","text","formControlName","bankName",1,"input-field"],["type","text","formControlName","accountHolderName",1,"input-field"],["type","text","formControlName","accountNumber",1,"input-field"],["type","text","formControlName","confirmAccountNumber",1,"input-field"],["class","col-lg-3 col-md-3",4,"ngIf"],["type","text","formControlName","bankAddressLine1",1,"input-field"],["type","text","formControlName","bankAddressLine2",1,"input-field"],["formControlName","bankCountry",1,"input-field",3,"disabled"],["type","text","formControlName","bankCity",1,"input-field"],["type","text","class","input-field","formControlName","bankState",4,"ngIf"],["class","input-field","formControlName","bankState",4,"ngIf"],["type","text","formControlName","bankPinCode",1,"input-field"],["id","complianceTab",1,"tab-pane","fade"],["for","msmeRegistered"],["formControlName","msmeRegistered",1,"input-field",3,"change"],[3,"ngValue"],["formControlName","msmeType",1,"input-field"],["value",""],["value","MICRO"],["value","SMALL"],["value","MEDIUM"],["type","text","formControlName","msmeNo",1,"input-field"],["type","text","formControlName","pan",1,"input-field"],["formControlName","gstTreatment",1,"input-field",3,"change"],["value","Registered"],["value","Unregistered"],["value","Consumer"],["value","RCM"],["type","text","formControlName","gst",1,"input-field"],["id","extraDetails",1,"tab-pane","fade"],["for","iban"],["type","text","formControlName","iban",1,"input-field"],["for","swiftCode"],["type","text","formControlName","swiftCode",1,"input-field"],["for","sortCode"],["type","text","formControlName","sortCode",1,"input-field"],["for","routingNo"],["type","text","formControlName","routingNo",1,"input-field"],["for","fCTCCharges"],["formControlName","fCTCCharges",1,"input-field"],["value","EIP"],["value","Vendor"],["value","Both"],["for","complDocyear"],["type","text","formControlName","complDocyear",1,"input-field"],["id","status",1,"tab-pane","fade"],["class","custom-form-input",4,"ngIf"],["class","spinner",4,"ngIf"],["data-bs-toggle","tab","href","#complianceTab",1,"nav-link"],["data-bs-toggle","tab","href","#extraDetails",1,"nav-link"],["data-bs-toggle","tab","href","#status",1,"nav-link"],[1,"text-danger"],[3,"value"],["type","text","formControlName","billingState",1,"input-field"],["formControlName","billingState",1,"input-field"],["formControlName","shippingCountry",1,"input-field",3,"click"],["type","text","formControlName","shippingState",1,"input-field"],["formControlName","shippingState",1,"input-field"],["formControlName","currency",1,"input-field",3,"change"],["type","text","formControlName","ifscCode",1,"input-field"],["type","text","formControlName","branch",1,"input-field"],["type","text","formControlName","bankState",1,"input-field"],["formControlName","bankState",1,"input-field"],["name","","id","","formControlName","status"],["value","Active"],["value","Inactive"],[1,"spinner"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onPressSave()}),s(5,"Save"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7,"Cancel"),n()()(),o(8,"div",4)(9,"form",5)(10,"ul",6)(11,"li",7)(12,"a",8),s(13,"Name & Address Details "),n()(),o(14,"li",7)(15,"a",9),s(16,"Contact Details "),n()(),o(17,"li",7)(18,"a",10),s(19,"Bank Details "),n()(),v(20,g2,3,0,"li",11)(21,f2,3,0,"li",11)(22,_2,3,0,"li",11),n(),o(23,"div",12)(24,"div",13)(25,"div",14)(26,"div",15)(27,"div",16)(28,"label",17),s(29,"Vendor Type "),v(30,v2,2,0,"span",18),n(),o(31,"select",19),g("change",function(p){return e.onVendorTypeChange(p)}),o(32,"option",20),s(33,"Select Type"),n(),o(34,"option",21),s(35,"EIPVDOM"),n(),o(36,"option",22),s(37,"EIPVIMP"),n()(),v(38,y2,2,1,"div",23),n()(),o(39,"div",15)(40,"div",16)(41,"label",24),s(42,"Vendor Name "),v(43,C2,2,0,"span",18),n(),E(44,"input",25),v(45,x2,2,1,"div",23),n()(),o(46,"div",15)(47,"div",16)(48,"label",24),s(49,"Billing Address Line 1 "),v(50,D2,2,0,"span",18),n(),E(51,"input",26),v(52,T2,2,1,"div",23),n()(),o(53,"div",15)(54,"div",16)(55,"label",24),s(56,"Billing Address Line 2"),n(),E(57,"input",27),n()(),o(58,"div",15)(59,"div",16)(60,"label",24),s(61,"Billing Country "),v(62,w2,2,0,"span",18),n(),o(63,"ng-select",28),v(64,I2,2,2,"ng-option",29),n()()(),o(65,"div",15)(66,"div",16)(67,"label",24),s(68,"Billing City "),v(69,N2,2,0,"span",18),n(),E(70,"input",30),v(71,M2,2,1,"div",23),n()(),o(72,"div",15)(73,"div",16)(74,"label",24),s(75,"Billing State "),v(76,P2,2,0,"span",18),n(),v(77,k2,1,0,"input",31)(78,O2,2,1,"ng-select",32)(79,B2,2,1,"div",23),n()(),o(80,"div",15)(81,"div",16)(82,"label",24),s(83,"Billing Pin Code "),v(84,V2,2,0,"span",18),n(),E(85,"input",33),v(86,G2,3,2,"div",23),n()(),o(87,"div",34)(88,"div",15)(89,"input",35),g("change",function(p){return e.copyBillingToShipping(p)}),n(),o(90,"label",36),s(91," Same as Billing Address "),n()()(),o(92,"div",15)(93,"div",16)(94,"label",24),s(95,"Shipping Address Line 1 "),v(96,W2,2,0,"span",18),n(),E(97,"input",37),v(98,H2,2,1,"div",23),n()(),o(99,"div",15)(100,"div",16)(101,"label",24),s(102,"Shipping Address Line 2 "),v(103,z2,2,0,"span",18),n(),E(104,"input",38),n()(),o(105,"div",15)(106,"div",16)(107,"label",24),s(108,"Shipping Country "),v(109,q2,2,0,"span",18),n(),v(110,$2,2,1,"ng-select",39)(111,Z2,2,1,"ng-select",39),n()(),o(112,"div",15)(113,"div",16)(114,"label",24),s(115,"Shipping City "),v(116,K2,2,0,"span",18),n(),E(117,"input",40),v(118,X2,2,1,"div",23),n()(),o(119,"div",15)(120,"div",16)(121,"label",24),s(122,"Shipping State "),v(123,ex,2,0,"span",18),n(),v(124,tx,1,0,"input",41)(125,nx,2,1,"ng-select",42)(126,rx,2,1,"div",23),n()(),o(127,"div",15)(128,"div",16)(129,"label",24),s(130,"Shipping Pin Code "),v(131,ax,2,0,"span",18),n(),E(132,"input",43),v(133,dx,3,2,"div",23),n()(),o(134,"div",15)(135,"div",16)(136,"label",24),s(137,"Payment Terms "),v(138,cx,2,0,"span",18),n(),E(139,"input",44),n()(),o(140,"div",15)(141,"div",16)(142,"label",24),s(143,"Currency "),v(144,px,2,0,"span",18),n(),v(145,ux,2,1,"ng-select",45)(146,gx,2,1,"ng-select",45),n()(),o(147,"div",15)(148,"div",16)(149,"label",24),s(150," Currency Symbol "),v(151,fx,2,0,"span",18),n(),E(152,"input",46),n()()()(),o(153,"div",47)(154,"div",14)(155,"div",15)(156,"div",16)(157,"label",24),s(158,"Contact Person Name "),v(159,_x,2,0,"span",18),n(),E(160,"input",48),v(161,bx,2,1,"div",23),n()(),o(162,"div",15)(163,"div",16)(164,"label",24),s(165,"Designation "),v(166,yx,2,0,"span",18),n(),E(167,"input",49),n()(),o(168,"div",15)(169,"div",16)(170,"label",24),s(171,"Email 1 "),v(172,Cx,2,0,"span",18),n(),E(173,"input",50),v(174,xx,2,1,"div",23),n()(),o(175,"div",15)(176,"div",16)(177,"label",24),s(178,"Email 2 "),v(179,Dx,2,0,"span",18),n(),E(180,"input",51),v(181,Tx,2,1,"div",23),n()(),o(182,"div",15)(183,"div",16)(184,"label",24),s(185,"Country Code "),v(186,wx,2,0,"span",18),n(),o(187,"ng-select",52),v(188,Ix,2,2,"ng-option",29),n()()(),o(189,"div",15)(190,"div",16)(191,"label",24),s(192,"Mobile No "),v(193,Nx,2,0,"span",18),n(),E(194,"input",53),v(195,Px,3,2,"div",23),n()()()(),o(196,"div",54)(197,"div",14)(198,"div",15)(199,"div",16)(200,"label",24),s(201,"Bank Name "),v(202,kx,2,0,"span",18),n(),E(203,"input",55),n()(),o(204,"div",15)(205,"div",16)(206,"label",24),s(207,"Account Holder Name "),v(208,Ax,2,0,"span",18),n(),E(209,"input",56),n()(),o(210,"div",15)(211,"div",16)(212,"label",24),s(213,"Account Number "),v(214,Ox,2,0,"span",18),n(),E(215,"input",57),v(216,Vx,3,2,"div",23),n()(),o(217,"div",15)(218,"div",16)(219,"label",24),s(220,"Confirm Account Number "),v(221,Rx,2,0,"span",18),n(),E(222,"input",58),v(223,jx,2,0,"small",18)(224,Gx,2,0,"small",18),n()(),v(225,zx,7,2,"div",59),o(226,"div",15)(227,"div",16)(228,"label",24),s(229,"Bank Address Line 1 "),v(230,qx,2,0,"span",18),n(),E(231,"input",60),n()(),o(232,"div",15)(233,"div",16)(234,"label",24),s(235,"Bank Address Line 2 "),v(236,Yx,2,0,"span",18),n(),E(237,"input",61),n()(),v(238,Qx,6,1,"div",59),o(239,"div",15)(240,"div",16)(241,"label",24),s(242,"Bank Country "),v(243,Zx,2,0,"span",18),n(),o(244,"ng-select",62),v(245,Kx,2,2,"ng-option",29),n()()(),o(246,"div",15)(247,"div",16)(248,"label",24),s(249,"Bank City "),v(250,Jx,2,0,"span",18),n(),E(251,"input",63),n()(),o(252,"div",15)(253,"div",16)(254,"label",24),s(255,"Bank State "),v(256,Xx,2,0,"span",18),n(),v(257,eD,1,0,"input",64)(258,iD,2,1,"ng-select",65)(259,oD,2,1,"div",23),n()(),o(260,"div",15)(261,"div",16)(262,"label",24),s(263,"Bank Pin Code "),v(264,rD,2,0,"span",18),n(),E(265,"input",66),v(266,aD,2,0,"small",18),n()()()(),o(267,"div",67)(268,"div",14)(269,"div",15)(270,"div",16)(271,"label",68),s(272," MSME Registered "),v(273,lD,2,0,"span",18),n(),o(274,"select",69),g("change",function(){return e.onMsmeRegisterChange()}),o(275,"option",70),s(276,"Yes"),n(),o(277,"option",70),s(278,"No"),n()()()(),o(279,"div",15)(280,"div",16)(281,"label",24),s(282,"MSME Type "),v(283,sD,2,0,"span",18),n(),o(284,"select",71)(285,"option",72),s(286,"Select MSME Type"),n(),o(287,"option",73),s(288,"MICRO"),n(),o(289,"option",74),s(290,"SMALL"),n(),o(291,"option",75),s(292,"MEDIUM"),n()(),v(293,cD,2,1,"div",23),n()(),o(294,"div",15)(295,"div",16)(296,"label",24),s(297,"MSME No "),v(298,pD,2,0,"span",18),n(),E(299,"input",76),v(300,hD,3,2,"div",23),n()(),o(301,"div",15)(302,"div",16)(303,"label",24),s(304,"PAN "),v(305,gD,2,0,"span",18),n(),E(306,"input",77),v(307,vD,3,2,"div",23),n()(),o(308,"div",15)(309,"div",16)(310,"label",24),s(311,"GST Treatment "),v(312,bD,2,0,"span",18),n(),o(313,"select",78),g("change",function(p){return e.onGSTTreatmentChange(p)}),o(314,"option",72),s(315,"-- Select --"),n(),o(316,"option",79),s(317,"Registered"),n(),o(318,"option",80),s(319,"Unregistered"),n(),o(320,"option",81),s(321,"Consumer"),n(),o(322,"option",82),s(323,"RCM"),n()(),v(324,CD,2,1,"div",23),n()(),o(325,"div",15)(326,"div",16)(327,"label",24),s(328,"GST No "),v(329,SD,2,0,"span",18),n(),E(330,"input",83),v(331,ED,3,2,"div",23),n()()()(),o(332,"div",84)(333,"div",14)(334,"div",15)(335,"div",16)(336,"label",85),s(337,"IBAN "),v(338,TD,2,0,"span",18),n(),E(339,"input",86),n()(),o(340,"div",15)(341,"div",16)(342,"label",87),s(343,"Swift Code "),v(344,wD,2,0,"span",18),n(),E(345,"input",88),n()(),o(346,"div",15)(347,"div",16)(348,"label",89),s(349,"Sort Code "),v(350,ID,2,0,"span",18),n(),E(351,"input",90),n()(),o(352,"div",15)(353,"div",16)(354,"label",91),s(355,"Routing No "),v(356,ND,2,0,"span",18),n(),E(357,"input",92),n()(),o(358,"div",15)(359,"div",16)(360,"label",93),s(361,"FC TC Charges "),v(362,FD,2,0,"span",18),n(),o(363,"select",94)(364,"option",72),s(365,"-- Select --"),n(),o(366,"option",95),s(367,"EIP"),n(),o(368,"option",96),s(369,"Vendor"),n(),o(370,"option",97),s(371,"Both"),n()()()(),o(372,"div",15)(373,"div",16)(374,"label",98),s(375,"Compl Doc Year "),v(376,MD,2,0,"span",18),n(),E(377,"input",99),n()()()(),o(378,"div",100)(379,"div",14)(380,"div",15),v(381,kD,9,1,"div",101),n()()()()(),v(382,AD,2,0,"div",102),n()),i&2){let c,p,h,w,N,L,V,I,G,oe,q,de,xe,fe,ce,Pe,Oe,He,Re,lt,ct,rt,Vt,vt;d(2),Ce("",e.vendorId>0?"Edit Vendor":"Create Vendor"," Master"),d(2),m("disabled",e.disableSubmit||!e.vendorForm.valid),d(5),m("formGroup",e.vendorForm),d(11),m("ngIf",e.showComplianceTab),d(),m("ngIf",e.showExtraTab),d(),m("ngIf",e.statusTab),d(8),m("ngIf",e.currentRequiredFields.includes("vendorType")),d(8),m("ngIf",((c=e.vendorForm.get("vendorType"))==null?null:c.invalid)&&((c=e.vendorForm.get("vendorType"))==null?null:c.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("vendorName")),d(2),m("ngIf",((p=e.vendorForm.get("vendorName"))==null?null:p.invalid)&&((p=e.vendorForm.get("vendorName"))==null?null:p.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("billingAddressLine1")),d(2),m("ngIf",((h=e.vendorForm.get("billingAddressLine1"))==null?null:h.invalid)&&((h=e.vendorForm.get("billingAddressLine1"))==null?null:h.touched)),d(10),m("ngIf",e.vendorId==0),d(),m("disabled",e.isBillingCountryDisabled),d(),m("ngForOf",e.countryList),d(5),m("ngIf",e.currentRequiredFields.includes("billingCity")),d(2),m("ngIf",((w=e.vendorForm.get("billingCity"))==null?null:w.invalid)&&((w=e.vendorForm.get("billingCity"))==null?null:w.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("billingState")),d(),m("ngIf",e.vendorType!=="EIPVDOM"),d(),m("ngIf",e.vendorType==="EIPVDOM"),d(),m("ngIf",((N=e.vendorForm.get("billingState"))==null?null:N.invalid)&&((N=e.vendorForm.get("billingState"))==null?null:N.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("billingPinCode")),d(2),m("ngIf",((L=e.vendorForm.get("billingPinCode"))==null?null:L.invalid)&&((L=e.vendorForm.get("billingPinCode"))==null?null:L.touched)),d(10),m("ngIf",e.currentRequiredFields.includes("shippingAddressLine1")),d(2),m("ngIf",((V=e.vendorForm.get("shippingAddressLine1"))==null?null:V.invalid)&&((V=e.vendorForm.get("shippingAddressLine1"))==null?null:V.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("shippingAddressLine2")),d(6),m("ngIf",e.vendorId==0),d(),m("ngIf",e.vendorId>0),d(),m("ngIf",e.vendorId==0),d(5),m("ngIf",e.currentRequiredFields.includes("shippingCity")),d(2),m("ngIf",((I=e.vendorForm.get("shippingCity"))==null?null:I.invalid)&&((I=e.vendorForm.get("shippingCity"))==null?null:I.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("shippingState")),d(),m("ngIf",e.vendorType!=="EIPVDOM"),d(),m("ngIf",e.vendorType==="EIPVDOM"),d(),m("ngIf",((G=e.vendorForm.get("shippingState"))==null?null:G.invalid)&&((G=e.vendorForm.get("shippingState"))==null?null:G.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("shippingPinCode")),d(2),m("ngIf",((oe=e.vendorForm.get("shippingPinCode"))==null?null:oe.invalid)&&((oe=e.vendorForm.get("shippingPinCode"))==null?null:oe.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("paymentTerms")),d(6),m("ngIf",e.currentRequiredFields.includes("currency")),d(),m("ngIf",e.vendorId>0),d(),m("ngIf",e.vendorId==0),d(5),m("ngIf",e.currentRequiredFields.includes("currencySymbol")),d(8),m("ngIf",e.currentRequiredFields.includes("contactPersonName")),d(2),m("ngIf",((q=e.vendorForm.get("contactPersonName"))==null?null:q.invalid)&&((q=e.vendorForm.get("contactPersonName"))==null?null:q.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("designation")),d(6),m("ngIf",e.currentRequiredFields.includes("email1")),d(2),m("ngIf",((de=e.vendorForm.get("email1"))==null?null:de.invalid)&&((de=e.vendorForm.get("email1"))==null?null:de.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("email2")),d(2),m("ngIf",((xe=e.vendorForm.get("email2"))==null?null:xe.invalid)&&((xe=e.vendorForm.get("email2"))==null?null:xe.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("countryCode")),d(),m("disabled",e.isBillingCountryDisabled),d(),m("ngForOf",e.PhoneCodeList),d(5),m("ngIf",e.currentRequiredFields.includes("phoneMobileNo")),d(2),m("ngIf",((fe=e.vendorForm.get("phoneMobileNo"))==null?null:fe.invalid)&&((fe=e.vendorForm.get("phoneMobileNo"))==null?null:fe.touched)),d(7),m("ngIf",e.currentRequiredFields.includes("bankName")),d(6),m("ngIf",e.currentRequiredFields.includes("accountHolderName")),d(6),m("ngIf",e.currentRequiredFields.includes("accountNumber")),d(2),m("ngIf",((ce=e.vendorForm.get("accountNumber"))==null?null:ce.invalid)&&((ce=e.vendorForm.get("accountNumber"))==null?null:ce.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("confirmAccountNumber")),d(2),m("ngIf",((Pe=e.vendorForm.get("confirmAccountNumber"))==null?null:Pe.hasError("required"))&&((Pe=e.vendorForm.get("confirmAccountNumber"))==null?null:Pe.touched)),d(),m("ngIf",((Oe=e.vendorForm.get("confirmAccountNumber"))==null?null:Oe.hasError("mismatch"))&&((Oe=e.vendorForm.get("confirmAccountNumber"))==null?null:Oe.touched)),d(),m("ngIf",e.IfscInput),d(5),m("ngIf",e.currentRequiredFields.includes("bankAddressLine1")),d(6),m("ngIf",e.currentRequiredFields.includes("bankAddressLine2")),d(2),m("ngIf",e.IfscInput),d(5),m("ngIf",e.currentRequiredFields.includes("bankCountry")),d(),m("disabled",e.isBillingCountryDisabled),d(),m("ngForOf",e.countryList),d(5),m("ngIf",e.currentRequiredFields.includes("bankCity")),d(6),m("ngIf",e.currentRequiredFields.includes("bankState")),d(),m("ngIf",e.vendorType!=="EIPVDOM"),d(),m("ngIf",e.vendorType==="EIPVDOM"),d(),m("ngIf",((He=e.vendorForm.get("bankState"))==null?null:He.invalid)&&((He=e.vendorForm.get("bankState"))==null?null:He.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("bankPinCode")),d(2),m("ngIf",(Re=e.vendorForm.get("bankPinCode"))==null?null:Re.hasError("pattern")),d(7),m("ngIf",e.currentRequiredFields.includes("msmeRegistered")),d(2),m("ngValue",!0),d(2),m("ngValue",!1),d(6),m("ngIf",e.currentRequiredFields.includes("msmeType")),d(10),m("ngIf",((lt=e.vendorForm.get("msmeType"))==null?null:lt.invalid)&&((lt=e.vendorForm.get("msmeType"))==null?null:lt.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("msmeNo")),d(2),m("ngIf",((ct=e.vendorForm.get("msmeNo"))==null?null:ct.invalid)&&((ct=e.vendorForm.get("msmeNo"))==null?null:ct.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("pan")),d(2),m("ngIf",((rt=e.vendorForm.get("pan"))==null?null:rt.invalid)&&((rt=e.vendorForm.get("pan"))==null?null:rt.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("gstTreatment")),d(12),m("ngIf",((Vt=e.vendorForm.get("gstTreatment"))==null?null:Vt.invalid)&&((Vt=e.vendorForm.get("gstTreatment"))==null?null:Vt.touched)),d(5),m("ngIf",e.currentRequiredFields.includes("gst")),d(2),m("ngIf",((vt=e.vendorForm.get("gst"))==null?null:vt.invalid)&&((vt=e.vendorForm.get("gst"))==null?null:vt.touched)),d(7),m("ngIf",e.currentRequiredFields.includes("iban")),d(6),m("ngIf",e.currentRequiredFields.includes("swiftCode")),d(6),m("ngIf",e.currentRequiredFields.includes("sortCode")),d(6),m("ngIf",e.currentRequiredFields.includes("routingNo")),d(6),m("ngIf",e.currentRequiredFields.includes("fCTCCharges")),d(14),m("ngIf",e.currentRequiredFields.includes("complDocyear")),d(5),m("ngIf",e.vendorId),d(),m("ngIf",e.loadSpinner)}},dependencies:[$,z,le,se,Ze,me,ue,Ae,Ii,pe,U,Qe,fa,nt,ot],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.text-danger[_ngcontent-%COMP%], .error-message[_ngcontent-%COMP%]{color:red;font-size:12px}.input-field.ng-invalid.ng-touched[_ngcontent-%COMP%]{border:1px solid red}.readonly-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{pointer-events:none;background-color:#e9ecef}"]});let a=r;return a})();var Uo=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getVehicles(t,i=0,e=this.maxCount){return this.post(Xc(i,e),t)}getVehicleData(t=0,i){return this.get(ep(t,i))}updateVehicle(t=0,i,e){return this.put(ip(t,i),e)}createVehicle(t=0,i){return this.post(tp(t),i)}getLookups(t){return this.post(j.getLookupData,t)}getTransporterData(t){return this.get(pa(t))}getDropdownData(t,i){return this.post(Ut(i),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function OD(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function LD(a,r){if(a&1){let l=O();o(0,"div",16)(1,"div",17)(2,"label",5),s(3,"Location Code"),n(),o(4,"ng-select",18),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,OD,2,2,"ng-option",7),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function BD(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function VD(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function RD(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function jD(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var qm=(()=>{let r=class r{constructor(t){this.lookupService=t,this.getData=new W,this.locationsData=new W,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.vehicleNum=void 0,this.transporterNam=void 0,this.loadSpinner=!0,this.transporterId=0,this.allVehicleNo=[],this.filteredVehicleNo=[]}ngOnInit(){}onVehicleSearch(){let t={vehicleNumber:this.vehicleNum||"",transporterId:this.transporterNam||"",locationIds:this.locationIds||[],vehcileSize:this.vehicleSize||"",status:this.status||""};this.getData.emit(t)}onClearFilter(){this.vehicleNum=void 0,this.transporterNam=void 0,this.vehicleSize=void 0,this.status=void 0,this.locationIds=this.locationIds;let t={vehicleNumber:void 0,transporterNam:void 0,status:void 0,vehicleSize:void 0,locationIds:this.locationIds};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-vehicle-filters"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:36,vars:13,consts:[[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select vehicle number",1,"input-field",3,"ngModelChange","ngModel","readonly"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select vehicle size",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-4"],["placeholder","Select transporters",1,"input-field",3,"ngModelChange","ngModel","readonly"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[1,"col-lg-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,LD,6,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Vehicle Number"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.vehicleNum,p)||(e.vehicleNum=p),p}),v(8,BD,2,2,"ng-option",7),n()()(),o(9,"div",3)(10,"div",4)(11,"label",5),s(12,"Vehicle Size"),n(),o(13,"ng-select",8),P("ngModelChange",function(p){return M(e.vehicleSize,p)||(e.vehicleSize=p),p}),v(14,VD,2,2,"ng-option",7),n()()(),o(15,"div",9)(16,"div",4)(17,"label",5),s(18,"Transporter Name"),n(),o(19,"ng-select",10),P("ngModelChange",function(p){return M(e.transporterNam,p)||(e.transporterNam=p),p}),v(20,RD,2,2,"ng-option",7),n()()(),o(21,"div",3)(22,"div",4)(23,"label"),s(24,"Status"),n(),o(25,"ng-select",11),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(26,jD,2,2,"ng-option",7),n()()(),o(27,"div",3)(28,"div",4)(29,"label",12),s(30,"\xA0"),n(),o(31,"div",13)(32,"button",14),g("click",function(){return e.onVehicleSearch()}),s(33,"Search"),n(),o(34,"button",15),g("click",function(){return e.onClearFilter()}),s(35," Clear"),n()()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.vehicleNum),m("readonly",e.transporterNam),d(),m("ngForOf",e.filters==null?null:e.filters.VehicleNumber),d(5),F("ngModel",e.vehicleSize),d(),m("ngForOf",e.filters==null?null:e.filters.VehicleSize),d(5),F("ngModel",e.transporterNam),m("readonly",e.vehicleNum),d(),m("ngForOf",e.filters==null?null:e.filters.Transporter),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(6),m("disabled",!e.locationIds.length&&!e.vehicleNum&&!e.transporterNam&&!e.vehicleSize&&!e.status),d(2),m("disabled",e.locationIds.length&&!e.vehicleNum&&!e.transporterNam&&!e.vehicleSize&&!e.status))},dependencies:[$,z,le,se,U,Y],styles:[".custom-form-input[_ngcontent-%COMP%]{position:relative}.suggestions[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:1px solid #ccc;border-top:none;max-height:var(--spacer-200);width:100%}.suggestion[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer}.suggestion[_ngcontent-%COMP%]:hover{background-color:#f5faff}"]});let a=r;return a})();var WD=["table"],UD=(a,r)=>r.id;function HD(a,r){if(a&1&&(o(0,"div",10)(1,"div",11)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",11)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",11)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",11)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function zD(a,r){if(a&1){let l=O();o(0,"tr")(1,"td"),s(2),n(),o(3,"td",7)(4,"span",8)(5,"u"),s(6),n()(),v(7,HD,23,10,"ng-template",null,1,te),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td",6)(28,"img",9),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onEditVehicle(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(8);d(2),_((l==null||l.locations==null?null:l.locations.value)||"-"),d(2),m("ngbTooltip",t),d(2),_(l.vehicleNumber),d(4),_(l.vehicleSize.value),d(2),_(l.transporterEntity.transporterName),d(2),_(l.transporterEntity.ownerName),d(2),_(l.transporterEntity.transporterAddress1),d(2),_(l.transporterEntity.transporterContactNo),d(2),_(l.transporterEntity.transporterMailId),d(2),_(l.vehicleCondition),d(2),_(l.remarks),d(2),_(l.status)}}function qD(a,r){a&1&&(o(0,"tr")(1,"td",12),s(2,"No Vehicle Found"),n()())}var Ym=(()=>{let r=class r{constructor(t){this.router=t,this.vehiclesList=[],this.exportHeader=new W,this.loadSpinner=!0,this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.vehiclesList&&this.emitHeaders()}onEditVehicle(t){this.router.navigate(["master/editVehicle",t.id])}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.vehiclesList)}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-vehicle-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(WD,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{vehiclesList:"vehiclesList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:34,vars:2,consts:[["table",""],["tipContent",""],["id","exportableTable"],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3)(2,"table",4,0)(4,"thead")(5,"tr")(6,"th"),s(7,"Location Code"),n(),o(8,"th",5),g("click",function(){return b(c),y(e.sortData("vehicleNumber"))}),s(9,"Vehicle Number"),n(),o(10,"th",5),g("click",function(){return b(c),y(e.sortData("vehicleSize.value"))}),s(11,"Vehicle Size"),n(),o(12,"th",5),g("click",function(){return b(c),y(e.sortData("transporterEntity.transporterName"))}),s(13,"Transporter Name"),n(),o(14,"th",5),g("click",function(){return b(c),y(e.sortData("transporterEntity.ownerName"))}),s(15,"Owner Name"),n(),o(16,"th",5),g("click",function(){return b(c),y(e.sortData("transporterEntity.transporterAddress1"))}),s(17,"Address"),n(),o(18,"th",5),g("click",function(){return b(c),y(e.sortData("transporterEntity.transporterContactNo"))}),s(19,"Contact"),n(),o(20,"th",5),g("click",function(){return b(c),y(e.sortData("transporterEntity.transporterMailId"))}),s(21,"Email"),n(),o(22,"th",5),g("click",function(){return b(c),y(e.sortData("vehicleCondition"))}),s(23,"Vehicle Condition"),n(),o(24,"th",5),g("click",function(){return b(c),y(e.sortData("remarks"))}),s(25,"Remarks"),n(),o(26,"th",5),g("click",function(){return b(c),y(e.sortData("status"))}),s(27,"Status"),n(),o(28,"th",6),s(29,"Action"),n()()(),o(30,"tbody"),We(31,zD,29,12,"tr",null,UD,!1,qD,3,0,"tr"),n()()()()}i&2&&(d(2),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(29),Ue(e.vehiclesList))},dependencies:[ae,be,Se]});let a=r;return a})();var $D=a=>({"d-none":a}),QD=(a,r)=>({isFilters:a,fullScreen:r});function ZD(a,r){a&1&&s(0," Full Screen ")}function KD(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function JD(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var $m=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.xlsxService=i,this.vehicleService=e,this.toastr=c,this.isFilters=!0,this.vehiclesList=[],this.fullScreen=!1,this.vehicleList=[],this.transportersList=[],this.headers=[],this.loadSpinner=!0,this.transporterOffset=0,this.transporterCount=Number.MAX_VALUE,this.currentPage=1,this.count=10,this.totalVehicles=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.locations=[]}ngOnInit(){this.getVehicleList()}getVehicleList(t=0,i=this.count,e=this.appliedFilters){let c={locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id),vehicleNumber:e?.vehicleNumber||"",transporter:e?.transporterId||"",vehicleSizeCode:e?.vehcileSize||"",status:e?.status||""};this.vehicleService.getVehicles(c,t,i).subscribe(p=>{this.vehiclesList=p.vehicles,this.totalVehicles=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getVehicleList(0,this.count,this.appliedFilters)}onCreateVehicle(){this.router.navigate(["master/addVehicle"])}onExportHeader(t){this.headers=t}exportData(t="Vehicle"){let i={locationIds:this.appliedFilters?.locationIds||j.commonLocationsList.map(e=>e.id),vehicleNumber:this.appliedFilters?.vehicleNumber||"",transporter:this.appliedFilters?.transporterId||"",vehicleSizeCode:this.appliedFilters?.vehcileSize||"",status:this.appliedFilters?.status||""};this.vehicleService.getVehicles(i,0,this.totalVehicles).subscribe(e=>{let p=e.vehicles.map(h=>({locationCode:h.locations.value,vehicleNumber:h.vehicleNumber,vehicleSize:h.vehicleSize.value,transporterName:h.transporterEntity.transporterName,ownerName:h.transporterEntity.ownerName,transporterAddress1:h.transporterEntity.transporterAddress1,transporterContactNo:h.transporterEntity.transporterContactNo,transporterMailId:h.transporterEntity.transporterMailId,vehicleCondition:h.vehicleCondition,remarks:h.remarks,status:h.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getVehicleList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getVehicleList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Je),D(Uo),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-vehicle"]],decls:36,vars:24,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section",3,"ngClass"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","vehiclesList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"Vehicle Master"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateVehicle())}),s(8,"Create Vehicle"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,ZD,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-vehicle-filters",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,KD,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-vehicle-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,JD,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(3),m("ngClass",ge(19,$D,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",$e(21,QD,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("vehiclesList",e.vehiclesList),d(2),m("collectionSize",e.totalVehicles),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,qm,Ym],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 262px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var jn=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getTransporters(t,i=0,e=this.maxCount){return this.post(pp(i,e),t)}getTransporterData(t){return this.get(pa(t))}updateTransporter(t,i){return this.put(mp(t),i)}createTransporter(t){return this.post(j.createTransporter,t)}getDropdownData(t,i){return this.post(Ut(i),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Aa=(()=>{let r=class r{onKeyDown(t){let i=t.which?t.which:t.keyCode;i>31&&(i<65||i>90)&&(i<97||i>122)&&i!==32&&i!==8&&i!==46&&t.preventDefault()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["","inputAlphabetValidator",""]],hostBindings:function(i,e){i&1&&g("keydown",function(p){return e.onKeyDown(p)})}});let a=r;return a})();function XD(a,r){if(a&1&&(o(0,"ng-option",27),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function eE(a,r){a&1&&(o(0,"span",10),s(1,"*"),n())}function tE(a,r){if(a&1&&(o(0,"ng-option",27),s(1),n()),a&2){let l=r.$implicit;m("value",l==null?null:l.id),d(),_(l.transporterName)}}function iE(a,r){if(a&1&&(o(0,"ng-option",27),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function nE(a,r){a&1&&(o(0,"div",7)(1,"div",8)(2,"label",9),s(3,"Status "),o(4,"span",10),s(5,"*"),n()(),o(6,"select",28)(7,"option",29),s(8,"Active"),n(),o(9,"option",30),s(10,"Inactive"),n()()()())}function oE(a,r){a&1&&(o(0,"div",31),s(1,` Loading...
`),n())}var vs=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N){this.router=t,this._route=i,this.vehicleService=e,this.toastr=c,this.baseService=p,this.lookUpService=h,this.transporterService=w,this.lookupService=N,this.vehiclesList=[],this.loadSpinner=!0,this.transporterId=0,this.vehcileSizes=[],this.locations=j.commonLocationsList,this.commonLocations=[],this.vehicleLocationId=0,this.transporterOffset=0,this.transporterCount=Number.MAX_VALUE,this.filteredTransporter=[],this.locationsDropdownData=[],this.vehicleForm=new An({locationId:new J("",[A.required]),vehicleNumber:new J("",[A.required]),transporterName:new J(null,[A.required]),vehicleSize:new J(null,[A.required]),vehicleCondition:new J(""),remarks:new J(""),vehicleStatus:new J("Active",[A.required]),ownerName:new J(""),address:new J(""),mobileNumber1:new J(""),emailId:new J("")})}ngOnInit(){this.getCommonLocations(),this.getLocations(),this.vehicleId||(this.loadSpinner=!1),this._route.paramMap.subscribe(t=>{t.has("vehicleId")?this.vehicleId=t.get("vehicleId"):this.vehicleId=null}),this.vehicleId>0&&this.getEditVehicleData(),this.getAllLookups()}getCommonLocations(){this.commonLocations=j.commonLocationsList}getLocations(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"Locations").subscribe(e=>{this.locationsDropdownData=e.lookUps.filter(c=>c.status==="Active"&&this.commonLocations.some(p=>p.id===c.id))},e=>{})}getVehicleData(t){this.loadSpinner=!0,this.loadSpinner=!0,this.vehicleId&&(this.loadSpinner=!0,this.vehicleService.getVehicleData(this.vehicleLocationId,t).subscribe(i=>{this.vehicleData=i,this.patchVehicleForm(i),this.loadSpinner=!1},i=>{this.loadSpinner=!1}))}patchVehicleForm(t){console.log(t),this.vehicleForm.patchValue({vehicleNumber:t.vehicleNumber,transporterName:t.transporterEntity?.transporterName,vehicleSize:t.vehicleSizeId,vehicleCondition:t.vehicleCondition,remarks:t.remarks,vehicleStatus:t.status,ownerName:t.transporterEntity.ownerName,address:t.transporterEntity.transporterAddress1,mobileNumber1:t.transporterEntity.transporterContactNo,emailId:t.transporterEntity.transporterMailId,locationId:t.locations.code})}onOptionSelected(t){this.transporterId=t,this.getTransporterData(this.transporterId),this.vehicleForm.patchValue({address:null,ownerName:null,mobileNumber1:null,emailId:null})}onPressSave(){this.loadSpinner=!0,this.locationCode=this.vehicleForm.controls.locationId?.value;let i=this.locations?.find(c=>c?.code==this.locationCode)?.id,e=this.transportersList.find(c=>c?.transporterName==this.vehicleForm.controls.transporterName?.value)?.id;if(this.vehicleId){let c={transporterId:e,vehicleCondition:this.vehicleForm.get("vehicleCondition")?.value,remarks:this.vehicleForm.get("remarks")?.value,status:this.vehicleForm.get("vehicleStatus")?.value,actionBy:localStorage.getItem("userId"),ownerName:this.vehicleForm.get("ownerName")?.value};this.vehicleService.updateVehicle(i,this.vehicleId,c).subscribe(p=>{this.vehicleData=p,this.toastr.success("Vehicle Updated Successfully"),this.loadSpinner=!1,this.router.navigate(["/master/vehicle"])},p=>{this.loadSpinner=!1})}if(!this.vehicleId){let c={vehicleNumber:this.vehicleForm.get("vehicleNumber")?.value,vehicleSizeId:this.vehicleForm.get("vehicleSize")?.value,transporterId:this.transporterId,actionBy:localStorage.getItem("userId"),vehicleCondition:this.vehicleForm.get("vehicleCondition")?.value,remarks:this.vehicleForm.get("remarks")?.value,status:this.vehicleForm.get("vehicleStatus")?.value,ownerName:this.vehicleForm.get("ownerName")?.value};this.vehicleService.createVehicle(this.locationCode,c).subscribe(p=>{this.vehicleData=p,this.toastr.success("Vehicle Created Successfully"),this.router.navigate(["/master/vehicle"]),this.loadSpinner=!1},p=>{this.loadSpinner=!1})}}getAllLookups(){let t={code:"VehicleSize"};this.vehicleService.getLookups(t).subscribe(i=>{this.lookupsList=i.lookUps.filter(e=>e.status==="Active")},i=>{})}getAllTransportersList(){this.loadSpinner=!0;let t=this.vehicleForm.controls.locationId.value,i={transporterCode:"",transporterName:""};this.transporterService.getTransporters(i,this.transporterOffset,this.transporterCount).subscribe(e=>{e&&e.transporters&&(this.transportersList=e.transporters.filter(c=>c?.status==="Active"),this.transportersList.length>0&&this.onLocationSelect(t)),this.loadSpinner=!1},e=>{this.loadSpinner=!1})}getTransporterData(t){this.loadSpinner=!0,this.vehicleService.getTransporterData(t).subscribe(i=>{this.patchTransporterField(i),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}patchTransporterField(t){this.vehicleForm.patchValue({address:t.transporterAddress1,mobileNumber1:t.transporterContactNo,emailId:t.transporterMailId})}onCancelPress(){this.router.navigate(["master/vehicle"])}getVehicleSizeDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.vehicleService.getDropdownData(t,"VehicleSize").subscribe(e=>{this.vehcileSizes=e.lookUps.filter(c=>c.status==="Active")})}setLocation(){this.vehicleId||this.lookUpService.setLocationId(this.vehicleForm,this.commonLocations,"locationId")}getEditVehicleData(){let t={locationIds:j.commonLocationsList.map(i=>i.id),vehicleNumber:"",transporterId:0};this.vehicleService.getVehicles(t).subscribe(i=>{this.vehiclesList=i.vehicles,this.getLocationId().then(()=>{this.getVehicleData(this.vehicleId)})},i=>{this.toastr.error(i.error.details.map(e=>e.description).join("<br>")),this.loadSpinner=!1})}getLocationId(){return new Promise((t,i)=>{let e=this.vehiclesList.filter(c=>c.id==this.vehicleId);e.length>0?(this.vehicleLocationId=e[0].locations.id,t()):i("No matching vehicle found")})}onLocationSelect(t){this.filteredTransporter=this.transportersList.filter(i=>i.transporterMappings.some(e=>e.locationId===t)),this.vehicleId==0&&this.vehicleForm.patchValue({transporterName:null})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(et),D(Uo),D(Z),D(Ve),D(ye),D(jn),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-vehicle"]],decls:74,vars:14,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["formControlName","locationId","placeholder","Select location",3,"change","searchable","readonly"],[3,"value",4,"ngFor","ngForOf"],["class","text-danger",4,"ngIf"],[1,"input-with-icon"],["type","text","formControlName","vehicleNumber",1,"input-field",3,"readonly"],[1,"col-lg-4","col-md-4"],["placeholder","Select Transporter Name","formControlName","transporterName",1,"input-field",3,"change","readonly"],["placeholder","Select Vehicle Size","formControlName","vehicleSize",1,"input-field",3,"readonly"],["type","text","formControlName","address","readonly","",1,"input-field"],["type","text","formControlName","ownerName",1,"input-field"],["type","text","formControlName","mobileNumber1","readonly","",1,"input-field"],["type","text","formControlName","emailId","readonly","",1,"input-field"],["type","text","formControlName","vehicleCondition","inputAlphabetValidator","",1,"input-field"],["type","text","formControlName","remarks","maxlength","150",1,"input-field"],["class","col-lg-2 col-md-2",4,"ngIf"],["class","spinner",4,"ngIf"],[3,"value"],["name","","formControlName","vehicleStatus"],["value","Active"],["value","Inactive"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onPressSave()}),s(5,"Save"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7," Cancel "),n()()(),o(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),s(14,"Location Code"),o(15,"span",10),s(16,"*"),n()(),o(17,"ng-select",11),g("change",function(p){return e.onLocationSelect(p)}),v(18,XD,2,2,"ng-option",12),n()()(),o(19,"div",7)(20,"div",8)(21,"label",9),s(22,"Vehicle Number "),v(23,eE,2,0,"span",13),n(),o(24,"div",14),E(25,"input",15),n()()(),o(26,"div",16)(27,"div",8)(28,"label",9),s(29,"Transporter Name "),o(30,"span",10),s(31,"*"),n()(),o(32,"ng-select",17),g("change",function(p){return e.onOptionSelected(p)}),v(33,tE,2,2,"ng-option",12),n()()(),o(34,"div",16)(35,"div",8)(36,"label",9),s(37,"Vehicle Size "),o(38,"span",10),s(39,"*"),n()(),o(40,"ng-select",18),v(41,iE,2,2,"ng-option",12),n()()(),o(42,"div",16)(43,"div",8)(44,"label",9),s(45,"Address"),n(),E(46,"input",19),n()(),o(47,"div",7)(48,"div",8)(49,"label",9),s(50,"Owner Name"),n(),E(51,"input",20),n()(),o(52,"div",7)(53,"div",8)(54,"label",9),s(55,"Mobile Number1"),n(),E(56,"input",21),n()(),o(57,"div",7)(58,"div",8)(59,"label",9),s(60,"Email ID"),n(),E(61,"input",22),n()(),o(62,"div",7)(63,"div",8)(64,"label",9),s(65,"Vehicle Condition"),n(),E(66,"input",23),n()(),o(67,"div",7)(68,"div",8)(69,"label",9),s(70,"Remarks"),n(),E(71,"input",24),n()(),v(72,nE,11,0,"div",25),n()()(),v(73,oE,2,0,"div",26)),i&2&&(d(2),_(e.vehicleId>0?"Edit Vehicle":"Create Vehicle"),d(2),m("disabled",!e.locationId&&!e.vehicleForm.valid),d(5),m("formGroup",e.vehicleForm),d(8),m("searchable",!0)("readonly",e.vehicleId>0),d(),m("ngForOf",e.locationsDropdownData),d(5),m("ngIf",!e.vehicleId),d(2),m("readonly",e.vehicleId),d(7),m("readonly",e.vehicleId),d(),m("ngForOf",e.filteredTransporter),d(7),m("readonly",e.vehicleId),d(),m("ngForOf",e.vehcileSizes),d(31),m("ngIf",e.vehicleId),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,Ht,nt,ot,Aa],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}"]});let a=r;return a})();var rE=["table"],aE=(a,r)=>r.id;function lE(a,r){if(a&1&&(o(0,"div",10)(1,"div",11)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",11)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",11)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",11)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function sE(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",7)(2,"span",8)(3,"u"),s(4),n()(),v(5,lE,23,10,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),n(),o(33,"td",6)(34,"img",9),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onGoToEditTransaction(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l.bankName),d(4),_(l.bankAddress1),d(2),_(l.bankAddress2),d(2),_(l.city),d(2),_(l.state),d(2),_(l.country),d(2),_(l.bankContactNo),d(2),_(l.bankEmailId),d(2),_(l.bankBranch),d(2),_(l.ifscCode),d(2),_(l.accountNumber),d(2),_(l.accountType),d(2),_(l.accountHolderName),d(2),_(l.status)}}function dE(a,r){a&1&&(o(0,"tr")(1,"td",12),s(2,"No Bank Found"),n()())}var Zm=(()=>{let r=class r{constructor(t){this.router=t,this.exportHeader=new W,this.transactionTypesList=[],this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.transactionTypesList&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}onGoToEditTransaction(t){this.router.navigate(["master/addEditBank",t.id])}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.transactionTypesList)}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-transaction-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(rE,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{transactionTypesList:"transactionTypesList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:40,vars:2,consts:[["table",""],["tipContent",""],["id","exportableTable"],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3)(2,"table",4,0)(4,"thead")(5,"tr")(6,"th",5),g("click",function(){return b(c),y(e.sortData("bankName"))}),s(7,"Bank Name"),n(),o(8,"th",5),g("click",function(){return b(c),y(e.sortData("bankAddress1"))}),s(9,"Bank Address1"),n(),o(10,"th",5),g("click",function(){return b(c),y(e.sortData("bankAddress2"))}),s(11,"Bank Address2 "),n(),o(12,"th",5),g("click",function(){return b(c),y(e.sortData("city"))}),s(13,"City"),n(),o(14,"th",5),g("click",function(){return b(c),y(e.sortData("state"))}),s(15,"State "),n(),o(16,"th",5),g("click",function(){return b(c),y(e.sortData("country"))}),s(17,"Country"),n(),o(18,"th",5),g("click",function(){return b(c),y(e.sortData("bankContactNo"))}),s(19,"Account Number"),n(),o(20,"th",5),g("click",function(){return b(c),y(e.sortData("bankEmailId"))}),s(21,"Email"),n(),o(22,"th",5),g("click",function(){return b(c),y(e.sortData("bankBranch"))}),s(23,"Branch"),n(),o(24,"th",5),g("click",function(){return b(c),y(e.sortData("ifscCode"))}),s(25,"IFSC Code"),n(),o(26,"th",5),g("click",function(){return b(c),y(e.sortData("accountNumber"))}),s(27,"Ac Number"),n(),o(28,"th",5),g("click",function(){return b(c),y(e.sortData("accountType"))}),s(29,"Type"),n(),o(30,"th",5),g("click",function(){return b(c),y(e.sortData("accountHolderName"))}),s(31,"Holder Name"),n(),o(32,"th",5),g("click",function(){return b(c),y(e.sortData("status"))}),s(33,"Status"),n(),o(34,"th",6),s(35,"Action"),n()()(),o(36,"tbody"),We(37,sE,35,15,"tr",null,aE,!1,dE,3,0,"tr"),n()()()()}i&2&&(d(2),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(35),Ue(e.transactionTypesList))},dependencies:[ae,be,Se]});let a=r;return a})();function pE(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function mE(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function uE(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function hE(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Km=(()=>{let r=class r{constructor(){this.filters=[],this.getData=new W,this.transactionTypeCode=void 0,this.transactionTypeName=void 0,this.glCategory=void 0,this.status=void 0}ngOnInit(){}onTransactionTypeSearch(){let t={transactionTypeCode:this.transactionTypeCode,transactionTypeName:this.transactionTypeName,glSubCategory:this.glCategory,status:this.status};this.getData.emit(t)}onClearFilter(){this.transactionTypeCode=void 0,this.transactionTypeName=void 0,this.glCategory=void 0,this.status=void 0;let t={transactionTypeName:void 0,transactionTypeCode:void 0,glSubCategory:void 0,status:void 0};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-transactionType-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData"},decls:34,vars:10,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Code",1,"input-field",3,"ngModelChange","ngModel","readonly"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["placeholder","Select Bank Name",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Type",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],["for","",1,"d-block"],[1,"custom-button-filters","me-2",3,"click","disabled"],[1,"custom-button-filters",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Account Number"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.transactionTypeCode,p)||(e.transactionTypeCode=p),p}),v(7,pE,2,2,"ng-option",6),n()()(),o(8,"div",7)(9,"div",3)(10,"label",4),s(11,"Bank Name"),n(),o(12,"ng-select",8),P("ngModelChange",function(p){return M(e.transactionTypeName,p)||(e.transactionTypeName=p),p}),v(13,mE,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label"),s(17,"Bank Type"),n(),o(18,"ng-select",9),P("ngModelChange",function(p){return M(e.glCategory,p)||(e.glCategory=p),p}),v(19,uE,2,2,"ng-option",6),n()()(),o(20,"div",2)(21,"div",3)(22,"label"),s(23,"Status"),n(),o(24,"ng-select",10),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(25,hE,2,2,"ng-option",6),n()()(),o(26,"div",7)(27,"div",3)(28,"label",11),s(29,"\xA0"),n(),o(30,"button",12),g("click",function(){return e.onTransactionTypeSearch()}),s(31,"Search"),n(),o(32,"button",13),g("click",function(){return e.onClearFilter()}),s(33,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.transactionTypeCode),m("readonly",e.transactionTypeName),d(),m("ngForOf",e.filters==null?null:e.filters.AccountNumber),d(5),F("ngModel",e.transactionTypeName),d(),m("ngForOf",e.filters==null?null:e.filters.BankName),d(5),F("ngModel",e.glCategory),d(),m("ngForOf",e.filters==null?null:e.filters.BankType),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",!e.transactionTypeName&&!e.transactionTypeCode&&!e.glCategory&&!e.status))},dependencies:[$,le,se,U,Y]});let a=r;return a})();var fE=(a,r)=>({isFilters:a,fullScreen:r});function _E(a,r){a&1&&s(0," Full Screen ")}function vE(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function bE(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var Jm=(()=>{let r=class r{constructor(t,i,e){this.transactionTypesService=t,this.xlsxService=i,this.router=e,this.isFilters=!0,this.filterKeyword="",this.fullScreen=!1,this.transactionTypesList=[],this.loadSpinner=!0,this.headers=[],this.currentPage=1,this.count=10,this.totalTransactions=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getAllTransactionTypes()}onCreateBank(){this.router.navigate(["master/addEditBank","0"])}getAllTransactionTypes(t=0,i=this.count,e=this.appliedFilters){let c={bankCode:e?.transactionTypeCode||"",bankName:e?.transactionTypeName||"",status:e?.status||""};this.transactionTypesService.getTransactionTypes(c,t,i).subscribe(p=>{console.log(p),this.transactionTypesList=p.banks,this.totalTransactions=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getAllTransactionTypes(0,this.count,this.appliedFilters)}onExportHeader(t){this.headers=t}exportData(t="Transaction Type"){let i={transactionTypeCode:this.appliedFilters?.transactionTypeCode||"",transactionTypeName:this.appliedFilters?.transactionTypeName||"",glSubCategory:this.appliedFilters?.glSubCategory||"",status:this.appliedFilters?.status||""};this.transactionTypesService.getTransactionTypes(i,0,this.totalTransactions).subscribe(e=>{let p=(e?.transactionTypes).map(h=>({code:h.code,name:h.name,glSubCategory:h.glSubCategory.value,transactionTypeInterfaceCode:h?.transactionTypeInterface?.transactionTypeCode,transactionTypeInterface:h?.transactionTypeInterface?.transactionTypeName,status:h.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllTransactionTypes(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllTransactionTypes(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(xi),D(Je),D(X))},r.\u0275cmp=k({type:r,selectors:[["app-transaction-type"]],decls:36,vars:21,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","transactionTypesList"],[1,"d-flex","justify-content-center","mt-4"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"Bank Master"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateBank())}),s(8,"Create Bank"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,_E,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-transactionType-filter",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,vE,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-transaction-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,bE,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(4),m("filters",e.filters),d(),m("ngClass",$e(18,fE,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("transactionTypesList",e.transactionTypesList),d(2),m("collectionSize",e.totalTransactions),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,Zm,Km],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 260px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var $t=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getFreightsList(t,i=0,e=this.maxCount){return this.post(zc(i,e),t)}getFreightData(t=0,i){return this.get(qc(t,i))}updateFreight(t=0,i,e){return this.put($c(t,i),e)}createFreight(t=0,i){return this.post(Yc(t),i)}getDropdownData(t,i){return this.post(Ut(i),t)}getContractById(t,i){return this.get(Up(t,i))}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function yE(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function CE(a,r){if(a&1){let l=O();o(0,"div",16)(1,"div",17)(2,"label",5),s(3,"Location Code"),n(),o(4,"ng-select",18),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,yE,2,2,"ng-option",7),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function SE(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function xE(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function DE(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function EE(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function TE(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Xm=(()=>{let r=class r{constructor(t){this.lookupService=t,this.getData=new W,this.locationsData=new W,this.filters=[],this.freightCode=void 0,this.source=void 0,this.destination=void 0,this.vehicleSize=void 0,this.status=void 0,this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList}ngOnInit(){}onFreightSearch(){let t={freightCode:this.freightCode||"",source:this.source||"",vehicleSize:this.vehicleSize||"",destination:this.destination||"",locationIds:this.locationIds||[],status:this.status||""};this.getData.emit(t)}onClearFilter(){this.freightCode=void 0,this.source=void 0,this.vehicleSize=void 0,this.destination=void 0,this.locationIds=this.locationIds,this.status=void 0;let t={freightCode:"",source:"",vehicleSize:"",destination:"",locationIds:this.locationIds,status:""};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-freight-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:42,vars:13,consts:[[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Freight",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Source",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Destination",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Vehicle Size",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[1,"col-lg-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,CE,6,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Freight Code"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.freightCode,p)||(e.freightCode=p),p}),v(8,SE,2,2,"ng-option",7),n()()(),o(9,"div",3)(10,"div",4)(11,"label",5),s(12,"Source"),n(),o(13,"ng-select",8),P("ngModelChange",function(p){return M(e.source,p)||(e.source=p),p}),v(14,xE,2,2,"ng-option",7),n()()(),o(15,"div",3)(16,"div",4)(17,"label",5),s(18,"Destination"),n(),o(19,"ng-select",9),P("ngModelChange",function(p){return M(e.destination,p)||(e.destination=p),p}),v(20,DE,2,2,"ng-option",7),n()()(),o(21,"div",3)(22,"div",4)(23,"label",5),s(24,"Vehicle Size"),n(),o(25,"ng-select",10),P("ngModelChange",function(p){return M(e.vehicleSize,p)||(e.vehicleSize=p),p}),v(26,EE,2,2,"ng-option",7),n()()(),o(27,"div",3)(28,"div",4)(29,"label"),s(30,"Status"),n(),o(31,"ng-select",11),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(32,TE,2,2,"ng-option",7),n()()(),o(33,"div",3)(34,"div",4)(35,"label",12),s(36,"\xA0"),n(),o(37,"div",13)(38,"button",14),g("click",function(){return e.onFreightSearch()}),s(39,"Search"),n(),o(40,"button",15),g("click",function(){return e.onClearFilter()}),s(41,"Clear"),n()()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.freightCode),d(),m("ngForOf",e.filters==null?null:e.filters.FreightCode),d(5),F("ngModel",e.source),d(),m("ngForOf",e.filters==null?null:e.filters.Source),d(5),F("ngModel",e.destination),d(),m("ngForOf",e.filters==null?null:e.filters.Destination),d(5),F("ngModel",e.vehicleSize),d(),m("ngForOf",e.filters==null?null:e.filters.VehicleSize),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(6),m("disabled",!e.locationIds.length&&!e.freightCode&&!e.source&&!e.destination&&!e.vehicleSize&&!e.status),d(2),m("disabled",e.locationIds.length&&!e.freightCode&&!e.source&&!e.destination&&!e.vehicleSize&&!e.status))},dependencies:[$,z,le,se,U,Y]});let a=r;return a})();var IE=["table"],NE=(a,r)=>r.id;function FE(a,r){if(a&1&&(o(0,"div",15)(1,"div",16)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",16)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",16)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",16)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()(),o(23,"div",16)(24,"span"),s(25,"Approved by Material"),n(),o(26,"span"),s(27),n()(),o(28,"div",16)(29,"span"),s(30,"Approved by Material On"),n(),o(31,"span"),s(32),K(33,"date"),n()(),o(34,"div",16)(35,"span"),s(36,"Approved by Accounts"),n(),o(37,"span"),s(38),n()(),o(39,"div",16)(40,"span"),s(41,"Approved by Accounts On"),n(),o(42,"span"),s(43),K(44,"date"),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,8,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,11,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name),d(5),_(l.approvedByMaterial||"-"),d(5),_(ee(33,14,l.approvedByMaterialOn||"-","yyyy-MM-dd")),d(6),_(l.approvedByAccounts||"-"),d(5),_(ee(44,17,l.approvedByAccountsOn||"-","yyyy-MM-dd"))}}function ME(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),K(5,"date"),n(),o(6,"td"),s(7),K(8,"date"),n()()),a&2){let l=r.$implicit;d(2),_((l==null?null:l.freightAmount)||"-"),d(2),_(ee(5,3,l==null?null:l.changeDate,"yyyy-MM-dd")),d(3),_(ee(8,6,l==null?null:l.approvedDate,"yyyy-MM-dd"))}}function PE(a,r){if(a&1&&(o(0,"table",17)(1,"tr")(2,"th"),s(3,"Freight Amount"),n(),o(4,"th",18),s(5,"Change Request Date"),n(),o(6,"th",18),s(7,"Approved Date"),n()(),v(8,ME,9,9,"tr",19),n()),a&2){let l=S().$implicit;d(8),m("ngForOf",l.historyData)}}function kE(a,r){if(a&1){let l=O();o(0,"tr")(1,"td"),s(2),n(),o(3,"td",8)(4,"span",9)(5,"u"),s(6),n()(),v(7,FE,45,20,"ng-template",null,1,te),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td",8)(16,"span",9)(17,"u"),s(18),n()(),v(19,PE,9,1,"ng-template",null,2,te),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"div",10)(30,"button",11),g("click",function(){let i=b(l).$implicit,e=S();return y(e.viewAttachment(i))}),o(31,"div",12),E(32,"img",13),n()()(),o(33,"td",6)(34,"img",14),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onGoToEditFreight(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(8),i=R(20);d(2),_((l==null||l.locations==null?null:l.locations.value)||"-"),d(2),m("ngbTooltip",t),d(2),_((l==null?null:l.freightCode)||"-"),d(4),_((l==null||l.source==null?null:l.source.value)||"-"),d(2),_((l==null||l.destination==null?null:l.destination.value)||"-"),d(2),_((l==null||l.vehicleSize==null?null:l.vehicleSize.value)||"-"),d(2),m("ngbTooltip",i),d(2),_((l==null?null:l.freightAmount)||"-"),d(4),_((l==null?null:l.remarks)||"-"),d(2),_((l==null?null:l.materialRemarks)||"-"),d(2),_((l==null?null:l.accountsRemarks)||"-"),d(2),_(l==null?null:l.status)}}function AE(a,r){a&1&&(o(0,"tr")(1,"td",20),s(2,"No Freight Code Found"),n()())}function OE(a,r){a&1&&(o(0,"div",21),s(1,` Loading...
`),n())}var eu=(()=>{let r=class r{constructor(t,i,e){this.router=t,this.toastr=i,this.freightService=e,this.exportHeader=new W,this.freightList=[],this.loadSpinner=!1,this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.freightList&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&e.innerText.trim()!=="Contract Attachment"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}onGoToEditFreight(t){this.router.navigate(["master/addEditFreight",t.id])}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.freightList)}viewAttachment(t){this.loadSpinner=!0,this.freightService.getContractById(t?.locationId,t?.id).subscribe(i=>{if(!i.fileData){this.toastr.error("No PDF is available to view","Error"),this.loadSpinner=!1;return}let e="data:application/pdf;base64,",c=i.fileData.startsWith(e)?i.fileData.substring(e.length):i.fileData,p=atob(c),h=new Array(p.length);for(let V=0;V<p.length;V++)h[V]=p.charCodeAt(V);let w=new Uint8Array(h),N=new Blob([w],{type:"application/pdf"}),L=window.URL.createObjectURL(N);window.open(L,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(L),100),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Z),D($t))},r.\u0275cmp=k({type:r,selectors:[["app-freight-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(IE,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{freightList:"freightList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:34,vars:3,consts:[["table",""],["tipContent",""],["historyData",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["class","spinner",4,"ngIf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,"d-flex","justify-content-center"],["ngbTooltip","Contract Attachment","placement","top",1,"icon-button","mt-2",3,"click"],[1,"img-container"],["src","assets/images/icons/link.svg","alt","link",1,"me-2","pointer"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],[1,"popover-table"],[2,"padding-left","15px"],[4,"ngFor","ngForOf"],["align","center","colspan","13"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",3)(1,"table",4,0)(3,"thead")(4,"tr")(5,"th",5),g("click",function(){return b(c),y(e.sortData("locations.value"))}),s(6,"Location Code"),n(),o(7,"th",5),g("click",function(){return b(c),y(e.sortData("freightCode"))}),s(8,"Freight Code"),n(),o(9,"th",5),g("click",function(){return b(c),y(e.sortData("source.value"))}),s(10,"Source"),n(),o(11,"th",5),g("click",function(){return b(c),y(e.sortData("destination.value"))}),s(12,"Destination"),n(),o(13,"th",5),g("click",function(){return b(c),y(e.sortData("vehicleSize.value"))}),s(14,"Vehicle Size"),n(),o(15,"th",5),g("click",function(){return b(c),y(e.sortData("freightAmount"))}),s(16,"Freight Amount"),n(),o(17,"th",5),g("click",function(){return b(c),y(e.sortData("remarks"))}),s(18,"Remarks"),n(),o(19,"th",5),g("click",function(){return b(c),y(e.sortData("materialRemarks"))}),s(20,"Material Remarks"),n(),o(21,"th",5),g("click",function(){return b(c),y(e.sortData("accountsRemarks"))}),s(22,"Account Remarks"),n(),o(23,"th",5),g("click",function(){return b(c),y(e.sortData("status"))}),s(24,"Status"),n(),o(25,"th",6),s(26,"Contract Attachment"),n(),o(27,"th",6),s(28,"Action"),n()()(),o(29,"tbody"),We(30,kE,35,12,"tr",null,NE,!1,AE,3,0,"tr"),n()()(),v(33,OE,2,0,"div",7)}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(29),Ue(e.freightList),d(3),m("ngIf",e.loadSpinner))},dependencies:[ae,$,z,be,Se]});let a=r;return a})();var BE=a=>({"d-none":a}),VE=(a,r)=>({isFilters:a,fullScreen:r});function RE(a,r){a&1&&s(0," Full Screen ")}function jE(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function GE(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var tu=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.xlsxService=i,this.freightService=e,this.toastr=c,this.isFilters=!0,this.fullScreen=!1,this.loadSpinner=!0,this.vehcileSizes=[],this.destinations=[],this.sources=[],this.freightList=[],this.headers=[],this.locations=[],this.currentPage=1,this.count=10,this.totalFreights=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getFreightList()}getFreightList(t=0,i=this.count,e=this.appliedFilters){this.loadSpinner=!0;let c={locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id),screenCode:101,freightCode:e?.freightCode,source:e?.source,destination:e?.destination,vehicleSize:e?.vehicleSize,status:e?.status};this.freightService.getFreightsList(c,t,i).subscribe(p=>{this.freightList=p.freights,this.totalFreights=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getFreightList(0,this.count,this.appliedFilters)}onCreateFreight(){this.router.navigate(["master/addEditFreight","0"])}onExportHeader(t){this.headers=t}exportData(t="Freight"){let i={locationIds:this.appliedFilters?.locationIds||j.commonLocationsList.map(e=>e.id),screenCode:101,freightCode:this.appliedFilters?.freightCode,source:this.appliedFilters?.source,destination:this.appliedFilters?.destination,vehicleSize:this.appliedFilters?.vehicleSize,status:this.appliedFilters?.status};this.freightService.getFreightsList(i,0,this.totalFreights).subscribe(e=>{let p=e.freights.map(h=>({locations:h?.locations?.value,freightCode:h?.freightCode,source:h?.source?.value,destination:h?.destination?.value,vehicleSize:h?.vehicleSize?.value,freightAmount:h?.freightAmount,remarks:h?.remarks,materialRemarks:h?.materialRemarks,accountsRemarks:h?.accountsRemarks,status:h?.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getFreightList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getFreightList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Je),D($t),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-freight"]],decls:36,vars:24,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section",3,"ngClass"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","freightList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"Freight Master"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateFreight())}),s(8,"Create Freight"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,RE,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-freight-filter",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,jE,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-freight-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,GE,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(3),m("ngClass",ge(19,BE,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",$e(21,VE,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("freightList",e.freightList),d(2),m("collectionSize",e.totalFreights),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,Xm,eu],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 262px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var Oa=(()=>{let r=class r{constructor(t){this.activeModal=t}onPressSubmit(){this.activeModal.close()}};r.\u0275fac=function(i){return new(i||r)(D(ut))},r.\u0275cmp=k({type:r,selectors:[["app-status-confirmation"]],decls:12,vars:0,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"float-right",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"status-text"],[1,"d-flex","justify-content-end"],[1,"custom-button-regulr","mt-4",3,"click"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," Alert "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n()()(),o(6,"div")(7,"p",4),s(8,"Status will remain Inactive until the approval is completed."),n()(),o(9,"div",5)(10,"button",6),g("click",function(){return e.onPressSubmit()}),s(11,"Ok"),n()()())},styles:[".status-text[_ngcontent-%COMP%]{font-weight:700;font-size:18px}"]});let a=r;return a})();var La=(()=>{let r=class r{constructor(t){this.el=t,this.regex=new RegExp(/^\d+(\.\d{0,2})?$/),this.specialKeys=["Backspace","Tab","End","Home","ArrowLeft","ArrowRight","Delete","."]}onKeyDown(t){let i=this.el.nativeElement.value;if(this.specialKeys.indexOf(t.key)!==-1){t.key==="."&&i.includes(".")&&t.preventDefault();return}if((t.ctrlKey||t.metaKey)&&(t.key==="a"||t.key==="c"||t.key==="v"||t.key==="x"))return;let e=i.concat(t.key);e&&!String(e).match(this.regex)&&t.preventDefault()}};r.\u0275fac=function(i){return new(i||r)(D(It))},r.\u0275dir=_t({type:r,selectors:[["","inputDecimalValidator",""]],hostBindings:function(i,e){i&1&&g("keydown",function(p){return e.onKeyDown(p)})}});let a=r;return a})();function WE(a,r){if(a&1){let l=O();o(0,"button",25),g("click",function(){b(l);let i=S();return y(i.viewUploadedPdf())}),s(1," View Uploaded PDF "),n()}}function UE(a,r){a&1&&(o(0,"div",11)(1,"div",12)(2,"label",13),s(3,"Freight Code"),n(),E(4,"input",26),n()())}function HE(a,r){if(a&1&&(o(0,"ng-option",27),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function zE(a,r){if(a&1&&(o(0,"ng-option",27),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.freightCity)}}function qE(a,r){if(a&1&&(o(0,"ng-option",27),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function YE(a,r){if(a&1&&(o(0,"ng-option",27),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function $E(a,r){a&1&&(o(0,"div",19)(1,"div",12)(2,"label",13),s(3,"New Freight Amount"),n(),E(4,"input",28),n()())}function QE(a,r){if(a&1){let l=O();o(0,"div",11)(1,"div",12)(2,"label",13),s(3,"Status "),o(4,"span",14),s(5,"*"),n()(),o(6,"select",29),g("change",function(i){b(l);let e=S();return y(e.onChangeStatus(i))}),o(7,"option",30),s(8,"Active"),n(),o(9,"option",31),s(10,"Inactive"),n()()()()}}function ZE(a,r){a&1&&(o(0,"div",32),s(1,` Loading...
`),n())}var nu=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N,L,V){this.router=t,this.toastr=i,this.formBuilder=e,this.baseService=c,this.freightService=p,this.lookUpService=h,this._Activatedroute=w,this.lookupService=N,this.plantService=L,this.modalService=V,this.loadSpinner=!0,this.freightId=0,this.sources=[],this.locationCode="",this.vehcileSizes=[],this.destinations=[],this.getData=[],this.locations=j.commonLocationsList,this.commonLocations=[],this.freightList=[],this.freightLocationId=0,this.nocFileBase64="",this.nocFileName="",this.isFileUploaded=!1,this.statusValue="",this.locationsDropdownData=[],this.plantsList=[],this.freightForm=this.formBuilder.group({freightCode:[""],locationCode:[void 0,[A.required]],source:["",[A.required]],destination:["",[A.required]],vehicleSize:["",[A.required]],freightAmount:["",[A.required]],status:[{value:"Inactive"},[A.required]],matApproval:[""],matApprovalOn:[""],accApproval:[""],accApprovalOn:[""],remarks:[""],newFreightAmount:[""]})}ngOnInit(){this.getCommonLocations(),this.getLocations(),this.freightId=Number(this._Activatedroute.snapshot.paramMap.get("freightId")),this.freightId=this.freightId==0?0:this.freightId,this.freightId!=0?(this.getEditFreightData(),this.loadSpinner=!0):this.loadSpinner=!1,this.getDestinationDropdownData(),this.getVehicleSizeDropdownData(),this.setLocation()}getCommonLocations(){this.commonLocations=j.commonLocationsList}getLocations(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"Locations").subscribe(e=>{this.locationsDropdownData=e.lookUps.filter(c=>c.status==="Active"&&this.commonLocations.some(p=>p.id===c.id))},e=>{})}getFreightData(t){this.loadSpinner=!0,this.freightService.getFreightData(this.freightLocationId,t).subscribe(i=>{this.onChangeLocation(i?.locations?.id),this.statusValue=i.status,this.loadSpinner=!1,this.locationCode=i.locations.value,this.freightForm.patchValue({freightCode:i.freightCode,locationCode:i.locations.code,source:i.sourceId,destination:i.destinationId,vehicleSize:i.vehicleSizeId,freightAmount:i.freightAmount,status:i.status,matApproval:i.approvedByMaterial,matApprovalOn:i.approvedByMaterialOn,accApproval:i.approvedByAccounts,accApprovalOn:i.approvedByAccountsOn,remarks:i.remarks}),this.checkApprovalStatus(i.approvedByMaterialAction,i.approvedByAccountsAction,i.newFreightAmount,i.newFreightAmountStatus),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}checkApprovalStatus(t,i,e,c){i==null||t==null||t.includes("Rejected")||i.includes("Rejected")?this.freightForm.get("status")?.disable():this.freightForm.get("status")?.enable()}onPressSave(){this.loadSpinner=!0;let t={freightCode:this.freightForm.controls.freightCode.value,locationCode:this.freightForm.controls.locationCode.value,sourceId:parseInt(this.freightForm.controls.source.value)||0,destinationId:parseInt(this.freightForm.controls.destination.value)||0,vehicleSizeId:parseInt(this.freightForm.controls.vehicleSize.value)||0,freightAmount:parseInt(this.freightForm.controls.freightAmount.value)||0,status:this.freightForm.controls.status.value,matApproval:null,matApprovalOn:null,accApproval:null,accApprovalOn:null,remarks:this.freightForm.controls.remarks.value,actionBy:localStorage.getItem("userId"),fileName:this.nocFileName,fileData:this.nocFileBase64,newFreightAmount:parseInt(this.freightForm.controls.newFreightAmount.value)||0};this.freightId>0?this.updateFreight(t):this.createNewFreight(t)}updateFreight(t){let i=this.freightForm.controls.locationCode?.value,c=this.locations?.find(p=>p?.code==this.locationCode)?.id;this.freightService.updateFreight(c,this.freightId,t).subscribe(p=>{this.freightData=p,this.toastr.success("Freight Updated Successfully"),this.router.navigate(["/master/freight"]),this.loadSpinner=!1},p=>{this.loadSpinner=!1})}createNewFreight(t){let i=this.freightForm.controls.locationCode?.value;this.freightService.createFreight(i,t).subscribe(e=>{this.loadSpinner=!1,this.toastr.success("Freight Created Successfully"),this.router.navigate(["/master/freight"])},e=>{this.loadSpinner=!1})}onCancelPress(){this.router.navigate(["master/freight"])}getDestinationDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.freightService.getDropdownData(t,"FreightCity").subscribe(e=>{this.destinations=e.lookUps.filter(c=>c.status==="Active")})}getVehicleSizeDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.freightService.getDropdownData(t,"VehicleSize").subscribe(e=>{this.vehcileSizes=e.lookUps.filter(c=>c.status==="Active")})}setLocation(){this.freightId||this.lookUpService.setLocationId(this.freightForm,this.commonLocations,"locationCode")}getEditFreightData(){let t={locationIds:j.commonLocationsList.map(i=>i.id),screenCode:101,freightCode:"",source:"",destination:"",vehicleSize:""};this.freightService.getFreightsList(t).subscribe(i=>{this.freightList=i.freights,this.getLocationId().then(()=>{this.getFreightData(this.freightId)})},i=>{this.toastr.error(i.error.details.map(e=>e.description).join("<br>"))})}getLocationId(){return new Promise((t,i)=>{let e=this.freightList.filter(c=>c.id==this.freightId);e.length>0?(this.freightLocationId=e[0].locations.id,t()):i("No matching freight found")})}onUploadPdf(t){let i=t.target.files[0],e=5*1024*1024;if(i.size>e){this.toastr.error("File size should be less than 5MB","Error"),this.isFileUploaded=!1;return}this.nocFileName=i.name;let c=new FileReader;c.readAsDataURL(i),c.onload=()=>{let p=c.result;this.nocFileBase64=p,this.toastr.success("PDF attached successfully","Success"),this.isFileUploaded=!0}}viewUploadedPdf(){if(this.nocFileBase64)try{let t="data:application/pdf;base64,",i=this.nocFileBase64;i.startsWith(t)&&(i=i.substring(t.length));let e=atob(i),c=[];for(let N=0;N<e.length;N+=1024){let L=e.slice(N,N+1024),V=new Array(L.length);for(let I=0;I<L.length;I++)V[I]=L.charCodeAt(I);c.push(new Uint8Array(V))}let p=new Blob(c,{type:"application/pdf"}),h=URL.createObjectURL(p),w=window.open();w&&w.document.write(`<iframe width="100%" height="100%" src="${h}" style="border:none;"></iframe>`)}catch(t){console.error("Error viewing PDF:",t)}}onChangeStatus(t){this.statusValue=t?.target?.value,this.statusValue==="Active"&&this.statusConfirmation()}statusConfirmation(){this.modalService.open(Oa,{size:"md",backdrop:"static",windowClass:"modal-width",centered:!0}).result.then(i=>{})}onChangeLocation(t){this.loadSpinner=!0;let i={locationIds:[t],plantCode:"",auCode:"",siteCode:"",status:""};this.plantService.getPlants(i).subscribe(e=>{this.plantsList=e.plants.filter((c,p,h)=>c.freightCity!==null&&p===h.findIndex(w=>w.freightCity===c.freightCity)),this.loadSpinner=!1},e=>{this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Z),D(mt),D(Ve),D($t),D(ye),D(et),D(ye),D(On),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-freight"]],decls:64,vars:15,consts:[[1,"page-title"],[1,"action-buttons"],["for","file-upload",1,"custom-file-upload","custom-button-regulr","pointer"],["type","file","id","file-upload",3,"change"],["class","custom-button-regulr",3,"click",4,"ngIf"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],["class","col-lg-2 col-md-2",4,"ngIf"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["formControlName","locationCode","placeholder","Select location",3,"change","searchable","readonly"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Source","formControlName","source",1,"input-field"],["placeholder","Select Destination","formControlName","destination",1,"input-field"],[1,"col-lg-2","col-md-4"],["placeholder","Select Vehicle Size","formControlName","vehicleSize",1,"input-field"],["type","text","formControlName","freightAmount","inputDecimalValidator","",1,"input-field",3,"readOnly"],["class","col-lg-2 col-md-4",4,"ngIf"],["type","text","formControlName","remarks","maxlength","150",1,"input-field"],["class","spinner",4,"ngIf"],[1,"custom-button-regulr",3,"click"],["type","text","formControlName","freightCode","readonly","",1,"input-field"],[3,"value"],["type","text","formControlName","newFreightAmount","inputDecimalValidator","",1,"input-field"],["formControlName","status","name","status",3,"change"],["value","Active"],["value","Inactive"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"div",1)(5,"label",2),s(6,"Upload"),n(),o(7,"input",3),g("change",function(p){return e.onUploadPdf(p)}),n()(),v(8,WE,2,0,"button",4),o(9,"button",5),g("click",function(){return e.onPressSave()}),s(10," Save "),n(),o(11,"button",6),g("click",function(){return e.onCancelPress()}),s(12,"Cancel"),n()()(),o(13,"div",7)(14,"form",8)(15,"div",9),v(16,UE,5,0,"div",10),o(17,"div",11)(18,"div",12)(19,"label",13),s(20,"Location Code"),o(21,"span",14),s(22,"*"),n()(),o(23,"ng-select",15),g("change",function(p){return e.onChangeLocation(p)}),v(24,HE,2,2,"ng-option",16),n()()(),o(25,"div",11)(26,"div",12)(27,"label",13),s(28,"Source "),o(29,"span",14),s(30,"*"),n()(),o(31,"ng-select",17),v(32,zE,2,2,"ng-option",16),n()()(),o(33,"div",11)(34,"div",12)(35,"label",13),s(36,"Destination "),o(37,"span",14),s(38,"*"),n()(),o(39,"ng-select",18),v(40,qE,2,2,"ng-option",16),n()()(),o(41,"div",19)(42,"div",12)(43,"label",13),s(44,"Vehicle Size "),o(45,"span",14),s(46,"*"),n()(),o(47,"ng-select",20),v(48,YE,2,2,"ng-option",16),n()()(),o(49,"div",19)(50,"div",12)(51,"label",13),s(52,"Freight Amount "),o(53,"span",14),s(54,"*"),n()(),E(55,"input",21),n()(),v(56,$E,5,0,"div",22)(57,QE,11,0,"div",10),o(58,"div",11)(59,"div",12)(60,"label",13),s(61,"Remarks"),n(),E(62,"input",23),n()()()()(),v(63,ZE,2,0,"div",24)),i&2&&(d(2),_(e.freightId>0?"Edit Freight":"Create Freight"),d(6),m("ngIf",e.isFileUploaded),d(),m("disabled",!(e.freightForm.valid&&(e.freightForm.controls.status.dirty||e.isFileUploaded))),d(5),m("formGroup",e.freightForm),d(2),m("ngIf",e.freightId>0),d(7),m("searchable",!0)("readonly",e.freightId>0),d(),m("ngForOf",e.locationsDropdownData),d(8),m("ngForOf",e.plantsList),d(8),m("ngForOf",e.destinations),d(8),m("ngForOf",e.vehcileSizes),d(7),m("readOnly",e.freightId),d(),m("ngIf",e.freightId),d(),m("ngIf",e.freightId>0),d(6),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,Ht,nt,ot,La],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}input[type=file][_ngcontent-%COMP%]{display:none}"]});let a=r;return a})();var KE=["table"],JE=(a,r)=>r.id;function XE(a,r){if(a&1&&(o(0,"div",9)(1,"div",10)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",10)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",10)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",10)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function eT(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",6)(2,"span",7)(3,"u"),s(4),n()(),v(5,XE,23,10,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td",5)(24,"img",8),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onGoToEditTransporter(i.id))}),n()()()}if(a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l.transporterCode),d(4),_(l.transporterName),d(2),qi(" ",l.transporterAddress1," ",l.transporterAddress2," "),d(2),_(l.transporterContactNo),d(2),_(l.transporterMailId),d(2),_(l.ownerName),d(2),_(l.contactPerson),d(2),_(l.regdDetails),d(2),_(l.status)}}function tT(a,r){a&1&&(o(0,"tr")(1,"td",11),s(2,"No Transporter Found"),n()())}var ou=(()=>{let r=class r{constructor(t){this.router=t,this.exportHeader=new W,this.transportersList=[],this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.transportersList&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Actions"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}onGoToEditTransporter(t){this.router.navigate(["master/addEditTransporter",t])}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.transportersList)}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-transporter-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(KE,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{transportersList:"transportersList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:29,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"table",3,0)(3,"thead")(4,"tr")(5,"th",4),g("click",function(){return b(c),y(e.sortData("transporterCode"))}),s(6,"Transporter Code"),n(),o(7,"th",4),g("click",function(){return b(c),y(e.sortData("transporterName"))}),s(8,"Trans. Name"),n(),o(9,"th",4),g("click",function(){return b(c),y(e.sortData("transporterAddress1"))}),s(10,"Address"),n(),o(11,"th",4),g("click",function(){return b(c),y(e.sortData("transporterContactNo"))}),s(12,"Contact"),n(),o(13,"th",4),g("click",function(){return b(c),y(e.sortData("transporterMailId"))}),s(14,"Email"),n(),o(15,"th",4),g("click",function(){return b(c),y(e.sortData("ownerName"))}),s(16,"Owner"),n(),o(17,"th",4),g("click",function(){return b(c),y(e.sortData("contactPerson"))}),s(18,"Contact Person"),n(),o(19,"th",4),g("click",function(){return b(c),y(e.sortData("regdDetails"))}),s(20,"Regd. Details"),n(),o(21,"th",4),g("click",function(){return b(c),y(e.sortData("status"))}),s(22,"Status"),n(),o(23,"th",5),s(24,"Actions"),n()()(),o(25,"tbody"),We(26,eT,25,11,"tr",null,JE,!1,tT,3,0,"tr"),n()()()}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(25),Ue(e.transportersList))},dependencies:[ae,be,Se]});let a=r;return a})();function nT(a,r){if(a&1&&(o(0,"ng-option",18),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function oT(a,r){if(a&1){let l=O();o(0,"div",15)(1,"div",16)(2,"label",5),s(3,"Location Code"),n(),o(4,"ng-select",17),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,nT,2,2,"ng-option",7),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function rT(a,r){if(a&1&&(o(0,"ng-option",18),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function aT(a,r){if(a&1&&(o(0,"ng-option",18),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function lT(a,r){if(a&1&&(o(0,"ng-option",18),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var ru=(()=>{let r=class r{constructor(t){this.lookupService=t,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.getData=new W,this.locationsData=new W,this.transCode=void 0,this.transName=void 0,this.cityCode=void 0,this.stateCode=void 0,this.taxationType=void 0,this.status=void 0}ngOnInit(){}onClearFilter(){this.transCode=void 0,this.transName=void 0,this.cityCode=void 0,this.stateCode=void 0,this.taxationType=void 0,this.status=void 0,this.locationIds=this.locationIds;let t={transCode:"",transName:"",cityCode:"",stateCode:"",taxationType:"",status:"",locations:this.locationIds};this.getData.emit(t)}onTransporterSearch(){let t={transCode:this.transCode||"",transName:this.transName||"",cityCode:this.cityCode||"",stateCode:this.stateCode||"",taxationType:this.taxationType||"",status:this.status||"",locations:this.locationIds||[]};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-transporter-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:30,vars:9,consts:[[1,"filters-box"],[1,"row"],["class","col-4",4,"ngIf"],[1,"col-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Transporter Code",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["placeholder","Select Transporter Name",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",2,"padding","4px 10px",3,"click","disabled"],[1,"custom-button-filters","ms-2",2,"padding","4px 10px",3,"click","disabled"],[1,"col-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,oT,6,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Transporter Code"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.transCode,p)||(e.transCode=p),p}),v(8,rT,2,2,"ng-option",7),n()()(),o(9,"div",8)(10,"div",4)(11,"label",5),s(12,"Transporter Name"),n(),o(13,"ng-select",9),P("ngModelChange",function(p){return M(e.transName,p)||(e.transName=p),p}),v(14,aT,2,2,"ng-option",7),n()()(),o(15,"div",3)(16,"div",4)(17,"label"),s(18,"Status"),n(),o(19,"ng-select",10),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(20,lT,2,2,"ng-option",7),n()()(),o(21,"div",8)(22,"div",4)(23,"label",11),s(24,"\xA0"),n(),o(25,"div",12)(26,"button",13),g("click",function(){return e.onTransporterSearch()}),s(27,"Search"),n(),o(28,"button",14),g("click",function(){return e.onClearFilter()}),s(29,"Clear"),n()()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.transCode),d(),m("ngForOf",e.filters==null?null:e.filters.TransporterCode),d(5),F("ngModel",e.transName),d(),m("ngForOf",e.filters==null?null:e.filters.TransporterName),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(6),m("disabled",!e.locationIds&&!e.transCode&&!e.transName&&!e.status),d(2),m("disabled",e.locationIds&&!e.transCode&&!e.transName&&!e.status))},dependencies:[$,z,le,se,U,Y]});let a=r;return a})();var dT=a=>({"d-none":a}),cT=(a,r)=>({isFilters:a,fullScreen:r});function pT(a,r){a&1&&s(0," Full Screen ")}function mT(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function uT(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var au=(()=>{let r=class r{constructor(t,i,e,c){this.transporterService=t,this.toastr=i,this.xlsxService=e,this.router=c,this.isFilters=!0,this.fullScreen=!1,this.loadSpinner=!0,this.transportersList=[],this.cities=[],this.states=[],this.headers=[],this.currentPage=1,this.count=10,this.totalTransporters=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.locations=[]}ngOnInit(){this.getTransportersList()}getTransportersList(t=0,i=this.count,e=this.appliedFilters){let c={locationIds:e?.locations||j.commonLocationsList.map(p=>p.id),transporterCode:e?.transCode||"",transporterName:e?.transName||"",status:e?.status||""};this.transporterService.getTransporters(c,t,i).subscribe(p=>{this.transportersList=p.transporters,this.totalTransporters=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1,this.toastr.error(p.error.details.map(h=>h.description).join("<br>"))})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getTransportersList(0,this.count,this.appliedFilters)}onExportHeader(t){this.headers=t}exportData(t="Transporter"){let i={locationIds:this.appliedFilters?.locations||j.commonLocationsList.map(e=>e.id),transporterCode:this.appliedFilters?.transCode||"",transporterName:this.appliedFilters?.transName||"",city:this.appliedFilters?.city||"",state:this.appliedFilters?.state||"",taxationType:this.appliedFilters?.taxationType||"",status:this.appliedFilters?.status};this.transporterService.getTransporters(i,0,this.totalTransporters).subscribe(e=>{let p=e.transporters.map(h=>({transporterCode:h.transporterCode,transporterName:h.transporterName,transporterAddress1:h.transporterAddress1+", "+h.transporterAddress2,transporterContactNo:h.transporterContactNo,transporterMailId:h.transporterMailId,ownerName:h?.ownerName,contactPerson:h?.contactPerson,regdDetails:h.regdDetails,status:h.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.loadSpinner=!1,this.toastr.error(e.error.details.map(c=>c.description).join("<br>"))})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getTransportersList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getTransportersList(0,this.count,this.appliedFilters)}onCreateTransporter(){this.router.navigate(["master/addEditTransporter/0"])}};r.\u0275fac=function(i){return new(i||r)(D(jn),D(Z),D(Je),D(X))},r.\u0275cmp=k({type:r,selectors:[["app-transporter"]],decls:36,vars:24,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section",3,"ngClass"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","transportersList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"Transporter Master"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateTransporter())}),s(8,"Create Transporter"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,pT,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-transporter-filter",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,mT,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-transporter-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,uT,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(3),m("ngClass",ge(19,dT,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",$e(21,cT,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("transportersList",e.transportersList),d(2),m("collectionSize",e.totalTransporters),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,ou,ru],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 256px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var hT=(a,r)=>r.transportationMode;function gT(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),qi("",l.vendorCode," (",l.vendorName,")")}}function fT(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l.code),d(),_(l.code)}}function _T(a,r){a&1&&(o(0,"span",21),s(1,"*"),n())}function vT(a,r){a&1&&(o(0,"small",21),s(1," Contact number must be at least 10 digits. "),n())}function bT(a,r){if(a&1&&(o(0,"div"),v(1,vT,2,0,"small",23),n()),a&2){let l,t=S();d(),m("ngIf",(l=t.transporterForm.get("contactNumber"))==null||l.errors==null?null:l.errors.minlength)}}function yT(a,r){a&1&&(o(0,"span",21),s(1,"*"),n())}function CT(a,r){a&1&&(o(0,"div",17)(1,"div",8)(2,"label",9),s(3,"Status "),o(4,"span",21),s(5,"*"),n()(),o(6,"select",46)(7,"option",47),s(8,"Active"),n(),o(9,"option",48),s(10,"Inactive"),n()()()())}function ST(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function xT(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),qi(" ",l.value," (",l.code,") ")}}function DT(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),Ce(" ",l.code," ")}}function ET(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),qi(" ",l.code," (",l==null?null:l.description,") ")}}function TT(a,r){if(a&1&&(Mt(0),v(1,ET,2,3,"ng-option",11),Pt()),a&2){let l=S(3);d(),m("ngForOf",l.taxCodesRcm)}}function wT(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),qi(" ",l.code," (",l==null?null:l.description,") ")}}function IT(a,r){if(a&1&&(Mt(0),v(1,wT,2,3,"ng-option",11),Pt()),a&2){let l=S(3);d(),m("ngForOf",l.taxCodesNonRcm)}}function NT(a,r){if(a&1&&(o(0,"ng-option",45),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),qi(" ",l.code," (",l==null?null:l.description,") ")}}function FT(a,r){if(a&1){let l=O();o(0,"td",43)(1,"img",60),g("click",function(){b(l);let i=S(),e=i.$implicit,c=i.$index,p=S(2);return y(p.onDeleteTransaction(e,c))}),n()()}}function MT(a,r){if(a&1){let l=O();o(0,"tr")(1,"td")(2,"div",49)(3,"div",50)(4,"ng-select",51),g("change",function(i){let e=b(l).$index,c=S(2);return y(c.getLocationData(i,e))}),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.locationCode,i)||(e.locationCode=i),y(i)}),v(5,ST,2,2,"ng-option",11),n()()()(),o(6,"td")(7,"div",49)(8,"div",50)(9,"select",52),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.autoBiltiReq,i)||(e.autoBiltiReq=i),y(i)}),g("change",function(i){let e=b(l).$index,c=S(2);return y(c.onAutoBiltiChange(i,e))}),o(10,"option",53),s(11,"Yes"),n(),o(12,"option",54),s(13,"No"),n()()()()(),o(14,"td")(15,"div",49)(16,"div",50)(17,"input",55),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.autoBilti,i)||(e.autoBilti=i),y(i)}),n()()()(),o(18,"td")(19,"div",49)(20,"div",50)(21,"input",55),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.consignerName,i)||(e.consignerName=i),y(i)}),n()()()(),o(22,"td")(23,"div",49)(24,"div",50)(25,"input",55),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.consignerContact,i)||(e.consignerContact=i),y(i)}),n()()()(),o(26,"td")(27,"div",49)(28,"div",50)(29,"ng-select",56),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.transportationMode,i)||(e.transportationMode=i),y(i)}),g("change",function(i){let e=b(l).$index,c=S(2);return y(c.onTransporterModeSelect(i,e))})("clear",function(){let i=b(l).$index,e=S(2);return y(e.onTransporterModeClear(i))}),v(30,xT,2,3,"ng-option",11),n()()()(),o(31,"td")(32,"div",49)(33,"div",50)(34,"ng-select",56),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.taxationType,i)||(e.taxationType=i),y(i)}),g("change",function(i){let e=b(l).$index,c=S(2);return y(c.onRcmNonRcmSelect(i,e))})("clear",function(){let i=b(l).$index,e=S(2);return y(e.onRcmNonRcmClear(i))}),v(35,DT,2,2,"ng-option",11),n()()()(),o(36,"td")(37,"div")(38,"div",50)(39,"ng-select",56),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.taxaCode,i)||(e.taxaCode=i),y(i)}),g("change",function(i){let e=b(l).$index,c=S(2);return y(c.onTaxCodeSelect(i,e))})("clear",function(){let i=b(l).$index,e=S(2);return y(e.onTaxCodeClear(i))}),v(40,TT,2,1,"ng-container",25)(41,IT,2,1,"ng-container",25),n()()()(),o(42,"td")(43,"div",57)(44,"div",50)(45,"ng-select",56),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.tdsCode,i)||(e.tdsCode=i),y(i)}),g("change",function(i){let e=b(l).$index,c=S(2);return y(c.onTdsCodeSelect(i,e))})("clear",function(){let i=b(l).$index,e=S(2);return y(e.onTdsCodeClear(i))}),v(46,NT,2,3,"ng-option",11),n()()()(),o(47,"td",43)(48,"div",50)(49,"select",58),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.status,i)||(e.status=i),y(i)}),o(50,"option",47),s(51,"Active"),n(),o(52,"option",48),s(53,"Inactive"),n()()()(),v(54,FT,2,0,"td",59),n()}if(a&2){let l=r.$implicit,t=r.$index,i=S(2);d(4),m("searchable",!0),F("ngModel",l.locationCode),m("readonly",l==null?null:l.isLocationDisabled),d(),m("ngForOf",i.locationsDropdownData),d(4),F("ngModel",l.autoBiltiReq),d(8),F("ngModel",l.autoBilti),d(4),F("ngModel",l.consignerName),d(4),F("ngModel",l.consignerContact),d(4),F("ngModel",l.transportationMode),d(),m("ngForOf",i.getAvailableModes(t)),d(4),F("ngModel",l.taxationType),d(),m("ngForOf",i.rcmNonRcmType),d(4),F("ngModel",l.taxaCode),d(),m("ngIf",(l==null||l.taxationType==null?null:l.taxationType.code)==="RCM"),d(),m("ngIf",(l==null||l.taxationType==null?null:l.taxationType.code)==="Non-RCM"),d(4),F("ngModel",l.tdsCode),d(),m("ngForOf",i.tdsCodes),d(3),F("ngModel",l.status),d(5),m("ngIf",l.isShow)}}function PT(a,r){a&1&&(o(0,"tr")(1,"td",61),s(2,"No Transaction Code Found"),n()())}function kT(a,r){if(a&1&&(o(0,"tbody"),We(1,MT,55,19,"tr",null,hT,!1,PT,3,0,"tr"),n()),a&2){let l=S();d(),Ue(l.transporterMappings)}}function AT(a,r){a&1&&(o(0,"div",62),s(1,` Loading...
`),n())}var lu=(()=>{let r=class r{constructor(t,i,e,c,p,h,w){this.router=t,this.toastr=i,this.formBuilder=e,this._Activatedroute=c,this.transporterService=p,this.vendorService=h,this.lookupService=w,this.loadSpinner=!0,this.transportMode=[],this.transporterMode=[],this.rcmNonRcmType=[],this.tdsCodes=[],this.disableSubmit=!1,this.locations=j.commonLocationsList,this.commonLocations=[],this.transporterMappings=[],this.transporters=[],this.vendorsList=[],this.count=Number.MAX_VALUE,this.selectedVendor=[],this.isShow=!1,this.isLocationDisabled=!1,this.taxCodesRcm=[],this.taxCodesNonRcm=[],this.selectedModes=new Set,this.transporterLocationId=0,this.transporterList=[],this.alltransporterMode=[],this.autoBiltiRequiredFlag="",this.locationsDropdownData=[],this.selectedLocations=[],this.freightCity=[],this.transporterForm=this.formBuilder.group({transporterCode:[""],transporterName:[""],locationCode:["",[A.required]],status:["Active",[A.required]],ownerName:[""],contactPerson:[""],address1:[""],address2:[""],contactNumber:["",[A.required,A.minLength(10),A.maxLength(12)]],pan:[""],gst:[""],autoBiltiReq:[""],consignorContactInfo:[""],autoBiltiCharactor:["",A.required],consignorName:[""],regdDetails:[""],modeOfTransport:["",A.required],biltiHeaderComment:["",[A.required]],note:["",[A.required]],footer:["",[A.required]],transporterMailId:["",[A.required,A.pattern(/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/)]],postalCode:[""],taxationCode:["",A.required],rcmNonRcm:[""],sgst:[""],cgst:[""],igst:[""],transporterPaymentGroup:[""],transporterPaymentTermsName:[""],transporterPaytermDays:[""],transporterPaytermMethodCode:[""],freightCity:[""]})}ngOnInit(){this.getCommonLocations(),this.getLocations(),this.queryData=this._Activatedroute.snapshot.paramMap.get("transporterCode"),this.queryData=this.queryData==0?"":this.queryData,this.queryData!=0&&(this.getTransportersList(),this.getTransporterData()),this.getTransporterModeDropdownData(),this.getTaxationcode(),this.getVendorsList(),this.getRCMNonRCMTypeDropdownData(),this.getTdsCodesDropdownData(),this.getTaxCodesNonRcmDropdownData(),this.getTaxCodesRcmDropdownData(),this.setLocation(),this.getFreightCity()}getTransporterData(){this.transporterService.getTransporterData(this.queryData).subscribe(t=>{this.initializeSelectedTransansporterCodes(),this.loadSpinner=!1,this.transporterList=t,this.transporterMappings=t?.transporterMappings,this.selectedModes.clear(),this.transporterForm.patchValue({transporterCode:t.transporterCode,transporterName:t.transporterName,status:t.status,ownerName:t.ownerName,contactPerson:t.contactPerson,address1:t.transporterAddress1,address2:t.transporterAddress2,contactNumber:t.transporterContactNo,pan:t.panNo,gst:t.gstInNo,autoBiltiReq:t.autoBiltiRequiredFlag,consignorContactInfo:t.consignorContactInformation,rcmNonRcm:t.taxationType?.attribute8===1?"RCM":"Non RCM",autoBiltiCharactor:t.autoBiltiStartingCharacter,consignorName:t.consignorName,regdDetails:t.regdDetails,modeOfTransport:t.transporterMode?.id,biltiHeaderComment:t.biltiHeaderComments,note:t.note,footer:t.footer,transporterMailId:t.transporterMailId,postalCode:t.postalCode,cgst:t.taxationType?.attribute5,sgst:t.taxationType?.attribute6,igst:t.taxationType?.attribute7,taxationCode:t.taxationType?.id,transporterPaymentGroup:t?.transporterPaymentGroup,transporterPaymentTermsName:t?.transporterPaymentTermsName,transporterPaytermDays:t?.transporterPaytermDays,transporterPaytermMethodCode:t?.transporterPaytermMethodCode,freightCity:t?.freightCity}),this.transporterData=t,this.transporterMappings=t.transporterMappings.map(i=>{let e=i?.transportationMode?.code;this.autoBiltiRequiredFlag=i?.autoBiltiRequiredFlag;let c=this.tdsCodes?.find(N=>N?.id==i?.tdsCodes?.id),p=this.taxCodesRcm?.find(N=>N?.id==i?.taxCodes?.id),h=this.taxCodesNonRcm?.find(N=>N?.id==i?.taxCodes?.id),w=p?p.description:h?h.description:"";return{id:i?.id,transportationMode:i?.transportationMode?.value||{},taxationType:i.taxationType.code||{},taxaCode:i.taxCodes.code||{},tdsCode:i.tdsCodes.code,transportationModeId:i?.transportationMode?.id,taxationTypeId:i?.taxationType?.id,taxaCodesId:i?.taxCodes?.id,tdsCodesId:i?.tdsCodes.id,status:i?.status,disabled:!0,isShow:!1,isLocationDisabled:!0,location:i?.locationId,autoBilti:i?.autoBiltiStartingCharacter,consignerName:i?.consignorName,consignerContact:i?.consignorContactInformation,autoBiltiReq:i?.autoBiltiRequiredFlag,locationCode:i?.locations.code}})},t=>{this.loadSpinner=!1})}getCommonLocations(){this.commonLocations=j.commonLocationsList}getLocations(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"Locations").subscribe(e=>{this.locationsDropdownData=e.lookUps.filter(c=>c.status==="Active"&&this.commonLocations.some(p=>p.id===c.id))},e=>{})}onSavePress(){this.loadSpinner=!0;let t={status:this.transporterForm.controls.status.value,actionBy:localStorage.getItem("userId"),ownerName:this.transporterForm.controls.ownerName.value,contactPerson:this.transporterForm.controls.contactPerson.value,transporterContactNo:this.transporterForm.controls.contactNumber.value,transporterMailId:this.transporterForm.controls.transporterMailId.value,regdDetails:this.transporterForm.controls.regdDetails.value,biltiHeaderComments:this.transporterForm.controls.biltiHeaderComment.value,note:this.transporterForm.controls.note.value,footer:this.transporterForm.controls.footer.value,freightCity:this.transporterForm.controls.freightCity.value,transporterMappings:this.transporterMappings.map(i=>(console.log(i),{id:i?.id||0,transportationModeId:i?.transportationMode?.id||i?.transportationModeId,taxationTypeId:i?.taxationType?.id||i?.taxationTypeId,taxaCodesId:i?.taxaCode?.id||i?.taxaCodesId,tdsCodesId:i?.tdsCode?.id||i?.tdsCodesId,status:i?.status,locationId:i?.location,autoBiltiRequiredFlag:i?.autoBiltiReq,autoBiltiStartingCharacter:i?.autoBilti,consignorName:i?.consignerName,consignorContactInformation:i?.consignerContact}))};this.queryData?this.updateTransporter(t):this.createNewTransporter()}updateTransporter(t){let i=this.transporterForm.controls.locationCode?.value,c=this.locations?.find(p=>p?.code==i)?.id;this.transporterService.updateTransporter(this.queryData,t).subscribe(p=>{this.loadSpinner=!1,this.toastr.success("Transporter Updated Successfully"),this.router.navigate(["/master/transporter"])},p=>{this.loadSpinner=!1})}createNewTransporter(){let t=this.transporterForm.controls.locationCode?.value,i={status:this.transporterForm.controls.status.value,actionBy:localStorage.getItem("userId"),ownerName:this.transporterForm.controls.ownerName.value,contactPerson:this.transporterForm.controls.contactPerson.value,transporterAddress1:this.transporterForm.controls.address1.value,transporterAddress2:this.transporterForm.controls.address2.value,transporterContactNo:this.transporterForm.controls.contactNumber.value,transporterMailId:this.transporterForm.controls.transporterMailId.value,regdDetails:this.transporterForm.controls.regdDetails.value,biltiHeaderComments:this.transporterForm.controls.biltiHeaderComment.value,note:this.transporterForm.controls.note.value,footer:this.transporterForm.controls.footer.value,transporterName:this.transporterForm.controls.transporterName.value,transporterPaymentGroup:this.selectedVendor?.vendorPaymentGroup||"",transporterPaymentTermsName:this.selectedVendor?.vendorPaymentTermsName||"",transporterPaytermDays:this.selectedVendor?.vendorPaytermDays||0,transporterPaytermMethodCode:this.selectedVendor?.vendorPaytermMethodCode||"",transporterPaytermStatus:this.selectedVendor?.vendorPaytermStatus||"",country:this.selectedVendor?.country||"",city:this.selectedVendor?.city||"",state:this.selectedVendor?.state||"",gstInNo:this.transporterForm.controls.gst.value,panNo:this.transporterForm.controls.pan.value,postalCode:this.transporterForm.controls.postalCode.value,transporterCode:this.selectedVendor?.vendorCode||"",freightCity:this.transporterForm.controls.freightCity.value,transporterMappings:this.transporterMappings.map(e=>({id:0,transportationModeId:e?.transportationModeId,taxationTypeId:e?.taxationType?.id,taxaCodesId:e?.taxaCode?.id,tdsCodesId:e?.tdsCode?.id,status:"Active",locationId:e?.location,autoBiltiRequiredFlag:e?.autoBiltiReq,autoBiltiStartingCharacter:e?.autoBilti,consignorName:e?.consignerName,consignorContactInformation:e?.consignerContact}))};this.transporterService.createTransporter(i).subscribe(e=>{this.loadSpinner=!1,this.toastr.success("Transporter Created Successfully"),this.router.navigate(["/master/transporter"])},e=>{this.loadSpinner=!1})}onCancelPress(){this.router.navigate(["/master/transporter"])}getTransporterModeDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transporterService.getDropdownData(t,"TransporterMode").subscribe(e=>{this.alltransporterMode=e.lookUps,this.transporterMode=e.lookUps.filter(c=>c?.status==="Active")})}getRCMNonRCMTypeDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transporterService.getDropdownData(t,"RCM_Non_RCM_Type").subscribe(e=>{this.rcmNonRcmType=e.lookUps.filter(c=>c.status==="Active")})}getTaxCodesRcmDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transporterService.getDropdownData(t,"TaxCodesRCM").subscribe(e=>{this.taxCodesRcm=e.lookUps.filter(c=>c.status==="Active")})}getTaxCodesNonRcmDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transporterService.getDropdownData(t,"TaxCodesNonRCM").subscribe(e=>{this.taxCodesNonRcm=e.lookUps.filter(c=>c.status==="Active")})}getTdsCodesDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transporterService.getDropdownData(t,"TdsCodes").subscribe(e=>{this.tdsCodes=e.lookUps.filter(c=>c.status==="Active")})}getTaxationcode(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transporterService.getDropdownData(t,"taxationCode").subscribe(e=>{this.taxationCode=e.lookUps.filter(c=>c.status==="Active")})}getTransporterMode(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transporterService.getDropdownData(t,"TransporterMode").subscribe(e=>{this.transporterMode=e.lookUps.filter(c=>c.status==="Active")})}onOptionSelected(t){let i=this.taxationCode.find(e=>e.id===t);this.transporterForm.patchValue({cgst:i.attribute5,sgst:i.attribute6,igst:i.attribute7,rcmNonRcm:i.attribute8===1?"RCM":"Non RCM"})}validateNo(t){let i=t.which?t.which:t.keyCode;return!(i>31&&(i<48||i>57))}phoneNumberLength(t){this.disableSubmit=this.transporterForm.get("contactNumber")?.value.length<10}onTransporterChange(t){this.selectedVendor=this.vendorsList.find(i=>i.id==t),this.transporterForm.patchValue({transporterName:this.selectedVendor?.vendorName,address1:this.selectedVendor?.vendorAddress1,address2:this.selectedVendor?.vendorAddress2,postalCode:this.selectedVendor?.postalCode,pan:this.selectedVendor?.panNo,gst:this.selectedVendor?.gstInNo,contactNumber:this.selectedVendor?.contactNumber,transporterMailId:this.selectedVendor?.email,transporterPaymentGroup:this.selectedVendor?.vendorPaymentGroup,transporterPaymentTermsName:this.selectedVendor?.vendorPaymentTermsName,transporterPaytermDays:this.selectedVendor?.vendorPaytermDays,transporterPaytermMethodCode:this.selectedVendor?.vendorPaytermMethodCode})}onAddTransactionRow(){let t={transportationMode:void 0,transportationModeId:void 0,taxationType:void 0,taxaCode:void 0,tdsCode:void 0,status:"Active",disabled:!1,location:void 0,autoBilti:void 0,consignerName:void 0,consignerContact:void 0,autoBiltiReq:"Y",isShow:!0,isLocationDisabled:!1,id:0};this.transporterMappings.push(t)}onTransporterModeSelect(t,i){console.log(t);let e=t?.value;e&&(this.transporterMappings[i].transportationMode=e,this.transporterMappings[i].transportationModeId=t?.id),this.updateSelectedTransporterCodes()}getAvailableModes(t){return this.transporterMode.filter(i=>!this.transporterMappings.some((c,p)=>p!==t&&c.location===this.transporterMappings[t].location&&c.transportationMode===i.value)||this.transporterMappings[t].transportationMode===i.value)}initializeSelectedTransansporterCodes(){this.selectedTransportationMode=this.transporterMappings.filter(t=>t.transportationMode).map(t=>t.transportationMode)}updateSelectedTransporterCodes(){this.selectedTransportationMode=this.transporterMappings.filter(t=>t.transportationMode).map(t=>t.transportationMode)}onTransporterModeClear(t){let i=this.transporterMappings[t].transportationModeId;i&&(this.selectedModes.delete(i),this.transporterMappings[t].transportationModeId=void 0)}getLocationData(t,i){let e=this.commonLocations.find(c=>c.id==t);this.transporterMappings[i].autoBilti=e.attribute11,this.transporterMappings[i].location=e.id,this.transporterMappings[i].storedAutoBilti=e.attribute11,this.transporterMappings[i].consignerName=e.attribute1,this.transporterMappings[i].consignerContact=e.attribute2}updateSelectedLocations(){this.selectedLocations=this.transporterMappings.filter(t=>t.location).map(t=>t.location)}getFilteredLocations(t){return this.locationsDropdownData.filter(i=>!this.selectedLocations.includes(i.id)||this.transporterMappings[t].location===i.id)}onRcmNonRcmSelect(t,i){this.transporterMappings[i].taxationTypeId=t?.typeId}onRcmNonRcmClear(t){this.transporterMappings[t].taxationTypeId=0}onTaxCodeSelect(t,i){this.transporterMappings[i].taxaCodesId=t?.typeId}onTaxCodeClear(t){this.transporterMappings[t].taxaCodesId=void 0}onTdsCodeSelect(t,i){this.transporterMappings[i].tdsCodesId=t?.typeId}onTdsCodeClear(t){this.transporterMappings[t].tdsCodesId=void 0}onDeleteTransaction(t,i){let e={id:t.id,transactionTypeId:t.transactionTypeId,status:"Inactive"};this.transporterMappings.splice(i,1)}getVendorsList(t=0,i=this.count){let e={vendorCode:"",vendorName:"",city:"",state:"",taxationType:"",paidByDetail:"",status:""};this.vendorService.getVendors(e,t,i).subscribe(c=>{this.vendorsList=c.vendors,this.loadSpinner=!1},c=>{this.loadSpinner=!1,this.toastr.error(c.error.details.map(p=>p.description).join("<br>"))})}setLocation(){this.queryData||this.lookupService.setLocationId(this.transporterForm,this.commonLocations,"locationCode")}getTransportersList(){let t={locationIds:j.commonLocationsList.map(i=>i.id),transporterCode:"",transporterName:"",city:"",state:"",taxationType:"",status:""};this.transporterService.getTransporters(t).subscribe(i=>{this.transporterList=i.transporters,this.loadSpinner=!1},i=>{this.loadSpinner=!1,this.toastr.error(i.error.details.map(e=>e.description).join("<br>"))})}onAutoBiltiChange(t,i){let e=this.locationsDropdownData.find(c=>c.id==this.transporterMappings[i].location);this.autoBiltiRequiredFlag=t?.target?.value,this.transporterMappings[i].autoBiltiReq=="N"?this.transporterMappings[i].autoBilti="":t.target.value==="Y"&&this.queryData==0?this.transporterMappings[i].autoBilti=this.transporterMappings[i].storedAutoBilti:t.target.value==="Y"&&this.queryData>0&&(this.transporterMappings[i].autoBilti=e.attribute11)}getFreightCity(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"FreightCity").subscribe(e=>{this.freightCity=e.lookUps.filter(c=>c.status==="Active")},e=>{})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Z),D(mt),D(et),D(jn),D(Ai),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-transporter"]],decls:179,vars:16,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-form-input"],["for",""],["formControlName","transporterCode","placeholder","Select transporter",3,"change","searchable","readonly"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","transporterName","readonly","",1,"input-field"],[1,"col-lg-6","col-md-6"],["type","text","formControlName","address1","readonly","",1,"input-field"],[1,"col-lg-4","col-md-4"],["type","text","formControlName","address2","readonly","",1,"input-field"],[1,"col-lg-2","col-md-2"],["type","text","formControlName","postalCode","readonly","",1,"input-field"],["type","text","formControlName","pan","readonly","",1,"input-field"],["type","text","formControlName","gst","readonly","",1,"input-field"],[1,"text-danger"],["formControlName","freightCity","placeholder","Select Freight City",3,"searchable"],["class","text-danger",4,"ngIf"],["type","text","formControlName","contactNumber","minlength","10","maxlength","12",1,"input-field",3,"keypress","input","readonly"],[4,"ngIf"],["type","text","formControlName","transporterMailId",1,"input-field",3,"readonly"],["type","text","formControlName","ownerName","inputAlphabetValidator","",1,"input-field"],["type","text","formControlName","contactPerson","inputAlphabetValidator","",1,"input-field"],["type","text","formControlName","regdDetails",1,"input-field"],["type","text","formControlName","transporterPaymentGroup","readonly","",1,"input-field"],["type","text","formControlName","transporterPaytermDays","readonly","",1,"input-field"],[1,"col-lg-23","col-md-3"],["type","text","formControlName","transporterPaymentTermsName","readonly","",1,"input-field"],["type","text","formControlName","transporterPaytermMethodCode","readonly","",1,"input-field"],["class","col-lg-2 col-md-2",4,"ngIf"],["formControlName","biltiHeaderComment","rows","3","maxlength","150",1,"input-field"],["formControlName","note","rows","3","maxlength","150",1,"input-field"],["formControlName","footer","rows","3","maxlength","150",1,"input-field"],[1,"edit-screen-subTable"],[1,""],[1,"custom-button-regulr",3,"click"],[1,"custom-table"],[1,"text-center"],["class","spinner",4,"ngIf"],[3,"value"],["formControlName","status"],["value","Active"],["value","Inactive"],[1,"col-lg-9","col-md-9"],[1,"custom-form-input","biltiwidth"],["placeholder","Select location","appendTo","body",3,"change","ngModelChange","searchable","ngModel","readonly"],[3,"ngModelChange","change","ngModel"],["value","Y"],["value","N"],["type","text","readonly","",1,"input-field",3,"ngModelChange","ngModel"],["appendTo","body",1,"input-field",3,"ngModelChange","change","clear","ngModel"],[1,"col-lg-12","col-md-12"],["name","",3,"ngModelChange","ngModel"],["class","text-center",4,"ngIf"],["src","assets/images/icons/trash.svg","alt","link",1,"me-2","pointer",3,"click"],["align","center","colspan","13"],[1,"spinner"]],template:function(i,e){if(i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onSavePress()}),s(5,"Save"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7," Cancel "),n()()(),o(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),s(14,"Transporter Code"),n(),o(15,"ng-select",10),g("change",function(p){return e.onTransporterChange(p)}),v(16,gT,2,3,"ng-option",11),n()()(),o(17,"div",7)(18,"div",8)(19,"label",9),s(20,"Transporter Name"),n(),E(21,"input",12),n()(),o(22,"div",13)(23,"div",8)(24,"label",9),s(25,"Address 1"),n(),E(26,"input",14),n()(),o(27,"div",15)(28,"div",8)(29,"label",9),s(30,"Address 2"),n(),E(31,"input",16),n()(),o(32,"div",17)(33,"div",8)(34,"label",9),s(35,"Postal Code"),n(),E(36,"input",18),n()(),o(37,"div",17)(38,"div",8)(39,"label",9),s(40,"PAN Number"),n(),E(41,"input",19),n()(),o(42,"div",17)(43,"div",8)(44,"label",9),s(45,"GSTIN"),n(),E(46,"input",20),n()(),o(47,"div",17)(48,"div",8)(49,"label",9),s(50,"Freight City"),o(51,"span",21),s(52,"*"),n()(),o(53,"ng-select",22),v(54,fT,2,2,"ng-option",11),n()()(),o(55,"div",17)(56,"div",8)(57,"label",9),s(58,"Contact Number "),v(59,_T,2,0,"span",23),n(),o(60,"input",24),g("keypress",function(p){return e.validateNo(p)})("input",function(p){return e.phoneNumberLength(p)}),n(),v(61,bT,2,1,"div",25),n()(),o(62,"div",17)(63,"div",8)(64,"label",9),s(65,"Transporter Email "),v(66,yT,2,0,"span",23),n(),E(67,"input",26),n()(),o(68,"div",17)(69,"div",8)(70,"label",9),s(71,"Owner Name "),o(72,"span",21),s(73,"*"),n()(),E(74,"input",27),n()(),o(75,"div",17)(76,"div",8)(77,"label",9),s(78,"Contact Person "),o(79,"span",21),s(80,"*"),n()(),E(81,"input",28),n()(),o(82,"div",17)(83,"div",8)(84,"label",9),s(85,"Regd. Details "),o(86,"span",21),s(87,"*"),n()(),E(88,"input",29),n()(),o(89,"div",17)(90,"div",8)(91,"label",9),s(92,"Transporter Payment Group"),n(),E(93,"input",30),n()(),o(94,"div",17)(95,"div",8)(96,"label",9),s(97,"Transporter Payterm Days"),n(),E(98,"input",31),n()(),o(99,"div",32)(100,"div",8)(101,"label",9),s(102,"Transporter Payment Terms Name"),n(),E(103,"input",33),n()(),o(104,"div",7)(105,"div",8)(106,"label",9),s(107,"Transporter Payterm Method Code"),n(),E(108,"input",34),n()(),v(109,CT,11,0,"div",35),n(),o(110,"div",6)(111,"div",15)(112,"div",8)(113,"label",9),s(114,"Bilti Header Comments "),n(),E(115,"textarea",36),n()(),o(116,"div",15)(117,"div",8)(118,"label",9),s(119,"Notes"),n(),E(120,"textarea",37),n()(),o(121,"div",15)(122,"div",8)(123,"label",9),s(124,"Footer"),n(),E(125,"textarea",38),n()()()(),o(126,"div",39)(127,"h4",40),s(128," Transaction Details "),o(129,"button",41),g("click",function(){return e.onAddTransactionRow()}),s(130,"Add"),n()()(),o(131,"div",42)(132,"table")(133,"thead")(134,"tr")(135,"th"),s(136,"Location Code"),o(137,"span",21),s(138,"*"),n()(),o(139,"th"),s(140,"Auto Bilti Required"),o(141,"span",21),s(142,"*"),n()(),o(143,"th"),s(144,"Auto Bilti Starting Char"),o(145,"span",21),s(146,"*"),n()(),o(147,"th"),s(148,"Consigner Name"),o(149,"span",21),s(150,"*"),n()(),o(151,"th"),s(152,"Consigner Contact"),o(153,"span",21),s(154,"*"),n()(),o(155,"th"),s(156,"Mode of Transport"),o(157,"span",21),s(158,"*"),n()(),o(159,"th"),s(160,"RCM/Non-RCM Type"),o(161,"span",21),s(162,"*"),n()(),o(163,"th"),s(164,"Tax Code"),o(165,"span",21),s(166,"*"),n()(),o(167,"th"),s(168,"TDS Code"),o(169,"span",21),s(170,"*"),n()(),o(171,"th"),s(172,"Status"),o(173,"span",21),s(174,"*"),n()(),o(175,"th",43),s(176,"Action"),n()()(),v(177,kT,4,1,"tbody",25),n()()(),v(178,AT,2,0,"div",44)),i&2){let c,p;d(2),_(e.queryData>0?"Edit Transporter":"Create Transporter"),d(2),m("disabled",((c=e.transporterForm.get("transporterMailId"))==null?null:c.hasError("pattern"))||e.disableSubmit),d(5),m("formGroup",e.transporterForm),d(6),m("searchable",!0)("readonly",e.queryData!=0),d(),m("ngForOf",e.vendorsList),d(37),m("searchable",!0),d(),m("ngForOf",e.freightCity),d(5),m("ngIf",e.queryData),d(),m("readonly",e.queryData==0),d(),m("ngIf",(p=e.transporterForm.get("contactNumber"))==null?null:p.invalid),d(5),m("ngIf",e.queryData),d(),m("readonly",e.queryData==0),d(42),m("ngIf",e.queryData),d(68),m("ngIf",e.transporterMappings),d(),m("ngIf",e.loadSpinner)}},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,om,Ht,Y,nt,ot,Aa],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow-y:auto;overflow-x:hidden}.biltiwidth[_ngcontent-%COMP%]{min-width:200px}.custom-table[_ngcontent-%COMP%]{overflow:auto}.text-danger[_ngcontent-%COMP%]{color:red;font-size:12px}"]});let a=r;return a})();var Gn=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getAdviceTypes(t,i=0,e=this.maxCount){return this.post(sp(i,e),t)}getAdviceTypeData(t=0,i){return this.get(lp(t,i))}updateAdviceType(t=0,i,e){return this.put(dp(t,i),e)}createAdviceType(t=0,i){return this.post(cp(t),i)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var OT=["table"],LT=(a,r)=>r.id;function BT(a,r){if(a&1&&(o(0,"div",9)(1,"div",10)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",10)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",10)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",10)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function VT(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",6)(2,"span",7)(3,"u"),s(4),n()(),v(5,BT,23,10,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td",5)(20,"img",8),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onGoToEditAdvice(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(6),i=S();d(2),m("ngbTooltip",t),d(2),_(l.location.value),d(4),_(l.adviceType),d(2),_(l.batchName),d(2),_(l.maxBiltiNumber),d(2),_(l.manualAllocationRequired),d(2),_(i.getBatchNumber(l.batchName)||"-"),d(2),_(l.status)}}function RT(a,r){a&1&&(o(0,"tr")(1,"td",11),s(2,"No Advice Type Found"),n()())}var su=(()=>{let r=class r{constructor(t){this.router=t,this.advicesList=[],this.batchDetails=[],this.exportHeader=new W,this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.advicesList&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&e.innerText.trim()!=="Batch Number"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}onGoToEditAdvice(t){this.router.navigate(["master/addEditAdvice",t.id])}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.advicesList)}getBatchNumber(t){let i=this.batchDetails.find(e=>e.batchName===t);return i?i.batchNumber:""}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-advice-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(OT,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{advicesList:"advicesList",filterKeyword:"filterKeyword",batchDetails:"batchDetails"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:25,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"table",3,0)(3,"thead")(4,"tr")(5,"th",4),g("click",function(){return b(c),y(e.sortData("location.value"))}),s(6,"Location Code"),n(),o(7,"th",4),g("click",function(){return b(c),y(e.sortData("adviceType"))}),s(8,"Advice Type"),n(),o(9,"th",4),g("click",function(){return b(c),y(e.sortData("batchName"))}),s(10,"Batch Name"),n(),o(11,"th",4),g("click",function(){return b(c),y(e.sortData("maxBiltiNumber"))}),s(12,"Max Bilti No Limit"),n(),o(13,"th",4),g("click",function(){return b(c),y(e.sortData("manualAllocationRequired"))}),s(14," Manual Allocation Required "),n(),o(15,"th"),s(16,"Batch Number"),n(),o(17,"th",4),g("click",function(){return b(c),y(e.sortData("status"))}),s(18,"Status"),n(),o(19,"th",5),s(20,"Action"),n()()(),o(21,"tbody"),We(22,VT,21,8,"tr",null,LT,!1,RT,3,0,"tr"),n()()()}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(21),Ue(e.advicesList))},dependencies:[ae,be,Se]});let a=r;return a})();function GT(a,r){if(a&1&&(o(0,"ng-option",16),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function WT(a,r){if(a&1){let l=O();o(0,"div",14)(1,"label",5),s(2,"Locations"),n(),o(3,"ng-select",15),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(4,GT,2,2,"ng-option",7),n()()}if(a&2){let l=S();d(3),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function UT(a,r){if(a&1&&(o(0,"ng-option",16),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function HT(a,r){if(a&1&&(o(0,"ng-option",16),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function zT(a,r){if(a&1&&(o(0,"ng-option",16),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var du=(()=>{let r=class r{constructor(t){this.lookupService=t,this.filters=[],this.getData=new W,this.adviceType=void 0,this.batchName=void 0,this.status=void 0,this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.locationsData=new W}ngOnInit(){}onAdviceSearch(){let t={locationIds:this.locationIds||[],adviceType:this.adviceType||"",status:this.status||"",batchName:this.batchName||""};this.getData.emit(t)}onClearFilter(){this.adviceType=void 0,this.locationIds=this.locationIds,this.status=void 0,this.batchName=void 0;let t={adviceType:"",locationIds:this.locationIds,status:"",batchName:""};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-advice-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:29,vars:9,consts:[[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col"],[1,"custom-form-input"],["for",""],["placeholder","Select advice",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Batch Name",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-lg-2"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[1,"col-lg-4"],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,WT,5,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Advice Name"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.adviceType,p)||(e.adviceType=p),p}),v(8,UT,2,2,"ng-option",7),n()()(),o(9,"div",3)(10,"div",4)(11,"label",5),s(12,"Batch Name"),n(),o(13,"ng-select",8),P("ngModelChange",function(p){return M(e.batchName,p)||(e.batchName=p),p}),v(14,HT,2,2,"ng-option",7),n()()(),o(15,"div",9)(16,"div",4)(17,"label"),s(18,"Status"),n(),o(19,"ng-select",10),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(20,zT,2,2,"ng-option",7),n()()(),o(21,"div",3)(22,"div",4)(23,"label",11),s(24,"\xA0"),n(),o(25,"button",12),g("click",function(){return e.onAdviceSearch()}),s(26,"Search"),n(),o(27,"button",13),g("click",function(){return e.onClearFilter()}),s(28,"Clear"),n()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.adviceType),d(),m("ngForOf",e.filters==null?null:e.filters.AdviceType),d(5),F("ngModel",e.batchName),d(),m("ngForOf",e.filters==null?null:e.filters.BatchName),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",!e.adviceType&&!e.locationIds.length&&!e.status&&!e.batchName),d(2),m("disabled",!e.adviceType&&e.locationIds.length&&!e.status&&!e.batchName))},dependencies:[$,z,le,se,U,Y]});let a=r;return a})();var YT=(a,r)=>({isFilters:a,fullScreen:r});function $T(a,r){a&1&&s(0," Full Screen ")}function QT(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function ZT(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var cu=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.adviceService=i,this.toastr=e,this.xlsxService=c,this.advicesList=[],this.isFilters=!0,this.fullScreen=!1,this.loadSpinner=!0,this.headers=[],this.locations=[],this.currentPage=1,this.count=10,this.totalAdvices=0,this.filters=[],this.appliedFilters={},this.maxCount=Number.MAX_VALUE,this.batchDetails=[]}ngOnInit(){this.getAdviceTypesList()}getAdviceTypesList(t=0,i=this.count,e=this.appliedFilters){let c={locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id),adviceType:e?.adviceType||"",status:e?.status||"",batchName:e?.batchName||""};this.adviceService.getAdviceTypes(c,t,i).subscribe(p=>{this.advicesList=p.advices,this.totalAdvices=p.paging.total,this.filters=p.filters,this.batchDetails=p?.batchDetails,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getAdviceTypesList(0,this.count,this.appliedFilters)}onCreateAdvice(){this.router.navigate(["master/addEditAdvice","0"])}onExportHeader(t){this.headers=t}exportData(t="Advice"){let i={locationIds:this.appliedFilters?.locationIds||j.commonLocationsList.map(e=>e.id),adviceType:this.appliedFilters?.adviceType||"",status:this.appliedFilters?.status||""};this.adviceService.getAdviceTypes(i,0,this.totalAdvices).subscribe(e=>{let p=e.advices.map(h=>({location:h.location.value,adviceType:h.adviceType,batchName:h.batchName,maxBiltiNumber:h.maxBiltiNumber,manualAllocationRequired:h.manualAllocationRequired,status:h.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAdviceTypesList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAdviceTypesList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Gn),D(Z),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-advice"]],decls:36,vars:22,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","advicesList","batchDetails"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"Advice Master"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateAdvice())}),s(8,"Create Advice"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,$T,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-advice-filter",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,QT,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-advice-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,ZT,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(4),m("filters",e.filters),d(),m("ngClass",$e(19,YT,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("advicesList",e.advicesList)("batchDetails",e.batchDetails),d(2),m("collectionSize",e.totalAdvices),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,su,du],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var Va=(()=>{let r=class r{onKeyDown(t){let i=t.which?t.which:t.keyCode;[8,9,27,13,46].indexOf(i)!==-1||i===65&&(t.ctrlKey||t.metaKey)||i===67&&(t.ctrlKey||t.metaKey)||i===86&&(t.ctrlKey||t.metaKey)||i===88&&(t.ctrlKey||t.metaKey)||i>=35&&i<=39||(i<48||i>57)&&(i<96||i>105)&&t.preventDefault()}};r.\u0275fac=function(i){return new(i||r)},r.\u0275dir=_t({type:r,selectors:[["","inputIntegerValidator",""]],hostBindings:function(i,e){i&1&&g("keydown",function(p){return e.onKeyDown(p)})}});let a=r;return a})();var mu=(()=>{let r=class r{constructor(t,i,e,c){this.activeModal=t,this.adviceService=i,this.toastr=e,this.router=c,this.adviceType="",this.batchName="",this.manualAllocReq="",this.status="",this.transactionCode="",this.transactionId=null,this.loadSpinner=!0}ngOnInit(){}onPressSubmit(){let t={adviceType:this.adviceType,transactionTypeId:this.transactionId,maxBiltiNumber:parseInt(this.maxBiltiLimit),manualAllocationRequired:this.manualAllocReq,status:this.status,actionBy:localStorage.getItem("userId"),temporaryMaxBiltiNumber:parseInt(this.temporaryMaxBiltiNumber),batchName:this.batchName,transactionTypeCode:this.transactionCode};this.adviceService.updateAdviceType(this.locationCode,this.adviceId,t).subscribe(i=>{this.loadSpinner=!1,this.toastr.success("Advice Type Updated Successfully"),this.activeModal.close(),this.router.navigate(["master/advice"])},i=>{this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(ut),D(Gn),D(Z),D(X))},r.\u0275cmp=k({type:r,selectors:[["app-temporary-max-bilti-no"]],inputs:{adviceType:"adviceType",batchName:"batchName",maxBiltiLimit:"maxBiltiLimit",manualAllocReq:"manualAllocReq",status:"status",transactionCode:"transactionCode",transactionId:"transactionId",locationCode:"locationCode",adviceId:"adviceId"},decls:15,vars:1,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"float-right",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"row"],[1,"col-lg-6","col-md-6"],[1,"custom-form-input"],["for",""],["type","text","inputIntegerValidator","",1,"input-field",3,"ngModelChange","ngModel"],[1,"custom-button-regulr","mt-4",3,"click"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," Temporary Max Bilti Number "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n()()(),o(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),s(10,"Temporary Max Bilti No "),n(),o(11,"input",8),P("ngModelChange",function(p){return M(e.temporaryMaxBiltiNumber,p)||(e.temporaryMaxBiltiNumber=p),p}),n()()(),o(12,"div",5)(13,"button",9),g("click",function(){return e.onPressSubmit()}),s(14,"Submit"),n()()()()),i&2&&(d(11),F("ngModel",e.temporaryMaxBiltiNumber))},dependencies:[Ae,U,Y,Va]});let a=r;return a})();var KT=["locationCodeInput"],JT=(a,r)=>({name:a,id:r});function XT(a,r){if(a&1&&E(0,"input",20,0),a&2){let l=S();m("value",l.locationCode)}}function ew(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function tw(a,r){if(a&1&&(o(0,"ng-select",21),v(1,ew,2,2,"ng-option",22),n()),a&2){let l=S();m("readonly",l.adviceId>0),d(),m("ngForOf",l.locationsDropdownData)}}function iw(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",$e(2,JT,l.name,l.id)),d(),_(l.name)}}function nw(a,r){if(a&1&&(o(0,"ng-select",24),v(1,iw,2,5,"ng-option",22),n()),a&2){let l=S();d(),m("ngForOf",l.transactionTypesList)}}function ow(a,r){a&1&&E(0,"input",25)}function rw(a,r){if(a&1){let l=O();o(0,"div",8)(1,"div",9)(2,"label",10),s(3,"Manual Allocation Req. "),o(4,"span",11),s(5,"*"),n()(),o(6,"select",26),g("change",function(i){b(l);let e=S();return y(e.onManualAllocChange(i))}),o(7,"option",27),s(8,"Yes"),n(),o(9,"option",28),s(10,"No"),n()()()()}}function aw(a,r){a&1&&(o(0,"div",8)(1,"div",9)(2,"label",10),s(3,"Status "),o(4,"span",11),s(5,"*"),n()(),o(6,"select",29)(7,"option",30),s(8,"Active"),n(),o(9,"option",31),s(10,"Inactive"),n()()()())}function lw(a,r){a&1&&(o(0,"div",32),s(1,` Loading...
`),n())}var uu=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N){this.router=t,this._Activatedroute=i,this.adviceService=e,this.transactionTypesService=c,this.toastr=p,this.lookupService=h,this.formBuilder=w,this.modalService=N,this.adviceId=0,this.loadSpinner=!0,this.locationCode="",this.transactionTypesList=[],this.locationsDropdownData=[],this.locations=j.commonLocationsList,this.commonLocations=[],this.advicesList=[],this.adviceLocationId=0,this.transactionCode="",this.transactionId=null,this.adviceForm=this.formBuilder.group({adviceType:["",[A.required]],batchName:[""],locationCode:["",[A.required]],maxBiltiLimit:["",[A.required]],manualAllocReq:["Yes",[A.required]],status:["Active",[A.required]]})}ngOnInit(){this.getCommonLocations(),this.getLocations(),this.adviceId=Number(this._Activatedroute.snapshot.paramMap.get("adviceId")),this.adviceId=this.adviceId===0?0:this.adviceId,setTimeout(()=>{this.adviceId!=0&&this.getAdviceEditData()},1e3),this.getAllTransactionTypes(),this.adviceForm.get("adviceType").valueChanges.subscribe(t=>{t&&this.updateBatchName()}),this.adviceForm.get("locationCode").valueChanges.subscribe(t=>{t&&this.updateBatchName()}),this.setLocation()}getCommonLocations(){this.commonLocations=j.commonLocationsList}getLocations(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"Locations").subscribe(e=>{this.locationsDropdownData=e.lookUps.filter(c=>c.status==="Active"&&this.commonLocations.some(p=>p.id===c.id))},e=>{})}getAllTransactionTypes(){let t={code:""};this.transactionTypesService.getTransactionTypes(t).subscribe(i=>{this.transactionTypesList=i.transactionTypes,this.loadSpinner=!1},i=>{this.loadSpinner=!1})}getAdviceTypeData(t){this.adviceService.getAdviceTypeData(this.adviceLocationId,t).subscribe(i=>{this.locationCode=i.location.value,this.matchedLocationId=i?.location?.id,this.transactionTypeId=i.transactionTypeId,this.adviceForm.patchValue({adviceType:i.adviceType,batchName:i.batchName,maxBiltiLimit:i.maxBiltiNumber,locationCode:i.location.code,manualAllocReq:i.manualAllocationRequired,status:i.status});let e=this.adviceForm.controls.adviceType.value,c=this.transactionTypesList?.find(p=>p?.name==e);this.transactionCode=c?.code,this.transactionId=c?.id,this.loadSpinner=!1},i=>{this.loadSpinner=!1})}isAdviceTypeTouched(){return this.adviceForm.get("adviceType").touched}onPressSave(){this.loadSpinner=!0;let i=this.adviceForm.controls.adviceType.value,e={adviceType:i&&i.name?i.name:"",transactionTypeId:(i&&i.id?i.id:null)||0,batchName:this.adviceForm.controls.batchName?.value||"",maxBiltiNumber:Number(this.adviceForm.controls.maxBiltiLimit?.value),manualAllocationRequired:"No",actionBy:localStorage.getItem("userId")},c={adviceType:this.isAdviceTypeTouched()&&i&&i.name?i.name:this.adviceForm.value.adviceType,transactionTypeId:this.isAdviceTypeTouched()&&i&&i.id?i.id:this.transactionTypeId,maxBiltiNumber:this.adviceForm.controls.maxBiltiLimit?.value||0,manualAllocationRequired:this.adviceForm.controls.manualAllocReq?.value,status:this.adviceForm.controls.status?.value,locationCode:this.locationCode||this.adviceForm.get("locationCode").value,actionBy:localStorage.getItem("userId")};this.adviceId>0?this.updateAdviceType(c):this.createNewAdvice(e)}updateAdviceType(t){this.adviceService.updateAdviceType(this.matchedLocationId,this.adviceId,t).subscribe(i=>{this.adviceForm.patchValue({adviceType:i.adviceType,batchName:i.batchName,maxBiltiLimit:i.maxBiltiNumber,locationCode:this.locationCode,manualAllocReq:i.manualAllocationRequired,status:i.status}),this.loadSpinner=!1,this.toastr.success("Advice Type Updated Successfully"),this.router.navigate(["master/advice"])},i=>{this.loadSpinner=!1})}createNewAdvice(t){let i=this.adviceForm.controls.locationCode?.value;this.adviceService.createAdviceType(i,t).subscribe(e=>{this.loadSpinner=!1,this.toastr.success("Advice Type Created Successfully"),this.router.navigate(["/master/advice"])},e=>{this.loadSpinner=!1})}updateBatchName(){let t=this.adviceForm.get("adviceType").value,i=this.adviceId===0?this.adviceForm.get("locationCode").value:this.locationCodeInput.nativeElement.value,e=this.commonLocations.find(c=>c?.id==i);if(t&&t.name&&i){let c=this.transactionTypesList.find(p=>p.name===t.name);c&&this.adviceForm.get("batchName").setValue(`${c.code}_${e?.code}`)}}onCancelPress(){this.router.navigate(["/master/advice"])}setLocation(){this.adviceId||this.lookupService.setLocationId(this.adviceForm,this.commonLocations,"locationCode")}getAdviceEditData(){let t={locationIds:j.commonLocationsList.map(i=>i.id),adviceType:""};this.adviceService.getAdviceTypes(t).subscribe(i=>{this.advicesList=i.advices,this.getLocationId().then(()=>{this.getAdviceTypeData(this.adviceId)})},i=>{this.toastr.error(i.error.details.map(e=>e.description).join("<br>")),this.loadSpinner=!1})}getLocationId(){return new Promise((t,i)=>{let e=this.advicesList.filter(c=>c.id==this.adviceId);e.length>0?(this.adviceLocationId=e[0].location.id,t()):i("No matching advice found")})}onManualAllocChange(t){t.target.value==="Yes"&&this.temporaryMaxBiltiNo()}temporaryMaxBiltiNo(){let t=this.modalService.open(mu,{size:"md",backdrop:"static",windowClass:"modal-width"});t.componentInstance.title="temporaryMaxBiltiNo",t.componentInstance.adviceType=this.adviceForm.get("adviceType")?.value,t.componentInstance.batchName=this.adviceForm.get("batchName")?.value,t.componentInstance.transactionCode=this.transactionCode,t.componentInstance.maxBiltiLimit=this.adviceForm.get("maxBiltiLimit")?.value,t.componentInstance.manualAllocReq=this.adviceForm.get("manualAllocReq")?.value,t.componentInstance.status=this.adviceForm.get("status")?.value,t.componentInstance.transactionId=this.transactionId,t.componentInstance.locationCode=this.matchedLocationId,t.componentInstance.adviceId=this.adviceId,t.result.then(i=>{i&&this.router.navigate(["master/advice"])})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(et),D(Gn),D(xi),D(Z),D(ye),D(mt),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-advice"]],viewQuery:function(i,e){if(i&1&&Le(KT,5),i&2){let c;we(c=Ie())&&(e.locationCodeInput=c.first)}},decls:42,vars:10,consts:[["locationCodeInput",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["type","text","class","input-field","readonly","",3,"value",4,"ngIf"],["formControlName","locationCode",3,"readonly",4,"ngIf"],["name","","id","","formControlName","adviceType",4,"ngIf"],["type","text","class","input-field","formControlName","adviceType","readonly","",4,"ngIf"],["type","text","formControlName","batchName","readOnly","",1,"input-field"],["type","text","formControlName","maxBiltiLimit","inputIntegerValidator","",1,"input-field"],["class","col-lg-2 col-md-2",4,"ngIf"],["class","spinner",4,"ngIf"],["type","text","readonly","",1,"input-field",3,"value"],["formControlName","locationCode",3,"readonly"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","","id","","formControlName","adviceType"],["type","text","formControlName","adviceType","readonly","",1,"input-field"],["name","","id","","formControlName","manualAllocReq",3,"change"],["value","Yes"],["value","No"],["name","","id","","formControlName","status"],["value","Active"],["value","Inactive"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"h1"),s(2),n(),o(3,"div",2)(4,"button",3),g("click",function(){return e.onPressSave()}),s(5,"Save"),n(),o(6,"button",4),g("click",function(){return e.onCancelPress()}),s(7,"Cancel"),n()()(),o(8,"div",5)(9,"form",6)(10,"div",7)(11,"div",8)(12,"div",9)(13,"label",10),s(14,"Location Code "),o(15,"span",11),s(16,"*"),n()(),v(17,XT,2,1,"input",12)(18,tw,2,2,"ng-select",13),n()(),o(19,"div",8)(20,"div",9)(21,"label",10),s(22,"Advice Type "),o(23,"span",11),s(24,"*"),n()(),v(25,nw,2,1,"ng-select",14)(26,ow,1,0,"input",15),n()(),o(27,"div",8)(28,"div",9)(29,"label",10),s(30,"Batch Name"),n(),E(31,"input",16),n()(),o(32,"div",8)(33,"div",9)(34,"label",10),s(35,"Max Bilti No Limit "),o(36,"span",11),s(37,"*"),n()(),E(38,"input",17),n()(),v(39,rw,11,0,"div",18)(40,aw,11,0,"div",18),n()()(),v(41,lw,2,0,"div",19)),i&2&&(d(2),Ce("",e.adviceId>0?"Edit Advice":"Create Advice"," Master"),d(2),m("disabled",!e.adviceForm.valid),d(5),m("formGroup",e.adviceForm),d(8),m("ngIf",e.adviceId>0),d(),m("ngIf",e.adviceId==0),d(7),m("ngIf",e.adviceId==0),d(),m("ngIf",e.adviceId>0),d(13),m("ngIf",e.adviceId),d(),m("ngIf",e.adviceId>0),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,nt,ot,Va],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}"]});let a=r;return a})();var ni=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getPointCharges(t,i=0,e=this.maxCount){return this.post(np(i,e),t)}getPointChargeData(t=0,i){return this.get(op(t,i))}updatePointCharge(t=0,i,e){return this.put(ap(t,i),e)}createPointCharge(t=0,i){return this.post(rp(t),i)}getLookups(t){return this.get(j.lookupData+t)}getContractById(t,i){return this.get(Hp(t,i))}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var sw=["table"],dw=(a,r)=>r.id;function cw(a,r){if(a&1&&(o(0,"div",16)(1,"div",17)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",17)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",17)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",17)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()(),o(23,"div",17)(24,"span"),s(25,"Approved by Material"),n(),o(26,"span"),s(27),n()(),o(28,"div",17)(29,"span"),s(30,"Approved by Material On"),n(),o(31,"span"),s(32),K(33,"date"),n()(),o(34,"div",17)(35,"span"),s(36,"Approved by Accounts"),n(),o(37,"span"),s(38),n()(),o(39,"div",17)(40,"span"),s(41,"Approved by Accounts On"),n(),o(42,"span"),s(43),K(44,"date"),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,8,l==null?null:l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,11,l==null?null:l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name),d(5),_(l==null?null:l.approvedByMaterial),d(5),_(ee(33,14,l==null?null:l.approvedByMaterialOn,"yyyy-MM-dd")),d(6),_(l==null?null:l.approvedByAccounts),d(5),_(ee(44,17,l==null?null:l.approvedByAccountsOn,"yyyy-MM-dd"))}}function pw(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),K(5,"date"),n(),o(6,"td"),s(7),K(8,"date"),n()()),a&2){let l=r.$implicit;d(2),_((l==null?null:l.pointCharge)||"-"),d(2),_(ee(5,3,l==null?null:l.changeDate,"yyyy-MM-dd")),d(3),_(ee(8,6,l==null?null:l.approvedDate,"yyyy-MM-dd"))}}function mw(a,r){if(a&1&&(o(0,"table",18)(1,"tr")(2,"th"),s(3,"Point Charge Amount"),n(),o(4,"th",19),s(5,"Change Request Date"),n(),o(6,"th",19),s(7,"Approved Date"),n()(),v(8,pw,9,9,"tr",20),n()),a&2){let l=S().$implicit;d(8),m("ngForOf",l.historyData)}}function uw(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),K(5,"date"),n(),o(6,"td"),s(7),K(8,"date"),n()()),a&2){let l=r.$implicit;d(2),_((l==null?null:l.sameLocationCharge)||"-"),d(2),_(ee(5,3,l==null?null:l.changeDate,"yyyy-MM-dd")),d(3),_(ee(8,6,l==null?null:l.approvedDate,"yyyy-MM-dd"))}}function hw(a,r){if(a&1&&(o(0,"table",18)(1,"tr")(2,"th"),s(3,"Same Location Charge Amount"),n(),o(4,"th",19),s(5,"Change Request Date"),n(),o(6,"th",19),s(7,"Approved Date"),n()(),v(8,uw,9,9,"tr",20),n()),a&2){let l=S().$implicit;d(8),m("ngForOf",l.historyData)}}function gw(a,r){if(a&1){let l=O();o(0,"tr")(1,"td"),s(2),n(),o(3,"td",9)(4,"span",10)(5,"u"),s(6),n()(),v(7,cw,45,20,"ng-template",null,1,te),n(),o(9,"td",9)(10,"span",10)(11,"u"),s(12),n()(),v(13,mw,9,1,"ng-template",null,2,te),n(),o(15,"td",9)(16,"span",10)(17,"u"),s(18),n()(),v(19,hw,9,1,"ng-template",null,3,te),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"div",11)(28,"button",12),g("click",function(){let i=b(l).$implicit,e=S();return y(e.openPDF(i))}),o(29,"div",13),E(30,"img",14),n()()(),o(31,"td",7)(32,"img",15),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onEditPointCharge(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(8),i=R(14),e=R(20);d(2),_(l==null||l.locations==null?null:l.locations.value),d(2),m("ngbTooltip",t),d(2),_(l==null?null:l.pointName),d(4),m("ngbTooltip",i),d(2),_(l==null?null:l.pointCharge),d(4),m("ngbTooltip",e),d(2),_(l==null?null:l.sameLocationCharge),d(4),_((l==null?null:l.materialRemarks)||"-"),d(2),_((l==null?null:l.accountsRemarks)||"-"),d(2),_(l==null?null:l.status)}}function fw(a,r){a&1&&(o(0,"tr")(1,"td",21),s(2,"No Point Charge Found"),n()())}function _w(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var hu=(()=>{let r=class r{constructor(t,i,e){this.router=t,this.pointChargeService=i,this.toastr=e,this.exportHeader=new W,this.pointChargesList=[],this.loadSpinner=!1,this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.pointChargesList&&this.emitHeaders()}onEditPointCharge(t){this.router.navigate(["master/editPointCharge",t.id])}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.pointChargesList)}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&e.innerText.trim()!=="Contract Attachment"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}openPDF(t){this.loadSpinner=!0,this.pointChargeService.getContractById(t?.locationId,t?.id).subscribe(i=>{if(!i.fileData){this.toastr.error("No PDF is available to view","Error"),this.loadSpinner=!1;return}let e="data:application/pdf;base64,",c=i.fileData.startsWith(e)?i.fileData.substring(e.length):i.fileData,p=atob(c),h=new Array(p.length);for(let V=0;V<p.length;V++)h[V]=p.charCodeAt(V);let w=new Uint8Array(h),N=new Blob([w],{type:"application/pdf"}),L=window.URL.createObjectURL(N);window.open(L,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(L),100),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(ni),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-point-charge-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(sw,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{pointChargesList:"pointChargesList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:28,vars:3,consts:[["table",""],["tipContent",""],["historyData",""],["historyDataLocationCharge",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],["class","spinner",4,"ngIf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,"d-flex","justify-content-center"],["ngbTooltip","Contract Attachment","placement","top",1,"icon-button","mt-2",3,"click"],[1,"img-container"],["src","assets/images/icons/link.svg","alt","link",1,"me-2","pointer"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],[1,"popover-table"],[2,"padding-left","15px"],[4,"ngFor","ngForOf"],["align","center","colspan","13"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",4)(1,"table",5,0)(3,"thead")(4,"tr")(5,"th",6),g("click",function(){return b(c),y(e.sortData("locations"))}),s(6,"Location Code"),n(),o(7,"th",6),g("click",function(){return b(c),y(e.sortData("pointName"))}),s(8,"Point Name"),n(),o(9,"th",6),g("click",function(){return b(c),y(e.sortData("pointCharge"))}),s(10,"Point Charge"),n(),o(11,"th",6),g("click",function(){return b(c),y(e.sortData("sameLocationCharge"))}),s(12,"Same Location Charge"),n(),o(13,"th",6),g("click",function(){return b(c),y(e.sortData("materialRemarks"))}),s(14,"Material Remarks"),n(),o(15,"th",6),g("click",function(){return b(c),y(e.sortData("accountsRemarks"))}),s(16,"Account Remarks"),n(),o(17,"th",6),g("click",function(){return b(c),y(e.sortData("status"))}),s(18,"Status"),n(),o(19,"th",7),s(20,"Contract Attachment"),n(),o(21,"th",7),s(22,"Action"),n()()(),o(23,"tbody"),We(24,gw,33,10,"tr",null,dw,!1,fw,3,0,"tr"),n()()(),v(27,_w,2,0,"div",8)}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(23),Ue(e.pointChargesList),d(3),m("ngIf",e.loadSpinner))},dependencies:[ae,$,z,be,Se]});let a=r;return a})();function bw(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function yw(a,r){if(a&1){let l=O();o(0,"div",13)(1,"label",5),s(2,"Locations"),n(),o(3,"ng-select",14),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(4,bw,2,2,"ng-option",7),n()()}if(a&2){let l=S();d(3),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function Cw(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function Sw(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var gu=(()=>{let r=class r{constructor(t){this.lookupService=t,this.filters=[],this.getData=new W,this.locationsData=new W,this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.pointName=void 0,this.status=void 0}ngOnInit(){}onFreightSearch(){let t={pointName:this.pointName||"",locationIds:this.locationIds||[],status:this.status||""};this.getData.emit(t)}onClearFilter(){this.pointName=void 0,this.locationIds=this.locationIds,this.status=void 0;let t={pointName:void 0,locationIds:this.locationIds,status:void 0};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-point-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:23,vars:7,consts:[[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select point",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[1,"col-lg-4"],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,yw,5,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Point Name"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.pointName,p)||(e.pointName=p),p}),v(8,Cw,2,2,"ng-option",7),n()()(),o(9,"div",3)(10,"div",4)(11,"label"),s(12,"Status"),n(),o(13,"ng-select",8),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(14,Sw,2,2,"ng-option",7),n()()(),o(15,"div",9)(16,"div",4)(17,"label",10),s(18,"\xA0"),n(),o(19,"button",11),g("click",function(){return e.onFreightSearch()}),s(20,"Search"),n(),o(21,"button",12),g("click",function(){return e.onClearFilter()}),s(22,"Clear"),n()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.pointName),d(),m("ngForOf",e.filters==null?null:e.filters.PointName),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",!e.pointName&&!e.locationIds.length&&!e.status),d(2),m("disabled",!e.pointName&&e.locationIds.length&&!e.status))},dependencies:[$,z,le,se,U,Y]});let a=r;return a})();var Dw=(a,r)=>({isFilters:a,fullScreen:r});function Ew(a,r){a&1&&s(0," Full Screen ")}function Tw(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function ww(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var fu=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.pointChargeService=i,this.toastr=e,this.xlsxService=c,this.locations=[],this.isFilters=!0,this.fullScreen=!1,this.loadSpinner=!0,this.pointChargesList=[],this.headers=[],this.currentPage=1,this.count=10,this.totalPointCharges=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getPointChargesList()}getPointChargesList(t=0,i=this.count,e=this.appliedFilters){let c={locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id),screenCode:101,pointName:e?.pointName||"",status:e?.status||""};this.pointChargeService.getPointCharges(c,t,i).subscribe(p=>{this.pointChargesList=p.pointCharges,this.totalPointCharges=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getPointChargesList(0,this.count,this.appliedFilters)}onCreatePointCharge(){this.router.navigate(["master/addPointCharge"])}onExportHeader(t){this.headers=t}exportData(t="Point Charge"){let i={locationIds:this.appliedFilters?.locationIds||j.commonLocationsList.map(e=>e.id),screenCode:101,pointName:this.appliedFilters?.pointName||"",status:this.appliedFilters?.status||""};this.pointChargeService.getPointCharges(i,0,this.totalPointCharges).subscribe(e=>{let p=e.pointCharges.map(h=>({locations:h?.locations.value,pointName:h?.pointName,pointCharge:h?.pointCharge,sameLocationCharge:h?.sameLocationCharge,materialRemarks:h?.materialRemarks,accountsRemarks:h?.accountsRemarks,status:h?.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getPointChargesList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getPointChargesList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(ni),D(Z),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-point-charge"]],decls:36,vars:21,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","pointChargesList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"Point Charge Master"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreatePointCharge())}),s(8,"Create Point Charge"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,Ew,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-point-filter",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,Tw,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-point-charge-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,ww,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(4),m("filters",e.filters),d(),m("ngClass",$e(18,Dw,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("pointChargesList",e.pointChargesList),d(2),m("collectionSize",e.totalPointCharges),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,hu,gu],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var Iw=(a,r)=>({name:a,id:r});function Nw(a,r){if(a&1){let l=O();o(0,"button",23),g("click",function(){b(l);let i=S();return y(i.viewUploadedPdf())}),s(1," View Uploaded PDF "),n()}}function Fw(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function Mw(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",$e(2,Iw,l.value,l.id)),d(),_(l.value)}}function Pw(a,r){a&1&&(o(0,"div",25)(1,"div",12)(2,"label",13),s(3,"New Point Charge Amount"),n(),E(4,"input",26),n()())}function kw(a,r){a&1&&(o(0,"div",25)(1,"div",12)(2,"label",13),s(3,"New Same Location Charge"),n(),E(4,"input",27),n()())}function Aw(a,r){if(a&1){let l=O();o(0,"div",11)(1,"div",12)(2,"label",13),s(3,"Status "),o(4,"span",14),s(5,"*"),n()(),o(6,"select",28),g("change",function(i){b(l);let e=S();return y(e.onChangeStatus(i))}),o(7,"option",29),s(8,"Active"),n(),o(9,"option",30),s(10,"Inactive"),n()()()()}}function Ow(a,r){a&1&&(o(0,"div",31),s(1,` Loading...
`),n())}var Ra=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N,L){this.router=t,this._route=i,this.pointChargeService=e,this.toastr=c,this.baseService=p,this.lookupService=h,this.formBuilder=w,this.freightService=N,this.modalService=L,this.pointChargesList=[],this.loadSpinner=!0,this.locationCode="",this.pointNameData=[],this.locations=j.commonLocationsList,this.commonLocations=[],this.pointChargeLocationId=0,this.nocFileBase64="",this.nocFileName="",this.destinations=[],this.isFileUploaded=!1,this.statusValue="",this.locationsDropdownData=[],this.data=[{name:"United States",code:"USA"},{name:"United States",code:"USA"},{name:"United States",code:"USA"},{name:"United States",code:"USA"}],this.results=[],this.pointChargeForm=this.formBuilder.group({locationCode:[void 0,[A.required]],pointName:["",[A.required]],pointCharge:["",[A.required]],sameLocationCharge:["",[A.required]],status:["Active",[A.required]],newPointCharge:[""],newSameLocationCharge:[""]})}ngOnInit(){this.getCommonLocations(),this.getLocations(),this.pointChargeId?this.loadSpinner=!0:this.loadSpinner=!1,this._route.paramMap.subscribe(t=>{t.has("pointChargeId")?this.pointChargeId=t.get("pointChargeId"):this.pointChargeId=null}),this.pointChargeId>0&&this.getEditPointChargeData(),this.getCityLookup(),this.setLocation(),this.getDestinationDropdownData()}getCommonLocations(){this.commonLocations=j.commonLocationsList}getLocations(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"Locations").subscribe(e=>{this.locationsDropdownData=e.lookUps.filter(c=>c.status==="Active"&&this.commonLocations.some(p=>p.id===c.id))},e=>{})}getCityLookup(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"City").subscribe(e=>{this.pointNameData=e.lookUps.filter(c=>c.status==="Active")},e=>{this.baseService.plantSpinner.next(!1),this.loadSpinner=!1})}getPointChargeData(t){this.pointChargeId&&(this.loadSpinner=!0,this.pointChargeService.getPointChargeData(this.pointChargeLocationId,t).subscribe(i=>{this.statusValue=i.status,this.pointChargeData=i,this.patchPointChargeForm(i),this.loadSpinner=!1},i=>{this.loadSpinner=!1}))}patchPointChargeForm(t){this.locationCode=t.locations.value,this.pointChargeForm.patchValue({pointName:t.pointName,pointCharge:t.pointCharge,sameLocationCharge:t.sameLocationCharge,status:t.status,locationCode:t.locations.code}),this.checkApprovalStatus(t.approvedByMaterialAction,t.approvedByAccountsAction,t.newPointCharge,t.newChargeStatus)}checkApprovalStatus(t,i,e,c){i==null||t==null||t.includes("Rejected")||i.includes("Rejected")?this.pointChargeForm.get("status")?.disable():this.pointChargeForm.get("status")?.enable()}onCancelPress(){this.router.navigate(["/master/pointCharge"])}filterCountry(t){this.results=this.data.filter(i=>i.name.toLowerCase().indexOf(t.query.toLowerCase())!==-1)}onPressSave(){this.loadSpinner=!0;let i=this.destinations.find(h=>h.value==this.pointChargeForm.value.pointName)?.id,e=this.pointChargeForm.controls.locationCode?.value,p=this.locations?.find(h=>h?.code==e)?.id;if(this.pointChargeForm.valid&&this.pointChargeId){let h={pointName:this.pointChargeForm.get("pointName")?.value,pointCharge:this.pointChargeForm.get("pointCharge")?.value,sameLocationCharge:this.pointChargeForm.get("sameLocationCharge")?.value,actionBy:localStorage.getItem("userId"),status:this.pointChargeForm.get("status")?.value,cityId:i,fileName:this.nocFileName,fileData:this.nocFileBase64,newPointCharge:parseInt(this.pointChargeForm.get("newPointCharge")?.value)||0,newSameLocationCharge:parseInt(this.pointChargeForm.get("newSameLocationCharge")?.value)||0};this.pointChargeService.updatePointCharge(p,this.pointChargeId,h).subscribe(w=>{this.pointChargeData=w,this.toastr.success("Point Charge Updated Successfully"),this.router.navigate(["/master/pointCharge"]),this.loadSpinner=!1},w=>{this.loadSpinner=!1})}if(this.pointChargeForm.valid&&!this.pointChargeId){let h={pointCharge:this.pointChargeForm.get("pointCharge")?.value,pointName:this.pointChargeForm.get("pointName")?.value.name,cityId:this.pointChargeForm.get("pointName")?.value.id,sameLocationCharge:this.pointChargeForm.get("sameLocationCharge")?.value,actionBy:localStorage.getItem("userId"),status:this.pointChargeForm.get("status")?.value,fileName:this.nocFileName,fileData:this.nocFileBase64};this.pointChargeService.createPointCharge(e,h).subscribe(w=>{this.pointChargeData=w,this.toastr.success("Point Charge Created Successfully"),this.router.navigate(["/master/pointCharge"]),this.loadSpinner=!1},w=>{this.loadSpinner=!1})}}setLocation(){this.pointChargeId||this.lookupService.setLocationId(this.pointChargeForm,this.commonLocations,"locationCode")}getEditPointChargeData(){this.loadSpinner=!0;let t={locationIds:j.commonLocationsList.map(i=>i.id),screenCode:101,pointName:""};this.pointChargeService.getPointCharges(t).subscribe(i=>{this.pointChargesList=i.pointCharges,this.getLocationId().then(()=>{this.getPointChargeData(this.pointChargeId)}),this.loadSpinner=!1},i=>{this.toastr.error(i.error.details.map(e=>e.description).join("<br>")),this.loadSpinner=!1})}getLocationId(){return new Promise((t,i)=>{let e=this.pointChargesList.filter(c=>c.id==this.pointChargeId);e.length>0?(this.pointChargeLocationId=e[0].locations.id,t()):i("No matching vehicle found")})}getDestinationDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.freightService.getDropdownData(t,"FreightCity").subscribe(e=>{this.destinations=e.lookUps.filter(c=>c.status==="Active")})}onUploadPdf(t){let i=t.target.files[0],e=5*1024*1024;if(i.size>e){this.toastr.error("File size should be less than 5MB","Error"),this.isFileUploaded=!1;return}this.nocFileName=i.name;let c=new FileReader;c.readAsDataURL(i),c.onload=()=>{let p=c.result;this.nocFileBase64=p,this.toastr.success("PDF attached successfully","Success"),this.isFileUploaded=!0}}onChangeStatus(t){this.statusValue=t?.target?.value,this.statusValue==="Active"&&this.statusConfirmation()}statusConfirmation(){this.modalService.open(Oa,{size:"md",backdrop:"static",windowClass:"modal-width",centered:!0}).result.then(i=>{})}viewUploadedPdf(){if(this.nocFileBase64)try{let t="data:application/pdf;base64,",i=this.nocFileBase64;i.startsWith(t)&&(i=i.substring(t.length));let e=atob(i),c=[];for(let N=0;N<e.length;N+=1024){let L=e.slice(N,N+1024),V=new Array(L.length);for(let I=0;I<L.length;I++)V[I]=L.charCodeAt(I);c.push(new Uint8Array(V))}let p=new Blob(c,{type:"application/pdf"}),h=URL.createObjectURL(p),w=window.open();w&&w.document.write(`<iframe width="100%" height="100%" src="${h}" style="border:none;"></iframe>`)}catch(t){console.error("Error viewing PDF:",t)}}};r.\u0275fac=function(i){return new(i||r)(D(X),D(et),D(ni),D(Z),D(Ve),D(ye),D(mt),D($t),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-point-charge"]],decls:50,vars:15,consts:[[1,"page-title"],[1,"action-buttons","d-flex","align-items-start"],[1,"action-buttons"],["for","file-upload",1,"custom-file-upload","custom-button-regulr","pointer"],["type","file","id","file-upload",3,"change"],["class","custom-button-regulr",3,"click",4,"ngIf"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["formControlName","locationCode","placeholder","Select location",3,"searchable","readonly"],[3,"value",4,"ngFor","ngForOf"],["name","","id","","formControlName","pointName",3,"readonly"],["type","text","formControlName","pointCharge","inputDecimalValidator","",1,"input-field",3,"readOnly"],["type","text","formControlName","sameLocationCharge","inputDecimalValidator","",1,"input-field",3,"readOnly"],["class","col-lg-2 col-md-4",4,"ngIf"],["class","col-lg-2 col-md-2",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"custom-button-regulr",3,"click"],[3,"value"],[1,"col-lg-2","col-md-4"],["type","text","formControlName","newPointCharge","inputDecimalValidator","",1,"input-field"],["type","text","formControlName","newSameLocationCharge","inputDecimalValidator","",1,"input-field"],["name","","id","","formControlName","status",3,"change"],["value","Active"],["value","Inactive"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"div",2)(5,"label",3),s(6,"Upload"),n(),o(7,"input",4),g("change",function(p){return e.onUploadPdf(p)}),n()(),v(8,Nw,2,0,"button",5),o(9,"button",6),g("click",function(){return e.onPressSave()}),s(10,"Save"),n(),o(11,"button",7),g("click",function(){return e.onCancelPress()}),s(12," Cancel "),n()()(),o(13,"div",8)(14,"form",9)(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),s(19,"Location Code"),o(20,"span",14),s(21,"*"),n()(),o(22,"ng-select",15),v(23,Fw,2,2,"ng-option",16),n()()(),o(24,"div",11)(25,"div",12)(26,"label",13),s(27,"Point Name "),o(28,"span",14),s(29,"*"),n()(),o(30,"ng-select",17),v(31,Mw,2,5,"ng-option",16),n()()(),o(32,"div",11)(33,"div",12)(34,"label",13),s(35,"Point Charge "),o(36,"span",14),s(37,"*"),n()(),E(38,"input",18),n()(),o(39,"div",11)(40,"div",12)(41,"label",13),s(42,"Same Location Charge "),o(43,"span",14),s(44,"*"),n()(),E(45,"input",19),n()(),v(46,Pw,5,0,"div",20)(47,kw,5,0,"div",20)(48,Aw,11,0,"div",21),n()()(),v(49,Ow,2,0,"div",22)),i&2&&(d(2),_(e.pointChargeId?"Edit Point Charge":"Create Point Charge"),d(6),m("ngIf",e.isFileUploaded),d(),m("disabled",!(e.pointChargeForm.valid&&(e.pointChargeForm.controls.status.dirty||e.isFileUploaded))),d(5),m("formGroup",e.pointChargeForm),d(8),m("searchable",!0)("readonly",e.pointChargeId>0),d(),m("ngForOf",e.locationsDropdownData),d(7),m("readonly",e.pointChargeId),d(),m("ngForOf",e.destinations),d(7),m("readOnly",e.pointChargeId),d(7),m("readOnly",e.pointChargeId),d(),m("ngIf",e.pointChargeId),d(),m("ngIf",e.pointChargeId),d(),m("ngIf",e.pointChargeId),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,nt,ot,La],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}input[type=file][_ngcontent-%COMP%]{display:none}"]});let a=r;return a})();var oi=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getDispatchNote(t,i=0,e=this.maxCount){return this.post(xp(i,e),t)}createDispatchNote(t){return this.baseService.post(j.basePath+Sp(),t)}getDispatchNoteById(t){return this.get(Dp(t))}updateDispatchNote(t,i){return this.put(Ep(t),i)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Lw=()=>({label:"YES",value:"YES"}),Bw=()=>({label:"NO",value:"NO"}),Vw=()=>({label:"NA",value:"NA"}),Rw=(a,r,l)=>[a,r,l],jw=()=>({label:"Yes",value:"YES"}),Gw=()=>({label:"No",value:"NO"}),Ww=(a,r)=>[a,r];function Uw(a,r){a&1&&(o(0,"li",15)(1,"a",105),s(2,"Status "),n()())}function Hw(a,r){if(a&1&&(o(0,"ng-option",106),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),Ce(" ",l.vendorName," ")}}function zw(a,r){if(a&1&&(o(0,"ng-option",106),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),Ce(" ",l.customerName," ")}}function qw(a,r){if(a&1){let l=O();Mt(0),o(1,"td",107)(2,"div",108)(3,"span",109),s(4),n(),E(5,"input",110),o(6,"button",111),g("click",function(){let i=b(l).index,e=S().index,c=S();return y(c.removeApplicant(e*4+i))}),E(7,"i",112),n()()(),Pt()}if(a&2){let l=r.$implicit,t=r.index,i=S().index,e=S();d(4),Ce("",i*4+t+1,"."),d(),m("formControl",e.getApplicantNameControl(l))}}function Yw(a,r){if(a&1&&(Mt(0),o(1,"tr"),v(2,qw,8,2,"ng-container",48),n(),Pt()),a&2){let l=r.$implicit,t=S();d(2),m("ngForOf",l)("ngForTrackBy",t.trackByControlIndex)}}function $w(a,r){a&1&&(o(0,"th",65),s(1,"Language"),n())}function Qw(a,r){if(a&1&&(o(0,"ng-option",106),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function Zw(a,r){if(a&1&&(o(0,"ng-option",106),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function Kw(a,r){if(a&1&&(Mt(0),o(1,"div",114)(2,"ng-select",127),v(3,Zw,2,2,"ng-option",29),n()(),Pt()),a&2){let l=S(3);d(3),m("ngForOf",l.LanguageList)}}function Jw(a,r){}function Xw(a,r){if(a&1&&(o(0,"td"),v(1,Kw,4,1,"ng-container",126)(2,Jw,0,0,"ng-template",null,6,te),n()),a&2){let l,t=R(3),i=S().$implicit;d(),m("ngIf",((l=i.get("subFeeValue"))==null?null:l.value)==="Translation Fee")("ngIfElse",t)}}function e3(a,r){if(a&1){let l=O();Mt(0),o(1,"tr",113)(2,"td"),s(3),n(),o(4,"td")(5,"div",114)(6,"select",115),g("change",function(i){let e=b(l).index,c=S();return y(c.onFeeTypeSelect(c.getSelectedValue(i),e))}),o(7,"option",116),s(8,"Select Fee Type"),n(),o(9,"option",117),s(10,"Professional Fee"),n(),o(11,"option",118),s(12,"Govt or Offical Fee"),n(),o(13,"option",119),s(14,"Other Charges"),n()()()(),o(15,"td")(16,"div",114)(17,"ng-select",120),g("change",function(){let i=b(l).index,e=S();return y(e.onFeeTypeChange(i))}),n()()(),o(18,"td")(19,"div",114)(20,"ng-select",121),v(21,Qw,2,2,"ng-option",29),n()()(),v(22,Xw,4,2,"td",101),o(23,"td")(24,"div",122)(25,"input",123),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(26,"td")(27,"div",114),E(28,"input",124),n()(),o(29,"td",67)(30,"img",125),g("click",function(){let i=b(l),e=i.$implicit,c=i.index,p=S();return y(p.onDeleteInvoiceFeeDetail(e,c))}),n()()(),Pt()}if(a&2){let l=r.index,t=S();d(),No("formGroupName",l),d(2),_(l+1),d(14),m("items",t.subFeeOptionsList[l]),d(4),m("ngForOf",t.countryList),d(),m("ngIf",t.isTranslationFeeSelected)}}function t3(a,r){if(a&1&&(o(0,"ng-option",106),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),Ce(" ",l.bankName," ")}}function i3(a,r){if(a&1&&(o(0,"ng-option",106),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function n3(a,r){if(a&1){let l=O();Mt(0),o(1,"tr",113)(2,"td"),s(3),n(),o(4,"td")(5,"div",114)(6,"div",31)(7,"input",128,7),g("dateSelect",function(i){b(l);let e=S();return y(e.onDateSelect("paymentDate",i))}),n(),o(9,"button",33),g("click",function(){b(l);let i=R(8);return y(i.toggle())}),E(10,"img",34),n()()()(),o(11,"td")(12,"div",114)(13,"ng-select",129),v(14,t3,2,2,"ng-option",29),n()()(),o(15,"td")(16,"div",114),E(17,"input",130),n()(),o(18,"td")(19,"div",114)(20,"ng-select",131),v(21,i3,2,2,"ng-option",29),n()()(),o(22,"td")(23,"div",114)(24,"input",132),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(25,"td")(26,"div",114)(27,"input",133),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(28,"td")(29,"div",122)(30,"input",134),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(31,"td")(32,"div",114)(33,"input",135),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(34,"td")(35,"div",122),E(36,"input",136),n()(),o(37,"td",67)(38,"img",125),g("click",function(){let i=b(l),e=i.$implicit,c=i.index,p=S();return y(p.onDeletePaymentFeeDetail(e,c))}),n()()(),Pt()}if(a&2){let l=r.index,t=S();d(),m("formGroupName",l),d(2),_(l+1),d(4),m("autoClose",!0)("container","body"),d(6),m("appendTo","body"),d(),m("ngForOf",t.transactionTypesList),d(6),m("appendTo","body"),d(),m("ngForOf",t.currencyList)}}function o3(a,r){if(a&1){let l=O();o(0,"tr",142)(1,"td",67),s(2),n(),o(3,"td"),E(4,"input",143),n(),o(5,"td")(6,"div",73)(7,"span",74),s(8),n(),o(9,"input",144),g("keypress",function(i){b(l);let e=S(2);return y(e.validateDecimal(i))}),n()()(),o(10,"td"),E(11,"input",145),n(),o(12,"td")(13,"div",31)(14,"input",146,7),g("dateSelect",function(i){b(l);let e=S(2);return y(e.onDateSelect("saleInvoiceDate",i))}),n(),o(16,"button",33),g("click",function(){b(l);let i=R(15);return y(i.toggle())}),E(17,"img",34),n()()(),o(18,"td"),E(19,"input",147),n(),o(20,"td")(21,"ng-select",148)(22,"ng-option",106),s(23,"Yes"),n(),o(24,"ng-option",106),s(25,"No"),n()()(),o(26,"td",67)(27,"img",149),g("click",function(){let i=b(l).$implicit,e=S(2);return y(e.removeSaleInvoice(i))}),n()()()}if(a&2){let l=r.$implicit,t=r.index,i=S(2);m("formGroup",l),d(2),_(t+1),d(6),_(i.customerSymbol),d(6),m("autoClose",!0)("container","body"),d(8),m("value","Yes"),d(2),m("value","No")}}function r3(a,r){if(a&1){let l=O();o(0,"div")(1,"div",137)(2,"h6"),s(3,"Professional Fee Details"),n(),o(4,"button",138),g("click",function(){b(l);let i=S();return y(i.addSaleInvoice("Professional"))}),s(5,"+ Add"),n()(),o(6,"table",139)(7,"thead",140)(8,"tr")(9,"th",67),s(10,"#"),n(),o(11,"th"),s(12,"Professional Inv No"),n(),o(13,"th"),s(14,"Professional Amount"),n(),o(15,"th"),s(16,"Estimate No"),n(),o(17,"th"),s(18,"Inv/Esti Date"),n(),o(19,"th"),s(20,"Remarks"),n(),o(21,"th"),s(22,"Posted In Tally"),n(),o(23,"th",67),s(24,"Action"),n()()(),o(25,"tbody",13),v(26,o3,28,7,"tr",141),n()()()}if(a&2){let l=S();d(25),m("formGroup",l.addOrEditDispatchNoteFormGroup),d(),m("ngForOf",l.filteredSalesInvoices("Professional"))}}function a3(a,r){if(a&1){let l=O();o(0,"tr",13)(1,"td"),s(2),n(),o(3,"td"),E(4,"input",143),n(),o(5,"td")(6,"div",73)(7,"span",74),s(8),n(),o(9,"input",144),g("keypress",function(i){b(l);let e=S(2);return y(e.validateDecimal(i))}),n()()(),o(10,"td"),E(11,"input",145),n(),o(12,"td")(13,"div",31)(14,"input",151,7),g("dateSelect",function(i){b(l);let e=S(2);return y(e.onDateSelect("saleInvoiceDate",i))}),n(),o(16,"button",33),g("click",function(){b(l);let i=R(15);return y(i.toggle())}),E(17,"img",34),n()()(),o(18,"td"),E(19,"input",147),n(),o(20,"td")(21,"ng-select",148)(22,"ng-option",106),s(23,"Yes"),n(),o(24,"ng-option",106),s(25,"No"),n()()(),o(26,"td")(27,"img",152),g("click",function(){let i=b(l).$implicit,e=S(2);return y(e.removeSaleInvoice(i))}),n()()()}if(a&2){let l=r.$implicit,t=r.index,i=S(2);m("formGroup",l),d(2),_(t+1),d(6),_(i.customerSymbol),d(6),m("autoClose",!0)("container","body"),d(8),m("value","Yes"),d(2),m("value","No")}}function l3(a,r){if(a&1){let l=O();o(0,"div")(1,"div",137)(2,"h6"),s(3,"Govt/Official Fee Details"),n(),o(4,"button",138),g("click",function(){b(l);let i=S();return y(i.addSaleInvoice("Govt"))}),s(5,"+ Add"),n()(),o(6,"table",139)(7,"thead",140)(8,"tr")(9,"th"),s(10,"#"),n(),o(11,"th"),s(12,"Govt/official Inv No"),n(),o(13,"th"),s(14,"Govt/Official Amount"),n(),o(15,"th"),s(16,"Estimate No"),n(),o(17,"th"),s(18,"Inv/Esti Date"),n(),o(19,"th"),s(20,"Remarks"),n(),o(21,"th"),s(22,"Posted In Tally"),n(),o(23,"th"),s(24,"Action"),n()()(),o(25,"tbody",13),v(26,a3,28,7,"tr",150),n()()()}if(a&2){let l=S();d(25),m("formGroup",l.addOrEditDispatchNoteFormGroup),d(),m("ngForOf",l.filteredSalesInvoices("Govt"))}}function s3(a,r){a&1&&(o(0,"div",25)(1,"label",26),s(2,"Status "),E(3,"span",27),n(),o(4,"select",153)(5,"option",154),s(6,"Open"),n(),o(7,"option",155),s(8,"Closed"),n()()())}function d3(a,r){a&1&&(o(0,"div",156),s(1,` Loading...
`),n())}var _u=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N,L,V){this.router=t,this.customerService=i,this.toastr=e,this.vendorService=c,this.dispatchNoteService=p,this.lookupService=h,this.activatedRoute=w,this.fb=N,this.countryService=L,this.transactionType=V,this.activeSection="professional",this.subFeeOptionsList=[],this.countryList=[],this.currencyList=[],this.transactionTypesList=[],this.selectedVendorCountry="",this.currencySymbol="",this.selectedCustomerCountry="",this.vendorsList=[],this.customersList=[],this.allcustomersNames=[],this.supplierList=[],this.customerDetailsList=[],this.lookupList=[],this.statusTab=!1,this.dispatchId=0,this.loadSpinner=!1,this.selectedcustomers=[],this.languageList=[],this.isTranslationFeeSelected=!1,this.LanguageList=[],this.dispatchNotes=[],this.dispatchLocationId=0,this.activeTransportersList=[],this.today=ne(ht).getToday(),this.filteredcustomers=[],this.invoiceFeeDetailsList=[],this.paymentFeeDetailsList=[],this.salesDetailsList=[],this.govtDetailsList=[],this.selectedParts=[],this.deletedParts=[],this.selectedSales=[],this.deletedSales=[],this.selectedPayment=[],this.deletedPayment=[],this.customerSymbol=""}ngOnInit(){this.getVendorsList(),this.initForm(),this.markTab1FieldsTouched(),this.dispatchId=Number(this.activatedRoute.snapshot.paramMap.get("dispatchId")),this.setDateLimits(),this.getLanguageList(),this.getCountryList(),this.getPaymentCurrencyList(),this.dispatchId==0&&(this.statusTab=!1),this.dispatchId>0&&(this.statusTab=!0),this.invoiceFeeDetails.valueChanges.subscribe(()=>{this.calculateTotals()}),this.dispatchId===0&&this.createInvoiceFeeDetailsGroup(),this.getAllTransactionTypes(),this.getFilteredCustomersList(),this.dispatchNoteInit(),this.tab1Controls,this.tab2Controls,this.tab3Controls,this.tab4Controls,setTimeout(()=>{this.dispatchId>0&&this.getDispatchData(this.dispatchId)},1e3)}initForm(){this.addOrEditDispatchNoteFormGroup=this.fb.group({vendorId:["",A.required],selectedVendorCountry:[""],invoiceDate:["",A.required],fy:[{value:"",disabled:!0},A.required],clientInvoiceNo:["",A.required],dueDateAsPerInvoice:["",A.required],creditDaysAsPerContract:[0],dueDateAsPerContract:[{value:null,disabled:!0}],customerId:["",A.required],applicantDetails:this.fb.array([]),description:[""],title:["",A.required],applicationNumber:["",A.required],filingDate:[""],clientRefNo:["",A.required],ourRefNo:["",A.required],officialFilingReceiptSupporting:["",A.required],workDeliveryDateOrMonth:[""],purchaseCurrency:["",A.required],postedInTally:["",A.required],patentNo:[""],invoiceFeeDetails:this.fb.array([]),professionalFeeAmt:[{value:0,disabled:!0}],govtOrOfficialFeeAmt:[{value:0,disabled:!0}],otherChargesAmt:[{value:0,disabled:!0}],discountAmt:[0],discountCreditNoteAmt:[0],totalAmount:[{value:0,disabled:!0}],creditNoteNo:[""],creditNoteDate:[""],creditNoteRefNo:[""],paymentFeeDetails:this.fb.array([]),customerPONo:[""],poDate:[""],poValueInclusiveTaxes:[""],saleCurrency:[{value:"",disabled:!0},A.required],salesInvoiceDetails:this.fb.array([]),status:[""]}),this.invoiceFeeDetails.valueChanges.subscribe(()=>{this.calculateTotals()}),this.addOrEditDispatchNoteFormGroup.get("discountAmt")?.valueChanges.subscribe(()=>{this.calculateTotals()}),this.addOrEditDispatchNoteFormGroup.get("discountCreditNoteAmt")?.valueChanges.subscribe(()=>{this.calculateTotals()})}setDateLimits(){this.minDate={year:2e3,month:1,day:1},this.maxDate={year:2099,month:12,day:31}}onVendorSelect(t){let i=this.vendorsList.find(e=>e.id===t);i?(this.selectedVendorCountry=i.billingCountry,this.currencySymbol=i.currencySymbol,this.addOrEditDispatchNoteFormGroup.patchValue({purchaseCurrency:i.currency}),this.addOrEditDispatchNoteFormGroup.patchValue({currencySymbol:i.currencySymbol})):(this.selectedVendorCountry="",this.addOrEditDispatchNoteFormGroup.patchValue({purchaseCurrency:null}),this.addOrEditDispatchNoteFormGroup.patchValue({currencySymbol:null}))}onCustomerSelect(t){let i=this.customersList.find(e=>e.id===t);i?(this.selectedCustomerCountry=i.billingCountry,this.customerSymbol=i.currencySymbol,this.addOrEditDispatchNoteFormGroup.patchValue({saleCurrency:i.currency}),this.addOrEditDispatchNoteFormGroup.patchValue({customerSymbol:i.currencySymbol})):(this.selectedCustomerCountry="",this.addOrEditDispatchNoteFormGroup.patchValue({saleCurrency:null}),this.addOrEditDispatchNoteFormGroup.patchValue({customerSymbol:null}))}get applicantDetails(){return this.addOrEditDispatchNoteFormGroup.get("applicantDetails")}getApplicantNameControl(t){return t.get("applicantName")}addApplicantField(){let t=this.fb.group({id:[0],applicantName:["",A.required]});this.applicantDetails.push(t)}removeApplicant(t){this.applicantDetails.removeAt(t)}getApplicantsRows(){let t=[],i=this.applicantDetails.controls;for(let e=0;e<i.length;e+=4)t.push(i.slice(e,e+4));return t}trackByRowIndex(t,i){return t}trackByControlIndex(t,i){return t}getFilteredCustomersList(t=0,i=0,e=""){let c={customerCode:e?.customerCode||"",customerName:e?.customerName||"",status:"Active"};this.customerService.getCustomers(c,t,i).subscribe(p=>{console.log(p),this.customersList=p.customers,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getDispatchData(t){this.loadSpinner=!0,this.dispatchNoteService.getDispatchNoteById(t).subscribe(i=>{this.patchInvoiceData(i),this.loadSpinner=!1},i=>{console.error("Error fetching dispatch data",i),this.loadSpinner=!1})}patchInvoiceData(t){this.currencySymbol=t?.vendorDetails?.currencySymbol,this.customerSymbol=t?.customerDetails?.currencySymbol,this.addOrEditDispatchNoteFormGroup.patchValue({vendorId:t?.vendorID,selectedVendorCountry:t?.vendorDetails?.billingCountry,currencySymbol:t?.vendorDetails?.currencySymbol,customerSymbol:t?.customerDetails?.currencySymbol,invoiceDate:this.convertToNgbDate(t?.invoiceDate),fy:t?.fy,clientInvoiceNo:t?.clientInvoiceNo,dueDateAsPerInvoice:this.convertToNgbDate(t?.dueDateAsPerInvoice),creditDaysAsPerContract:t?.creditDaysAsPerContract,dueDateAsPerContract:this.convertToNgbDate(t?.dueDateAsPerContract),customerId:t?.customerID,description:t?.description,title:t?.title,applicationNumber:t?.applicationNumber,filingDate:this.convertToNgbDate(t?.filingDate),clientRefNo:t?.clientRefNo,ourRefNo:t?.ourRefNo,officialFilingReceiptSupporting:t?.officialFilingReceiptSupporting,postedInTally:t?.postedInTally,patentNo:t?.patentNo,workDeliveryDateOrMonth:this.convertToNgbDate(t?.workDeliveryDateOrMonth),purchaseCurrency:t?.purchaseCurrency,paymentFeeDetails:t?.paymentDetails,discountAmt:t?.discountAmt??0,discountCreditNoteAmt:t?.discountCreditNoteAmt??0,creditNoteNo:t?.creditNoteNo,creditNoteDate:this.convertToNgbDate(t?.creditNoteDate),creditNoteRefNo:t?.creditNoteRefNo,customerPONo:t?.customerPONo,poDate:this.convertToNgbDate(t?.pODate),poValueInclusiveTaxes:t?.pOValueInclusiveTaxes,saleCurrency:t?.saleCurrency,salesInvoiceDetails:t?.saleDetails,status:t?.status}),this.applicantDetails.clear(),t.nameDetails?.forEach(i=>{this.applicantDetails.push(this.fb.group({id:i.id,applicantName:[i.applicantName,A.required]}))}),this.invoiceFeeDetails.clear(),t.feeDetails?.forEach(i=>{this.invoiceFeeDetails.push(this.fb.group({id:i.id,feeType:[i.feeType,A.required],subFeeValue:[i.subFeeValue,A.required],country:[i.country,A.required],language:[i.language],amount:[i.amount,A.required],remarks:[i.remarks]}))}),this.paymentFeeDetails.clear(),t.paymentDetails?.forEach(i=>{let e=this.fb.group({id:i.id,paymentDate:[i.paymentDate?this.convertToNgbDate(i.paymentDate):null,A.required],bankID:[i.bankID,A.required],owrmNo1:[i.oWRMNo1,A.required],rate:[i.rate,A.required],quantity:[i.quantity,A.required],paymentCurrency:[i.paymentCurrency,A.required],paymentAmount:[i.paymentAmount,A.required],bankCharges:[i.bankcharges??0,A.required],totalAmountInr:[i.totalAmountInr,A.required]});this.paymentFeeDetails.push(e),this.calculateRowValues(e),this.setupSubscriptions(e)}),this.salesInvoiceDetails.clear(),t.saleDetails?.forEach(i=>{let e=this.fb.group({id:[i.id],type:[i.type],invoiceNo:[i.invoiceNo],amount:[i.amount],estimateNo:[i.estimateNo],saleInvoiceDate:[i?.saleinvoiceDate?this.convertToNgbDate(i.saleinvoiceDate):""],remarks:[i.remarks],postedInTally:[i.postedInTally]});console.log(e.value);let c=e.get("invoiceNo"),p=e.get("estimateNo"),h=!1;c?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,p?.reset(),p?.disable(),h=!1):p?.enable())}),p?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,c?.reset(),c?.disable(),h=!1):c?.enable())}),i.invoiceNo?p?.disable({emitEvent:!1}):i.estimateNo&&c?.disable({emitEvent:!1}),this.salesInvoiceDetails.push(e)}),this.addOrEditDispatchNoteFormGroup.get("dueDateAsPerContract")?.setValue(this.convertToNgbDate(t?.dueDateAsPerContract)),this.addOrEditDispatchNoteFormGroup.patchValue({professionalFeeAmt:t?.professionalFeeAmt??0,govtOrOfficialFeeAmt:t?.govtOrOfficialFeeAmt??0,otherChargesAmt:t?.otherChargesAmt??0,totalAmount:t?.totalAmount??0})}mapQuantities(t){return this.lookupList.find(e=>t===e.id)?.id}getVendorsList(t=0,i=0,e=""){let c={vendorName:e?.vendorName||"",vendorCode:e?.vendorCode||"",vendorType:e?.vendorType||"",status:"Active"};this.vendorService.getVendors(c,t,i).subscribe(p=>{this.vendorsList=p.vendors,this.loadSpinner=!1},p=>{this.loadSpinner=!1,this.toastr.error()})}getAllTransactionTypes(t=0,i=0,e=""){let c={bankCode:e?.transactionTypeCode||"",bankName:e?.transactionTypeName||"",status:"Active"};this.transactionType.getTransactionTypes(c,t,i).subscribe(p=>{console.log(p),this.transactionTypesList=p.banks},p=>{this.loadSpinner=!1})}calculateDueDate(){let t=this.addOrEditDispatchNoteFormGroup.get("invoiceDate")?.value,i=this.addOrEditDispatchNoteFormGroup.get("creditDaysAsPerContract")?.value;if(t&&i!=null&&!isNaN(i)){let e=new Date(t.year,t.month-1,t.day);e.setDate(e.getDate()+Number(i));let c={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()};this.addOrEditDispatchNoteFormGroup.get("dueDateAsPerContract")?.setValue(c)}else this.addOrEditDispatchNoteFormGroup.get("dueDateAsPerContract")?.setValue(null)}onInvoiceDateChange(t){if(t&&t.year){let i=`${t.year}-${t.year+1}`;this.addOrEditDispatchNoteFormGroup.get("fy")?.setValue(i),this.addOrEditDispatchNoteFormGroup.get("fy")?.disable()}this.calculateDueDate()}onCreditDaysChange(){this.calculateDueDate()}onCancelPress(){this.router.navigate(["transaction/VendorInvoiceTxn"])}convertToNgbDate(t){if(!t)return null;let i=new Date(t);return{year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate()}}dispatchNoteInit(){this.dispatchNote={actionBy:localStorage.getItem("userId"),attribute1:"",attribute2:"",attribute3:"",attribute4:"",attribute5:0,attribute6:0,attribute7:0,attribute8:0,attribute9:new Date,attribute10:new Date,frlrNumber:"",supplierId:0,vehicleId:0,customerDetails:[],id:this.dispatchId,transporterId:0,frlrDate:"",transporterMode:"",invoiceFeeDetails:[],paymentFeeDetails:[],saleProfessionalInvoices:[],saleGovtInvoices:[],applicantDetails:[]}}getFilteredcustomerNumbers(t){return this.filteredcustomers.filter(i=>!this.selectedcustomers.includes(i.customerNumber))}initializeSelectedcustomers(t){this.selectedcustomers=t}formatDate(t){if(!t||!t.year||!t.month||!t.day)return null;let i=t.year,e=("0"+t.month).slice(-2),c=("0"+t.day).slice(-2);return`${i}-${e}-${c}`}get tab1Controls(){return this.addOrEditDispatchNoteFormGroup.controls}get tab2Controls(){return this.addOrEditDispatchNoteFormGroup.get("invoiceFeeDetails").controls}get tab3Controls(){return this.addOrEditDispatchNoteFormGroup.get("paymentFeeDetails").controls}get tab4Controls(){return this.addOrEditDispatchNoteFormGroup.controls}isTab1Touched(){return["vendorId","invoiceDate","fy","clientInvoiceNo","customerId","title","applicationNumber","clientRefNo","ourRefNo","officialFilingReceiptSupporting","postedInTally","purchaseCurrency"].some(i=>this.addOrEditDispatchNoteFormGroup.get(i)?.value)}isTab1Invalid(){return["vendorId","invoiceDate","fy","clientInvoiceNo","customerId","title","applicationNumber","clientRefNo","ourRefNo","officialFilingReceiptSupporting","purchaseCurrency","postedInTally","applicantDetails"].some(i=>this.addOrEditDispatchNoteFormGroup.get(i)?.invalid)}isTab2Touched(){return this.invoiceFeeDetails.length>0}isTab2Invalid(){return this.isTab2Touched()&&this.addOrEditDispatchNoteFormGroup.get("invoiceFeeDetails").controls.some(t=>t.invalid)}isTab3Touched(){return this.invoiceFeeDetails.length>0}isTab3Invalid(){return this.isTab2Touched()&&this.addOrEditDispatchNoteFormGroup.get("paymentFeeDetails").controls.some(t=>t.invalid)}isTab4Touched(){return["nk"].some(i=>this.addOrEditDispatchNoteFormGroup.get(i)?.value)}isTab4Invalid(){let t=this.addOrEditDispatchNoteFormGroup.get("salesInvoiceDetails")?.value||[];return t.length===0?!1:t.some(e=>(!e.invoiceNo||e.invoiceNo.toString().trim()==="")&&(!e.estimateNo||e.estimateNo.toString().trim()===""))}markTab1FieldsTouched(){console.log("Marking Tab 1 fields as touched"),["vendorId","invoiceDate","fy","clientInvoiceNo","customerId","title","applicationNumber","clientRefNo","ourRefNo","officialFilingReceiptSupporting","purchaseCurrency"].forEach(i=>{let e=this.addOrEditDispatchNoteFormGroup.get(i);e&&(e.markAsTouched(),e.updateValueAndValidity())})}onSavePress(){return ta(this,null,function*(){if(this.loadSpinner=!0,this.isTab1Invalid()){this.toastr.warning("Please complete all required fields in Tab 1"),this.loadSpinner=!1;return}if(this.isTab2Invalid()){this.toastr.warning("Please complete all Invoice Fee fields in Tab 2"),this.loadSpinner=!1;return}if(this.isTab3Invalid()){this.toastr.warning("Please complete all fields in Tab 3"),this.loadSpinner=!1;return}if(this.isTab4Invalid()){this.toastr.warning("Please complete all fields in Tab 4"),this.loadSpinner=!1;return}let t={vendorId:this.addOrEditDispatchNoteFormGroup.controls.vendorId.value||null,invoiceDate:this.formatDate(this.addOrEditDispatchNoteFormGroup.controls.invoiceDate.value),fy:this.addOrEditDispatchNoteFormGroup.controls.fy.value,clientInvoiceNo:this.addOrEditDispatchNoteFormGroup.controls.clientInvoiceNo.value,dueDateAsPerInvoice:this.formatDate(this.addOrEditDispatchNoteFormGroup.controls.dueDateAsPerInvoice.value),creditDaysAsPerContract:Number(this.addOrEditDispatchNoteFormGroup.controls.creditDaysAsPerContract.value),customerId:Number(this.addOrEditDispatchNoteFormGroup.controls.customerId.value||null),VendorApplicantNames:this.addOrEditDispatchNoteFormGroup.get("applicantDetails")?.value||[],description:this.addOrEditDispatchNoteFormGroup.controls.description.value,title:this.addOrEditDispatchNoteFormGroup.controls.title.value,applicationNumber:this.addOrEditDispatchNoteFormGroup.controls.applicationNumber.value,filingDate:this.formatDate(this.addOrEditDispatchNoteFormGroup.controls.filingDate.value),clientRefNo:this.addOrEditDispatchNoteFormGroup.controls.clientRefNo.value,ourRefNo:this.addOrEditDispatchNoteFormGroup.controls.ourRefNo.value,officialFilingReceiptSupporting:this.addOrEditDispatchNoteFormGroup.controls.officialFilingReceiptSupporting.value,postedInTally:this.addOrEditDispatchNoteFormGroup.controls.postedInTally.value,patentNo:this.addOrEditDispatchNoteFormGroup.controls.patentNo.value,creditNoteNo:this.addOrEditDispatchNoteFormGroup.controls.creditNoteNo.value,creditNoteDate:this.formatDate(this.addOrEditDispatchNoteFormGroup.controls.creditNoteDate.value),creditNoteRefNo:this.addOrEditDispatchNoteFormGroup.controls.creditNoteRefNo.value,workDeliveryDateOrMonth:this.formatDate(this.addOrEditDispatchNoteFormGroup.controls.workDeliveryDateOrMonth.value),purchaseCurrency:this.addOrEditDispatchNoteFormGroup.controls.purchaseCurrency.value,invoiceFeeDetails:this.addOrEditDispatchNoteFormGroup.get("invoiceFeeDetails")?.value||[],professionalFeeAmt:Number(this.addOrEditDispatchNoteFormGroup.controls.professionalFeeAmt?.value),paymentFeeDetails:this.addOrEditDispatchNoteFormGroup.value.paymentFeeDetails?.map(i=>zi(di({},i),{paymentDate:this.formatDate(i.paymentDate)}))||[],govtOrOfficialFeeAmt:Number(this.addOrEditDispatchNoteFormGroup.controls.govtOrOfficialFeeAmt?.value),otherChargesAmt:Number(this.addOrEditDispatchNoteFormGroup.controls.otherChargesAmt?.value),discountAmt:Number(this.addOrEditDispatchNoteFormGroup.controls.discountAmt?.value),discountCreditNoteAmt:Number(this.addOrEditDispatchNoteFormGroup.controls.discountCreditNoteAmt?.value),totalAmount:Number(this.addOrEditDispatchNoteFormGroup.controls.totalAmount?.value),customerPONo:this.addOrEditDispatchNoteFormGroup.controls.customerPONo.value,poDate:this.formatDate(this.addOrEditDispatchNoteFormGroup.controls.poDate.value),poValueInclusiveTaxes:Number(this.addOrEditDispatchNoteFormGroup.controls.poValueInclusiveTaxes.value),saleCurrency:this.addOrEditDispatchNoteFormGroup.controls.saleCurrency.value,salesInvoiceDetails:this.addOrEditDispatchNoteFormGroup.value.salesInvoiceDetails?.map(i=>zi(di({},i),{saleInvoiceDate:this.formatDate(i.saleInvoiceDate)}))||[],createdBy:"",status:this.addOrEditDispatchNoteFormGroup.controls.status.value};this.dispatchId>0?this.dispatchNoteService.updateDispatchNote(this.dispatchId,t).subscribe(i=>{this.toastr.success("Invoice Updated Successfully"),this.loadSpinner=!1,this.router.navigate(["transaction/VendorInvoiceTxn"])},i=>{this.loadSpinner=!1}):this.dispatchNoteService.createDispatchNote(t).subscribe(i=>{this.toastr.success("Invoice Created Successfully"),this.loadSpinner=!1,this.router.navigate(["transaction/VendorInvoiceTxn"])},i=>{this.loadSpinner=!1})})}validateNo(t){let i=t.which?t.which:t.keyCode;return!(i>31&&(i<48||i>57))}isFormInvalid(){}getEditData(t=""){this.loadSpinner=!0,this.dispatchNoteService.getDispatchNote({dispatchNumber:t}).subscribe(i=>{this.dispatchNotes=i.dispatchNotes,this.getDispatchData(this.dispatchId)})}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day}createInvoiceFeeDetailsGroup(){let t=this.fb.group({id:[0],feeType:[""],subFeeValue:["",[A.required]],country:["",[A.required]],amount:["",[A.required]],remarks:[""],language:[""]});this.invoiceFeeDetails.push(t),t.get("feeType")?.valueChanges.subscribe(()=>this.calculateTotals()),t.get("amount")?.valueChanges.subscribe(()=>this.calculateTotals()),this.calculateTotals()}get paymentFeeDetails(){return this.addOrEditDispatchNoteFormGroup.get("paymentFeeDetails")}get invoiceFeeDetails(){return this.addOrEditDispatchNoteFormGroup.get("invoiceFeeDetails")}get salesInvoiceDetails(){return this.addOrEditDispatchNoteFormGroup.get("salesInvoiceDetails")}addSaleInvoice(t){let i=new Date,e=this.fb.group({id:[0],type:[t],invoiceNo:[],amount:[null],estimateNo:[null],saleInvoiceDate:[""],remarks:[""],postedInTally:[""]}),c=e.get("invoiceNo"),p=e.get("estimateNo"),h=!1;c?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,p?.reset(),p?.disable(),h=!1):p?.enable())}),p?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,c?.reset(),c?.disable(),h=!1):c?.enable())}),this.salesInvoiceDetails.push(e)}createPaymentFeeDetailsGroup(){let t=this.fb.group({id:[0],paymentDate:["",[A.required]],bankID:["",[A.required]],owrmNo1:["",[A.required]],rate:[0,A.required],quantity:[0,A.required],paymentCurrency:["",[A.required]],paymentAmount:[0],bankCharges:[0,A.required],totalAmountInr:[0]});this.paymentFeeDetails.push(t);let i=this.paymentFeeDetails.at(this.paymentFeeDetails.length-1);this.setupSubscriptions(i)}setupSubscriptions(t){t.get("rate").valueChanges.subscribe(()=>{this.calculateRowValues(t)}),t.get("quantity").valueChanges.subscribe(()=>{this.calculateRowValues(t)}),t.get("bankCharges").valueChanges.subscribe(()=>{this.calculateRowValues(t)})}calculateRowValues(t){if(!t)return;let i=parseFloat(t.get("rate")?.value)||0,e=parseFloat(t.get("quantity")?.value)||0,c=parseFloat(t.get("bankCharges")?.value)||0,p=i*e;t.get("paymentAmount")?.patchValue(p,{emitEvent:!1});let h=p+c;t.get("totalAmountInr")?.patchValue(h,{emitEvent:!1})}filteredSalesInvoices(t){return this.salesInvoiceDetails.controls.filter(i=>i.get("type")?.value===t)}removeSaleInvoice(t){let i=this.salesInvoiceDetails.controls.indexOf(t);i>=0&&this.salesInvoiceDetails.removeAt(i)}onDeleteInvoiceFeeDetail(t,i){this.loadSpinner=!0,this.invoiceFeeDetails.removeAt(i);let e=t.value.InvoiceFeeDetailNumber,c=this.selectedParts.indexOf(e);c>-1&&this.selectedParts.splice(c,1),this.subFeeOptionsList.splice(c,1),this.calculateTotals(),this.loadSpinner=!1}onDeletePaymentFeeDetail(t,i){this.loadSpinner=!0,this.loadSpinner=!0,this.paymentFeeDetails.removeAt(i);let e=t.value.InvoiceFeeDetailNumber,c=this.selectedPayment.indexOf(e);c>-1&&this.selectedPayment.splice(c,1),this.loadSpinner=!1}updateSelectedInvoice(t){this.selectedParts=t}updateSelectedSales(t){this.selectedParts=t}getSelectedValue(t){return t.target?.value||""}onFeeTypeSelect(t,i){this.loadSpinner=!0;let e=this.invoiceFeeDetails.at(i);this.getAllLookupsList(0,t,i,e),this.loadSpinner=!1}calculateTotals(){let t=0,i=0,e=0;this.invoiceFeeDetails.controls.forEach(w=>{let N=w.get("feeType")?.value,L=parseFloat(w.get("amount")?.value)||0;switch(N){case"Professional Fee":t+=L;break;case"Govt or Offical Fee":i+=L;break;case"Other Charges":e+=L;break}}),this.addOrEditDispatchNoteFormGroup.get("professionalFeeAmt")?.patchValue(t.toFixed(2)),this.addOrEditDispatchNoteFormGroup.get("govtOrOfficialFeeAmt")?.patchValue(i.toFixed(2)),this.addOrEditDispatchNoteFormGroup.get("otherChargesAmt")?.patchValue(e.toFixed(2));let c=parseFloat(this.addOrEditDispatchNoteFormGroup.get("discountAmt")?.value)||0,p=parseFloat(this.addOrEditDispatchNoteFormGroup.get("discountCreditNoteAmt")?.value)||0,h=t+i+e-c-p;this.addOrEditDispatchNoteFormGroup.get("totalAmount")?.patchValue(h.toFixed(2))}onFeeTypeChange(t){let i=this.invoiceFeeDetails.controls.some(e=>e.get("subFeeValue")?.value==="Translation Fee");this.isTranslationFeeSelected=i}validateNo1(t){let i=/[0-9\+\-\ ]/,e=String.fromCharCode(t.charCode);i.test(e)||t.preventDefault()}validateDecimal(t){let i=/[0-9.]/,e=String.fromCharCode(t.charCode);i.test(e)||t.preventDefault();let c=t.target.value;e==="."&&c.includes(".")&&t.preventDefault()}getAllLookupsList(t=0,i="",e,c){let p={code:typeof i=="object"&&i.code||"",lookUpType:typeof i=="object"?i.lookUpType||"":i||"",value:typeof i=="object"&&i.value||"",status:typeof i=="object"&&i.status!==void 0?i.status:"Active"};this.loadSpinner=!0,this.lookupService.getLookupsType(p).subscribe(h=>{let w=h.lookUps||[];e!==void 0&&c&&(this.subFeeOptionsList[e]=w,c.get("subFeeValue")?.setValue("")),this.loadSpinner=!1},h=>{this.loadSpinner=!1})}getLanguageList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Language").subscribe(t=>{this.LanguageList=t.lookUps||[],console.log(this.LanguageList),this.loadSpinner=!1})}getCountryList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Country").subscribe(t=>{this.countryList=t.lookUps||[],this.loadSpinner=!1})}getPaymentCurrencyList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Currency").subscribe(t=>{this.currencyList=t.lookUps||[],this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Rn),D(Z),D(Ai),D(oi),D(ye),D(et),D(mt),D(nn),D(xi))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-dispatch-note"]],decls:351,vars:48,consts:[["fromDt","ngbDatepicker"],["dueDateAsPerInvoice","ngbDatepicker"],["filingDate","ngbDatepicker"],["workDeliveryDateOrMonthDt","ngbDatepicker"],["creditNoteDate","ngbDatepicker"],["poDate","ngbDatepicker"],["emptyLang",""],["dp","ngbDatepicker"],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["data-bs-toggle","tab","href","#Tab1",1,"nav-link","active"],["data-bs-toggle","tab","href","#Tab2",1,"nav-link"],["data-bs-toggle","tab","href","#Tab3",1,"nav-link"],["data-bs-toggle","tab","href","#Tab4",1,"nav-link"],["class","nav-item",4,"ngIf"],[1,"tab-content"],["id","Tab1",1,"tab-pane","fade","show","active"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["formControlName","vendorId",3,"change","searchable","readonly"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","selectedVendorCountry","placeholder","Vendor country ","readonly","",1,"form-control",3,"value"],[1,"input-group","datepicker"],["placeholder","dd-mm-yyyy","name","fromDt","formControlName","invoiceDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["formControlName","fy","type","text",1,"input-field"],["formControlName","clientInvoiceNo","type","text",1,"input-field"],["placeholder","dd-MM-yyyy","name","dueDateAsPerInvoice","formControlName","dueDateAsPerInvoice","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["formControlName","creditDaysAsPerContract","type","number",1,"input-field",3,"input","keypress"],["placeholder","dd-MM-yyyy","name","dueDateAsPerContract","ngbDatepicker","","formControlName","dueDateAsPerContract","readonly","",1,"form-control"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3"],["formControlName","customerId",3,"change","searchable","readonly"],[1,"col-lg-12","mt-3"],[1,"mb-2","fw-bold","fs-5","d-flex","align-items-center"],[1,"bi","bi-people-fill","text-primary","me-2"],["type","button",1,"btn","btn-success","btn-sm","ms-3","px-3","rounded-pill","shadow-sm",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"table","table-bordered","table-sm","shadow-sm","rounded","overflow-hidden","applicant-table"],[4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","description","type","text",1,"input-field"],["formControlName","title","type","text",1,"input-field"],["formControlName","applicationNumber","type","text",1,"input-field"],["placeholder","dd-MM-yyyy","name","filingDate","formControlName","filingDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","minDate","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar6",3,"click"],["formControlName","clientRefNo","type","text",1,"input-field"],["formControlName","ourRefNo","type","text",1,"input-field"],["bindLabel","label","bindValue","value","formControlName","officialFilingReceiptSupporting","placeholder","Select Yes or No",1,"input-field",3,"items"],["placeholder","dd-MM-yyyy","name","workDeliveryDateOrMonth","formControlName","workDeliveryDateOrMonth","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["type","text","formControlName","purchaseCurrency","placeholder","Currency","readonly","",1,"form-control","form-control-sm"],["bindLabel","label","bindValue","value","formControlName","postedInTally","placeholder","Select Yes or No",1,"input-field",3,"items"],["formControlName","patentNo","type","text",1,"input-field"],["id","Tab2",1,"tab-pane","fade"],[1,"edit-screen-subTable","mt-0"],[1,"custom-table"],[1,"table","table-bordered"],[1,"required-label"],["class","required-label",4,"ngIf"],[1,"text-center"],["formArrayName","invoiceFeeDetails"],[4,"ngFor","ngForOf"],[1,"row","mt-4","gx-4","gy-3"],[1,"col-lg-4","col-md-6"],[1,"fw-bold"],[1,"input-group"],[1,"input-group-text"],["formControlName","professionalFeeAmt","type","number","readonly","",1,"form-control"],["formControlName","govtOrOfficialFeeAmt","type","number","readonly","",1,"input-field","form-control"],["formControlName","otherChargesAmt","type","number","readonly","",1,"input-field","form-control"],["formControlName","discountAmt","type","number",1,"input-field","form-control",3,"keypress"],["formControlName","discountCreditNoteAmt","type","number",1,"input-field","form-control",3,"keypress"],["formControlName","creditNoteNo","type","text",1,"input-field","form-control"],["placeholder","dd-MM-yyyy","name","creditNoteDate","formControlName","creditNoteDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["formControlName","creditNoteRefNo","type","text",1,"input-field","form-control"],["formControlName","totalAmount","type","number","readonly","",1,"input-field","form-control"],["id","Tab3","role","tabpanel","aria-labelledby","tab3-tab",1,"tab-pane","fade","show"],[1,"table-scroll"],[1,"text-center",2,"width","5%"],["formArrayName","paymentFeeDetails"],["id","Tab4",1,"tab-pane","fade","show"],[1,"row","g-2","mb-3","d-flex","align-items-center"],[1,"col-md-3"],[1,"label-small"],["formControlName","customerPONo","type","text",1,"form-control","form-control-sm","input-field-sm"],["formControlName","poValueInclusiveTaxes","type","text",1,"form-control","form-control-sm","input-field-sm",3,"keypress"],[1,"col-sm-3"],[1,"input-group","input-group-sm"],["placeholder","dd-MM-yyyy","formControlName","poDate","ngbDatepicker","","readonly","",1,"form-control","input-field-sm",3,"dateSelect"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["formControlName","saleCurrency","type","text",1,"iform-control","form-control-sm","input-field-sm"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[4,"ngIf"],["id","status",1,"tab-pane","fade"],["class","custom-form-input",4,"ngIf"],["class","spinner",4,"ngIf"],["data-bs-toggle","tab","href","#status",1,"nav-link"],[3,"value"],[1,"applicant-cell","bg-light"],[1,"d-flex","align-items-center","w-100","p-1","rounded"],[1,"me-2","fw-bold","text-secondary"],["type","text","placeholder","Applicant name *",1,"form-control","form-control-sm","flex-grow-1","border-0","shadow-sm","rounded-pill","applicant-input",3,"formControl"],["type","button",1,"btn","btn-danger","btn-sm","ms-2","shadow-sm","remove-btn",3,"click"],[1,"bi","bi-trash-fill"],[3,"formGroupName"],[1,"custom-form-input","dispatchwidth"],["formControlName","feeType",1,"form-control","input-field",3,"change"],["value",""],["value","Professional Fee"],["value","Govt or Offical Fee"],["value","Other Charges"],["placeholder","Add Sub Fee","bindLabel","value","bindValue","value","formControlName","subFeeValue",1,"input-field",3,"change","items"],["placeholder","Select Country","formControlName","country",1,"input-field"],[1,"custom-form-input","dispatchwidthsmall"],["formControlName","amount","type","number","step","0.01","placeholder","Enter Amt",1,"input-field",3,"keypress"],["formControlName","remarks","type","text","placeholder","Remarks",1,"input-field"],["src","assets/images/icons/trash.svg","alt","Delete",1,"me-2","pointer",3,"click"],[4,"ngIf","ngIfElse"],["placeholder","Select Language","formControlName","language",1,"input-field"],["placeholder","dd-MM-yyyy","name","paymentDate","formControlName","paymentDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose","container"],["formControlName","bankID","placeholder","Select Bank",1,"input-field",3,"appendTo"],["formControlName","owrmNo1","type","text","placeholder","OWRM No 1",1,"input-field"],["formControlName","paymentCurrency","placeholder","Select Currency",1,"input-field",3,"appendTo"],["formControlName","rate","type","text","placeholder","",1,"input-field",3,"keypress"],["formControlName","quantity","type","text","placeholder","",1,"input-field",3,"keypress"],["formControlName","paymentAmount","type","number","placeholder","Enter Amt","readonly","",1,"input-field",3,"keypress"],["formControlName","bankCharges","type","text","placeholder","charges",1,"input-field",3,"keypress"],["formControlName","totalAmountInr","type","number","placeholder","Enter Amt","readonly","",1,"input-field"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"table","table-sm","table-bordered","mt-2"],[1,"table-light","text-center"],["class","border",3,"formGroup",4,"ngFor","ngForOf"],[1,"border",3,"formGroup"],["formControlName","invoiceNo",1,"form-control","form-control"],["formControlName","amount","type","text","placeholder","Enter Amount",1,"form-control",3,"keypress"],["formControlName","estimateNo",1,"form-control","form-control"],["placeholder","dd-MM-yyyy","name","saleInvoiceDate","formControlName","saleInvoiceDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose","container"],["formControlName","remarks",1,"form-control","form-control"],["formControlName","postedInTally",1,"ng-select-custom"],["src","assets/images/icons/trash.svg","width","18px",1,"me-2","pointer",3,"click"],[3,"formGroup",4,"ngFor","ngForOf"],["placeholder","dd-MM-yyyy","name","saleInvoiceDate","formControlName","saleInvoiceDate","ngbDatepicker","",1,"form-control",3,"dateSelect","autoClose","container"],["src","assets/images/icons/trash.svg","width","18px",3,"click"],["name","","id","","formControlName","status"],["value","Open"],["value","Closed"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",8)(1,"h1"),s(2),n(),o(3,"div",9)(4,"button",10),g("click",function(){return b(c),y(e.onSavePress())}),s(5,"Save"),n(),o(6,"button",11),g("click",function(){return b(c),y(e.onCancelPress())}),s(7," Cancel "),n()()(),o(8,"div",12)(9,"form",13)(10,"ul",14)(11,"li",15)(12,"a",16),s(13,"Purchase INV-1 "),n()(),o(14,"li",15)(15,"a",17),s(16,"Purchase INV-2 "),n()(),o(17,"li",15)(18,"a",18),s(19,"Payment Details "),n()(),o(20,"li",15)(21,"a",19),s(22,"Sales INV "),n()(),v(23,Uw,3,0,"li",20),n(),o(24,"div",21)(25,"div",22)(26,"div",23)(27,"div",24)(28,"div",25)(29,"label",26),s(30,"Vendor Name "),o(31,"span",27),s(32,"*"),n()(),o(33,"ng-select",28),g("change",function(h){return b(c),y(e.onVendorSelect(h))}),v(34,Hw,2,2,"ng-option",29),n()()(),o(35,"div",24)(36,"div",25)(37,"label",26),s(38,"Vendor Country "),o(39,"span",27),s(40,"*"),n()(),E(41,"input",30),n()(),o(42,"div",24)(43,"div",25)(44,"label",26),s(45,"Invoice Date "),o(46,"span",27),s(47,"*"),n()(),o(48,"div",31)(49,"input",32,0),g("dateSelect",function(h){return b(c),y(e.onInvoiceDateChange(h))}),n(),o(51,"button",33),g("click",function(){b(c);let h=R(50);return y(h.toggle())}),E(52,"img",34),n()()()(),o(53,"div",24)(54,"div",25)(55,"label",26),s(56,"FY "),o(57,"span",27),s(58,"*"),n()(),E(59,"input",35),n()(),o(60,"div",24)(61,"div",25)(62,"label",26),s(63," Vendor Invoice No "),o(64,"span",27),s(65,"*"),n()(),E(66,"input",36),n()(),o(67,"div",24)(68,"div",25)(69,"label",26),s(70,"Due Date As Per Invoice "),o(71,"span",27),s(72,"*"),n()(),o(73,"div",31)(74,"input",37,1),g("dateSelect",function(h){return b(c),y(e.onDateSelect("dueDateAsPerInvoice",h))}),n(),o(76,"button",33),g("click",function(){b(c);let h=R(75);return y(h.toggle())}),E(77,"img",34),n()()()(),o(78,"div",24)(79,"div",25)(80,"label",26),s(81," Credit Days As Per Contract "),n(),o(82,"input",38),g("input",function(){return b(c),y(e.onCreditDaysChange())})("keypress",function(h){return b(c),y(e.validateNo1(h))}),n()()(),o(83,"div",24)(84,"div",25)(85,"label",26),s(86,"Due Date As Per Contract "),n(),o(87,"div",31),E(88,"input",39),o(89,"button",40),E(90,"img",34),n()()()(),o(91,"div",24)(92,"div",25)(93,"label",26),s(94,"Customer Name "),o(95,"span",27),s(96,"*"),n()(),o(97,"ng-select",41),g("change",function(h){return b(c),y(e.onCustomerSelect(h))}),v(98,zw,2,2,"ng-option",29),n()()(),o(99,"div",42)(100,"label",43),E(101,"i",44),s(102," Applicant Names "),o(103,"button",45),g("click",function(){return b(c),y(e.addApplicantField())}),E(104,"i",46),s(105," Add Applicant "),n()(),o(106,"table",47)(107,"tbody"),v(108,Yw,3,2,"ng-container",48),n()()(),o(109,"div",24)(110,"div",25)(111,"label",26),s(112,"Description "),n(),E(113,"input",49),n()(),o(114,"div",24)(115,"div",25)(116,"label",26),s(117,"Title "),o(118,"span",27),s(119,"*"),n()(),E(120,"input",50),n()(),o(121,"div",24)(122,"div",25)(123,"label",26),s(124,"Application Number "),o(125,"span",27),s(126,"*"),n()(),E(127,"input",51),n()(),o(128,"div",24)(129,"div",25)(130,"label",26),s(131,"Filing Date "),n(),o(132,"div",31)(133,"input",52,2),g("dateSelect",function(h){return b(c),y(e.onDateSelect("filingDate",h))}),n(),o(135,"button",53),g("click",function(){b(c);let h=R(134);return y(h.toggle())}),E(136,"img",34),n()()()(),o(137,"div",24)(138,"div",25)(139,"label",26),s(140,"Client Ref No "),o(141,"span",27),s(142,"*"),n()(),E(143,"input",54),n()(),o(144,"div",24)(145,"div",25)(146,"label",26),s(147,"Our Ref No "),o(148,"span",27),s(149,"*"),n()(),E(150,"input",55),n()(),o(151,"div",24)(152,"div",25)(153,"label",26),s(154,"Filing Receipt Supporting "),o(155,"span",27),s(156,"*"),n()(),E(157,"ng-select",56),n()(),o(158,"div",24)(159,"div",25)(160,"label",26),s(161,"Work Delivery Date "),n(),o(162,"div",31)(163,"input",57,3),g("dateSelect",function(h){return b(c),y(e.onDateSelect("workDeliveryDateOrMonth",h))}),n(),o(165,"button",33),g("click",function(){b(c);let h=R(164);return y(h.toggle())}),E(166,"img",34),n()()()(),o(167,"div",24)(168,"div",25)(169,"label",26),s(170,"Purchase Currency "),o(171,"span",27),s(172,"*"),n()(),E(173,"input",58),n()(),o(174,"div",24)(175,"div",25)(176,"label",26),s(177,"Posted In Tally "),o(178,"span",27),s(179,"*"),n()(),E(180,"ng-select",59),n()(),o(181,"div",24)(182,"div",25)(183,"label",26),s(184,"Patent No "),n(),E(185,"input",60),n()()()(),o(186,"div",61)(187,"div",62)(188,"h4"),s(189," Invoice Fee Details "),o(190,"button",10),g("click",function(){return b(c),y(e.createInvoiceFeeDetailsGroup())}),s(191,"Add"),n()()(),o(192,"div",63)(193,"table")(194,"thead",64)(195,"tr")(196,"th"),s(197,"Line"),n(),o(198,"th",65),s(199,"Fees Type"),n(),o(200,"th",65),s(201,"Type"),n(),o(202,"th",65),s(203,"Country"),n(),v(204,$w,2,0,"th",66),o(205,"th",65),s(206,"Amount"),n(),o(207,"th"),s(208,"Remarks"),n(),o(209,"th",67),s(210,"Action"),n()()(),o(211,"tbody",68),v(212,e3,31,5,"ng-container",69),n()()(),o(213,"div",70)(214,"div",71)(215,"div",25)(216,"label",72),s(217,"Professional Fee Total Amount"),n(),o(218,"div",73)(219,"span",74),s(220),n(),E(221,"input",75),n()()(),o(222,"div",71)(223,"div",25)(224,"label",72),s(225,"Govt/Official Fee Total Amount"),n(),o(226,"div",73)(227,"span",74),s(228),n(),E(229,"input",76),n()()(),o(230,"div",71)(231,"div",25)(232,"label",72),s(233,"Other Charges Total Amount"),n(),o(234,"div",73)(235,"span",74),s(236),n(),E(237,"input",77),n()()(),o(238,"div",71)(239,"div",25)(240,"label",72),s(241,"Discount Amount"),n(),o(242,"input",78),g("keypress",function(h){return b(c),y(e.validateDecimal(h))}),n()()(),o(243,"div",71)(244,"div",25)(245,"label",72),s(246,"Credit Note Amount"),n(),o(247,"input",79),g("keypress",function(h){return b(c),y(e.validateDecimal(h))}),n()()(),o(248,"div",71)(249,"div",25)(250,"label",72),s(251,"Credit Note No"),n(),E(252,"input",80),n()(),o(253,"div",71)(254,"div",25)(255,"label",26),s(256,"Credit Note Date"),n(),o(257,"div",31)(258,"input",81,4),g("dateSelect",function(h){return b(c),y(e.onDateSelect("creditNoteDate",h))}),n(),o(260,"button",33),g("click",function(){b(c);let h=R(259);return y(h.toggle())}),E(261,"img",34),n()()()(),o(262,"div",71)(263,"div",25)(264,"label",72),s(265,"Credit Note Ref No"),n(),E(266,"input",82),n()(),o(267,"div",71)(268,"div",25)(269,"label",72),s(270,"Total Amount"),n(),o(271,"div",73)(272,"span",74),s(273),n(),E(274,"input",83),n()()()()(),o(275,"div",84)(276,"div",62)(277,"h4"),s(278," Payment Fee Details "),o(279,"button",10),g("click",function(){return b(c),y(e.createPaymentFeeDetailsGroup())}),s(280,"Add"),n()()(),o(281,"div",85)(282,"div",63)(283,"table")(284,"thead",64)(285,"tr")(286,"th"),s(287,"Line"),n(),o(288,"th",65),s(289,"Payment Date"),n(),o(290,"th",65),s(291,"Bank"),n(),o(292,"th",65),s(293,"Owrm No"),n(),o(294,"th",65),s(295,"PaymentCurrency"),n(),o(296,"th",65),s(297,"Forex Amount"),n(),o(298,"th",65),s(299,"Rate Of Exchange"),n(),o(300,"th",65),s(301,"Value (INR)"),n(),o(302,"th",65),s(303,"Bank Charges"),n(),o(304,"th",65),s(305,"Total Amount (INR)"),n(),o(306,"th",86),s(307,"Action"),n()()(),o(308,"tbody",87),v(309,n3,39,8,"ng-container",69),n()()()()(),o(310,"div",88)(311,"div",89)(312,"div",90)(313,"label",91),s(314,"Customer PO Number "),n(),E(315,"input",92),n(),o(316,"div",90)(317,"label",91),s(318,"PO Value Inclusive Taxes "),n(),o(319,"input",93),g("keypress",function(h){return b(c),y(e.validateDecimal(h))}),n()(),o(320,"div",94)(321,"label",91),s(322,"PO Date "),n(),o(323,"div",95)(324,"input",96,5),g("dateSelect",function(h){return b(c),y(e.onDateSelect("poDate",h))}),n(),o(326,"button",97),g("click",function(){b(c);let h=R(325);return y(h.toggle())}),E(327,"img",34),n()()(),o(328,"div",90)(329,"div",91)(330,"label",26),s(331,"Sales Currency "),o(332,"span",27),s(333,"*"),n()(),o(334,"div",73)(335,"span",74),s(336),n(),E(337,"input",98),n()()()(),o(338,"div",62)(339,"h5")(340,"button",99),g("click",function(){return b(c),y(e.activeSection="professional")}),s(341,"Professional Fee Deatils"),n(),o(342,"button",100),g("click",function(){return b(c),y(e.activeSection="govt")}),s(343,"Govt/Official Fee Details"),n()()(),v(344,r3,27,2,"div",101)(345,l3,27,2,"div",101),n(),o(346,"div",102)(347,"div",23)(348,"div",24),v(349,s3,9,0,"div",103),n()()()()()(),v(350,d3,2,0,"div",104)}i&2&&(d(2),Ce("",e.dispatchId>0?"Edit":"Create"," Vendor Invoice "),d(7),m("formGroup",e.addOrEditDispatchNoteFormGroup),d(14),m("ngIf",e.statusTab),d(10),m("searchable",!0)("readonly",e.dispatchId>0),d(),m("ngForOf",e.vendorsList),d(7),m("value",e.selectedVendorCountry),d(8),m("autoClose",!0),d(25),m("autoClose",!0),d(23),m("searchable",!0)("readonly",e.dispatchId>0),d(),m("ngForOf",e.customersList),d(10),m("ngForOf",e.getApplicantsRows())("ngForTrackBy",e.trackByRowIndex),d(25),m("minDate",e.minDate)("maxDate",e.maxDate),d(24),m("items",eo(39,Rw,pi(36,Lw),pi(37,Bw),pi(38,Vw))),d(6),m("autoClose",!0),d(17),m("items",$e(45,Ww,pi(43,jw),pi(44,Gw))),d(24),m("ngIf",e.isTranslationFeeSelected),d(8),m("ngForOf",e.invoiceFeeDetails.controls),d(8),_(e.currencySymbol),d(8),_(e.currencySymbol),d(8),_(e.currencySymbol),d(22),m("autoClose",!0),d(15),_(e.currencySymbol),d(36),m("ngForOf",e.paymentFeeDetails.controls),d(27),_(e.customerSymbol),d(4),pt("active",e.activeSection==="professional"),d(2),pt("active",e.activeSection==="govt"),d(2),m("ngIf",e.activeSection==="professional"),d(),m("ngIf",e.activeSection==="govt"),d(4),m("ngIf",e.dispatchId),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,Po,pe,U,Qe,ko,nt,ot,Ni,Fi,Tt],styles:['.content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow-x:hidden}.dispatchwidth[_ngcontent-%COMP%]{min-width:150px}.dispatchwidthsmall[_ngcontent-%COMP%]{max-width:100px}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:top}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-color:#dee2e6!important}.input-field-sm[_ngcontent-%COMP%]{border-radius:4px;font-size:.875rem;padding:.25rem .5rem;border-color:#000}.label-small[_ngcontent-%COMP%]{font-weight:500;font-size:.8rem}.pointer[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.pointer[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.ng-select-sm[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:calc(1.8125rem + 2px);font-size:.875rem;padding:.25rem .5rem;border:1px solid #dc3545!important;border-radius:4px;box-sizing:border-box;display:flex;align-items:center}.input-field-sm[_ngcontent-%COMP%]{height:31px!important;font-size:.875rem;padding:.25rem .5rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border:.5px solid black!important}.required-label[_ngcontent-%COMP%]:after{content:" *";color:red;font-weight:700;margin-left:2px}.shetty.ng-touch[_ngcontent-%COMP%]{border:1px solid re}.custom-table-responsive[_ngcontent-%COMP%]{overflow-x:auto;width:100%;border:1px solid black!important;border-radius:2px 2px 10px 10px;overflow:visible!important}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap;padding:8px}.ng-dropdown-panel[_ngcontent-%COMP%]{z-index:99999!important;position:absolute!important}.applicant-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f8ff;transition:background-color .2s ease-in-out}.applicant-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px #007bff66}.remove-btn[_ngcontent-%COMP%]{font-size:16px;background-color:#8600072a;color:#495057;box-shadow:0 1px 2px #0000001a;transition:all .2s ease-in-out}.remove-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;font-size:10rem}.remove-btn[_ngcontent-%COMP%]:hover{font-size:16px;background-color:#dc3545!important;color:#000!important;box-shadow:0 3px 6px #fa3d5066}table[_ngcontent-%COMP%]{border:.5px solid #8d8d8d;border-collapse:collapse;overflow-x:auto;min-width:1000px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:.5px solid #444444;padding:8px}.table-scroll[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto;padding-bottom:20px}.table-scroll[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:1200px;border-collapse:separate;border-spacing:0}.ngb-dp-container[_ngcontent-%COMP%], .ngb-datepicker[_ngcontent-%COMP%]{position:absolute!important;z-index:1050;background:#fff;box-shadow:0 2px 8px #00000026}.ngb-datepicker[_ngcontent-%COMP%]{position:absolute!important;z-index:9999!important}.input-group.datepicker[_ngcontent-%COMP%]{position:relative}input[_ngcontent-%COMP%]::placeholder{color:red!important;font-weight:700!important}']});let a=r;return a})();function c3(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function p3(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function m3(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var vu=(()=>{let r=class r{constructor(t){this.lookupService=t,this.getData=new W,this.dispatchNumber=void 0,this.Status=void 0,this.frlrNo=void 0,this.dispatchStatus=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.locationsData=new W}ngOnInit(){}handleSearch(){let t={ApplicationNumber:this.applicationNumber,ClientInvoiceNumber:this.clientInvoiceNumber,Status:this.Status};this.getData.emit(t)}onClearFilter(){this.Status=void 0,this.applicationNumber=void 0,this.clientInvoiceNumber=void 0,this.getData.emit({clientInvoiceNumber:void 0,Status:void 0,applicationNumber:void 0})}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-dispatch-note-filters"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:29,vars:8,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-3"],[1,"custom-form-input"],["for",""],["placeholder","Application No",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Client Inv No",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-lg-2"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Application Number"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.applicationNumber,p)||(e.applicationNumber=p),p}),v(7,c3,2,2,"ng-option",6),n()()(),o(8,"div",2)(9,"div",3)(10,"label",4),s(11,"Vendor Inv Number"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.clientInvoiceNumber,p)||(e.clientInvoiceNumber=p),p}),v(13,p3,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label"),s(17,"Status"),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.Status,p)||(e.Status=p),p}),v(19,m3,2,2,"ng-option",6),n()()(),o(20,"div",9)(21,"div",3)(22,"label",10),s(23,"\xA0"),n(),o(24,"div",11)(25,"button",12),g("click",function(){return e.handleSearch()}),s(26,"Search"),n(),o(27,"button",13),g("click",function(){return e.onClearFilter()}),s(28," Clear"),n()()()()()()),i&2&&(d(6),F("ngModel",e.applicationNumber),d(),m("ngForOf",e.filters==null?null:e.filters.ApplicationNumber),d(5),F("ngModel",e.clientInvoiceNumber),d(),m("ngForOf",e.filters==null?null:e.filters.ClientInvoiceNo),d(5),F("ngModel",e.Status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(6),m("disabled",!e.applicationNumber&&!e.Status&&!e.clientInvoiceNumber),d(2),m("disabled",!e.applicationNumber&&!e.clientInvoiceNumber&&!e.Status))},dependencies:[$,le,se,U,Y]});let a=r;return a})();var yu=Si(ma());ua();ua();var bu=Si(ma());var wr=(()=>{let r=class r{constructor(){}generatePdf(t,i){let e=document.getElementById("download-button"),c=document.getElementById("icon-button");e&&(e.style.display="none"),c&&(c.style.display="none"),(0,bu.default)(t,{scale:3}).then(h=>{let L=h.height*208/h.width,V=h.toDataURL("image/png"),I=new Xp("p","mm","a4"),G=0;if(L>295){let oe=295/L;I.addImage(V,"PNG",0,G,208,L*oe)}else I.addImage(V,"PNG",0,G,208,L);I.save(`${i}.pdf`),e&&(e.style.display="block"),c&&(c.style.display="block")})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function h3(a,r){if(a&1&&(o(0,"tbody")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n()()),a&2){let l=r.$implicit,t=r.$index;d(2),_(t+1),d(2),_(l.parts.partNumber),d(2),_(l.parts.partName),d(2),_(l.partsQty),d(2),_(l.parts.remarks)}}function g3(a,r){if(a&1&&(o(0,"table")(1,"thead")(2,"th"),s(3,"S. No."),n(),o(4,"th"),s(5,"Total Amount"),n(),o(6,"th"),s(7,"Description"),n(),o(8,"th"),s(9,"Remarks"),n()(),We(10,h3,11,5,"tbody",null,Oc),n()),a&2){let l=S();d(10),Ue(l.parts)}}function f3(a,r){a&1&&(o(0,"div",24),s(1," Downloading... "),n())}var ja=(()=>{let r=class r{constructor(t,i){this.activeModal=t,this.pdfService=i,this.dispatch=[],this.parts=[],this.loadSpinner=!1}ngOnInit(){this.getActiveParts(),console.log(this.dispatch)}downloadPDF(){this.loadSpinner=!0;let t=document.getElementById("download-button"),i=document.getElementById("icon-button");t&&(t.style.display="none"),i&&(i.style.display="none");let e=document.getElementById("dispatch-note-content");if(!e)return;(0,yu.default)(e,{scale:3,useCORS:!0}).then(p=>{let h=p.toDataURL("image/png",1),w=new fr("p","mm","a4"),N=210,L=295,V=p.height*N/p.width,I=V,G=0;for(;I>=0;)w.addImage(h,"PNG",0,G,N,V),I-=L,G-=L,I>=0&&w.addPage();w.save("Customer-Invoice"),this.onClose()})}getActiveParts(){this.parts=this.dispatch.dispatchNotePartItems.filter(t=>t?.status==="Active")}onClose(){this.activeModal.close(),this.loadSpinner=!1}getDateTime(t){let i=new Date(t);return i.setMinutes(i.getMinutes()+30),i.toISOString()}};r.\u0275fac=function(i){return new(i||r)(D(ut),D(wr))},r.\u0275cmp=k({type:r,selectors:[["app-dispatch-note"]],inputs:{dispatch:"dispatch"},decls:149,vars:38,consts:[["id","dispatch-note-content",1,"common-modal","main-content"],[1,"ngmodal-header"],[1,"justify-content-end","d-flex"],["id","download-button","src","assets/images/icons/download.svg","alt","Download PDF",1,"me-3","pointer",3,"click"],["id","icon-button","src","assets/images/icons/close.svg","alt","Close",1,"pointer",3,"click"],[1,"ngmodal-body","mt-4"],[1,"fw-bold","fs-6","phone"],[1,"address"],[1,"fw-bold"],[1,"fs-5"],[1,"more-information"],[1,"info"],[1,"key"],[1,"value"],[1,"part-details"],[1,"mb-0","dispatch-mode"],[1,"dispatch-details"],[1,"acknowledgement"],[1,"vehicle-details","mb-0"],[1,"acknowledgement-details"],[1,"lgeil-column"],[1,"time-cell"],[1,"d-flex","flex-column"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"img",3),g("click",function(){return e.downloadPDF()}),n(),o(4,"img",4),g("click",function(){return e.onClose()}),n()(),o(5,"h3"),s(6," Vendor Invoice "),n()(),o(7,"div",5)(8,"p"),s(9," Vendor Name: "),o(10,"span",6),s(11),n()(),o(12,"div",7)(13,"p"),s(14),n(),o(15,"p"),s(16),n()(),o(17,"p",8),s(18,"Customer Name: "),o(19,"span",9),s(20),n()(),o(21,"div",10)(22,"div",11)(23,"div",12),s(24," Billing Address "),n(),o(25,"div",13),s(26),n()(),o(27,"div",11)(28,"div",12),s(29," Shipping Address "),n(),o(30,"div",13),s(31),n()(),o(32,"div",11)(33,"div",12),s(34,"GSTIN Number: "),n(),o(35,"div",13),s(36),n()()(),o(37,"div",14)(38,"p",15),s(39," Fees: "),o(40,"span"),s(41),n()(),o(42,"div",16)(43,"p"),s(44,"Fee Details: "),o(45,"span"),s(46),n()(),o(47,"p"),s(48,"Date: "),o(49,"span"),s(50),K(51,"date"),n()()(),v(52,g3,12,0,"table"),n(),o(53,"div",17)(54,"h3",8),s(55," Details"),n(),o(56,"div",18)(57,"p"),s(58,"Our Reference No "),o(59,"span"),s(60),n()(),o(61,"p"),s(62,"Client No: "),o(63,"span"),s(64),n()(),o(65,"p"),s(66,"Vendor Name: "),o(67,"span"),s(68),n()(),o(69,"p"),s(70,"Mobile No.: "),o(71,"span"),s(72),n()()(),o(73,"table",19)(74,"thead")(75,"tr"),E(76,"th",20),o(77,"th"),s(78),n(),o(79,"th"),s(80,"At Noida"),n()()(),o(81,"tbody")(82,"tr")(83,"td",21)(84,"p"),s(85,"Invoice Amount "),o(86,"span"),s(87),K(88,"date"),n()(),o(89,"p"),s(90,"Date:"),o(91,"span"),s(92),K(93,"date"),n()()(),o(94,"td",21)(95,"p"),s(96,"Total Amount"),E(97,"span"),n(),o(98,"p"),s(99,"Date: "),E(100,"span"),n()(),o(101,"td",21)(102,"p"),s(103,"Reporting Time: "),E(104,"span"),n()()(),o(105,"tr")(106,"td",21)(107,"p"),s(108,"Financial Year "),o(109,"span"),s(110),K(111,"date"),n()(),o(112,"p"),s(113,"officialFilingReceiptSupporting "),o(114,"span"),s(115),K(116,"date"),n()()(),o(117,"td",21)(118,"p"),s(119,"description "),E(120,"span"),n(),o(121,"p"),s(122,"workDeliveryDateOrMonth"),E(123,"span"),n()(),o(124,"td",21)(125,"p"),s(126,"title "),E(127,"span"),n(),o(128,"p"),s(129,"totalAmount "),E(130,"span"),n()()(),o(131,"tr")(132,"td",21)(133,"div",22)(134,"div")(135,"p"),s(136,"Created By: "),o(137,"span"),s(138),n()()(),E(139,"div"),n()(),o(140,"td",21)(141,"p"),s(142,"Amount"),E(143,"span"),n()(),o(144,"td",21)(145,"p"),s(146,"Amount "),E(147,"span"),n()()()()()()()(),v(148,f3,2,0,"div",23)),i&2&&(d(11),_(e.dispatch==null||e.dispatch.locations==null?null:e.dispatch.locations.attribute4),d(3),_(e.dispatch==null||e.dispatch.locations==null?null:e.dispatch.locations.attribute1),d(2),_(e.dispatch==null||e.dispatch.locations==null?null:e.dispatch.locations.attribute2),d(4),_(e.dispatch.suppliers.vendorName),d(6),_(e.dispatch.suppliers.vendorAddress1),d(5),Lc("",e.dispatch==null||e.dispatch.suppliers==null?null:e.dispatch.suppliers.city,", ",e.dispatch==null||e.dispatch.suppliers==null?null:e.dispatch.suppliers.state,", ",e.dispatch==null||e.dispatch.suppliers==null?null:e.dispatch.suppliers.postalCode," "),d(5),_(e.dispatch==null||e.dispatch.suppliers==null?null:e.dispatch.suppliers.gstInNo),d(5),_(e.dispatch==null?null:e.dispatch.transporterMode),d(5),_(e.dispatch.dispatchNumber),d(4),_(mr(51,24,e.dispatch.creationDate)),d(2),Ft(52,e.dispatch.dispatchNotePartItems?52:-1),d(8),_(e.dispatch.vehicles.vehicleSize.value),d(4),_(e.dispatch.vehicles.vehicleNumber),d(4),_(e.dispatch==null||e.dispatch.vehicles.transporterEntity==null?null:e.dispatch.vehicles.transporterEntity.ownerName),d(4),_(e.dispatch==null||e.dispatch.vehicles.transporterEntity==null?null:e.dispatch.vehicles.transporterEntity.transporterContactNo),d(6),_(e.dispatch.suppliers.vendorName),d(9),Ce(" ",ee(88,26,e.dispatch==null?null:e.dispatch.creationDate,"HH:mm:ss"),""),d(5),Ce(" ",ee(93,29,e.dispatch==null?null:e.dispatch.creationDate,"yyyy-MM-dd"),""),d(18),_(ee(111,32,e.getDateTime(e.dispatch==null?null:e.dispatch.creationDate),"HH:mm:ss")),d(5),_(ee(116,35,e.getDateTime(e.dispatch==null?null:e.dispatch.creationDate),"yyyy-MM-dd")),d(23),_(e.dispatch==null||e.dispatch.createdByDetails==null?null:e.dispatch.createdByDetails.name),d(10),m("ngIf",e.loadSpinner))},dependencies:[z,Se],styles:[".address[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-start;line-gap-override:.5em}.address[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;margin:.1em}.phone[_ngcontent-%COMP%]{font-size:10px}.more-information[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5em}.more-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{display:flex;gap:1em}.more-information[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]   .key[_ngcontent-%COMP%]{width:120px}.part-details[_ngcontent-%COMP%]{margin-top:2em}.part-details[_ngcontent-%COMP%]   .dispatch-mode[_ngcontent-%COMP%]{padding:.5em;border:1px solid black}.part-details[_ngcontent-%COMP%]   .dispatch-details[_ngcontent-%COMP%]{display:flex;justify-content:space-between;border-inline:1px solid black;padding-top:1em;padding-inline:.5em}.part-details[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.part-details[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%] > th[_ngcontent-%COMP%]{border:1px solid black;padding:8px;background-color:#f2f2f2}.part-details[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%] > td[_ngcontent-%COMP%]{border:1px solid black;padding:8px}.acknowledgement[_ngcontent-%COMP%]{margin-top:15em;font-size:6px}.acknowledgement[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{text-align:center;border:1px solid black;text-decoration:underline;padding-block:1em}.acknowledgement[_ngcontent-%COMP%]   .vehicle-details[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto;border-inline:1px solid black;border-top:1px solid black;padding-top:1em;padding-inline:.5em}table.acknowledgement-details[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}table.acknowledgement-details[_ngcontent-%COMP%]   .lgeil-column[_ngcontent-%COMP%]{width:175px}table.acknowledgement-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table.acknowledgement-details[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black;padding:8px;text-align:left}table.acknowledgement-details[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}.time-cell[_ngcontent-%COMP%]{font-weight:700}.time-cell[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.time-cell[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:400}"]});let a=r;return a})();var _3=["table"],v3=(a,r)=>r.id;function b3(a,r){if(a&1&&(o(0,"div",10)(1,"div",11)(2,"span"),s(3,"Created On"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",11)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",11)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",11)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l==null?null:l.creationDate,"dd-MM-yyyy")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l==null?null:l.lastUpdateOn,"dd-MM-yyyy")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function y3(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",5)(2,"span",6)(3,"u"),s(4),K(5,"date"),n()(),v(6,b3,23,10,"ng-template",null,1,te),n(),o(8,"td"),s(9),n(),o(10,"td"),s(11),K(12,"date"),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),K(33,"date"),n(),o(34,"td"),s(35),n(),o(36,"td"),s(37),n(),o(38,"td"),s(39),n(),o(40,"td",3)(41,"img",7),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewDispatchNote(i))}),n(),o(42,"button",8),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onEditDispatchNote(i))}),o(43,"img",9),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onEditDispatchNote(i))}),n()()()()}if(a&2){let l=r.$implicit,t=R(7);d(2),m("ngbTooltip",t),d(2),_(ee(5,18,l==null?null:l.invoiceDate,"dd-MM-yyyy")),d(5),_((l==null?null:l.clientInvoiceNo)||"-"),d(2),_(ee(12,21,l==null?null:l.dueDateAsPerInvoice,"dd-MM-yyyy")),d(3),_((l==null?null:l.vendorDetails.vendorName)||"-"),d(2),_((l==null?null:l.professionalFeeAmt)||"-"),d(2),_((l==null?null:l.govtOrOfficialFeeAmt)||"-"),d(2),_((l==null?null:l.otherChargesAmt)||"-"),d(2),_((l==null?null:l.discountAmt)||"-"),d(2),_((l==null?null:l.discountCreditNoteAmt)||"-"),d(2),_((l==null?null:l.totalAmount)||"-"),d(2),_((l==null?null:l.applicationNumber)||"-"),d(2),_((l==null?null:l.officialFilingReceiptSupporting)||"-"),d(2),_(ee(33,24,l==null?null:l.filingDate,"dd-MM-yyyy")),d(3),_((l==null?null:l.clientRefNo)||"-"),d(2),_((l==null?null:l.ourRefNo)||"-"),d(2),_((l==null?null:l.status)||"-"),d(3),m("disabled",(l==null?null:l.openFlag)=="Close")}}function C3(a,r){}function S3(a,r){a&1&&(o(0,"tr")(1,"td",12),s(2,"No Result Found"),n()())}var Cu=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i,this.dispatchNotes=[],this.exportHeader=new W}onEditDispatchNote(t){this.router.navigate(["transaction/addEditVendorInvoice",t.id])}onPreviewDispatchNote(t){let i=this.modalService.open(ja,{size:"",backdrop:"static"});i.componentInstance.dispatch=t,i.result.then(e=>{},e=>{})}ngOnChanges(t){t.dispatchNotes&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Actions"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-dispatch-note-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(_3,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{dispatchNotes:"dispatchNotes"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:44,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[1,"text-center"],[4,"ngIf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link","placement","top","ngbTooltip","Vendor Invoice",1,"me-2","pointer",3,"click"],["ngbTooltip","Edit","placement","top",1,"icon-button",3,"click","disabled"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){i&1&&(o(0,"div",2)(1,"table",null,0)(3,"thead")(4,"tr")(5,"th"),s(6,"Invoice Date"),n(),o(7,"th"),s(8,"Client Invoice No"),n(),o(9,"th"),s(10,"Due Date "),n(),o(11,"th"),s(12,"Vendor Name"),n(),o(13,"th"),s(14,"Total Prof Fees"),n(),o(15,"th"),s(16,"Total Govt Fees"),n(),o(17,"th"),s(18,"Others Fees"),n(),o(19,"th"),s(20,"Dicount Amount"),n(),o(21,"th"),s(22,"Credit Note Amount"),n(),o(23,"th"),s(24,"Total Amount"),n(),o(25,"th"),s(26,"Application No "),n(),o(27,"th"),s(28,"EPO Filing "),n(),o(29,"th"),s(30,"Filing Date"),n(),o(31,"th"),s(32,"Client Ref No."),n(),o(33,"th"),s(34,"Our Ref No."),n(),o(35,"th"),s(36,"Status"),n(),o(37,"th",3),s(38,"Actions"),n()()(),o(39,"tbody"),We(40,y3,44,27,"tr",null,v3,!1,C3,0,0),v(43,S3,3,0,"tr",4),n()()()),i&2&&(d(40),Ue(e.dispatchNotes),d(3),m("ngIf",e.dispatchNotes.length==0))},dependencies:[z,be,Se]});let a=r;return a})();var D3=a=>({"d-none":a}),E3=(a,r)=>({isFilters:a,fullScreen:r});function T3(a,r){a&1&&s(0," Full Screen ")}function w3(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function I3(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var Su=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.dispatchNoteService=i,this.xlsxService=e,this.toastr=c,this.datePipe=p,this.fullScreen=!1,this.isFilters=!0,this.dispatchNumber="",this.dispatchNotes=[],this.locations=[],this.loadSpinner=!0,this.currentPage=1,this.count=10,this.totaldispatchNotes=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.headers=[]}ngOnInit(){this.getDispatchData()}getDispatchData(t=0,i=this.count,e=this.appliedFilters){let c={ApplicationNumber:e?.ApplicationNumber||"",ClientInvoiceNumber:e?.ClientInvoiceNumber,Status:e?.Status||""};this.loadSpinner=!0,this.dispatchNoteService.getDispatchNote(c,t,i).subscribe(p=>{this.dispatchNotes=p.vendorInvoiceTxns,this.totaldispatchNotes=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getDispatchData(0,this.count,this.appliedFilters)}onCreateDispatchNote(){this.router.navigate(["transaction/addEditVendorInvoice/0"])}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getDispatchData(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getDispatchData(0,this.count,this.appliedFilters)}onExportHeader(t){this.headers=t}exportData(t="Vendor Invoice Details"){let i={ApplicationNumber:this.appliedFilters?.applicationNumber||"",ClientInvoiceNumber:this.appliedFilters?.clientInvoiceNumber||"",Status:this.appliedFilters?.Status||""};this.dispatchNoteService.getDispatchNote(i,0,this.totaldispatchNotes).subscribe(e=>{let p=e.vendorInvoiceTxns.map(h=>({"Invoice Date":h?.invoiceDate,"Client Invoice No":h?.clientInvoiceNo,"Due Date (Before)":this.datePipe.transform(h?.dueDateAsPerContract,"yyyy-MM-dd"),"Customer Name":h?.customerDetails?.customerName,Description:h?.description,Title:h?.title,"Prof Fee":h?.professionalFeeAmt,"Govt Fee":h?.govtOrOfficialFeeAmt,Discount:h?.discountAmt,"Total Amt":h?.totalAmount,"Discount (Credit Note)":h?.discountCreditNoteAmt,"Total Outstanding Amount":h?.paymentAmount,"Application No":h?.applicationNumber,"EPO Filing Received or Not":h?.officialFilingReceiptSupporting==="1"?"Yes":"No","Filing Date":h?.filingDate,"Client Ref No.":h?.clientRefNo,"Our Ref No.":h?.ourRefNo,"Customer PO No":h?.customerPONo,"PO Date":h?.pODate,"PO Value Inclusive of Taxes":h?.pOValueInclusiveTaxes,"Our Invoice No.":h?.clientInvoiceNo,"Invoice Amt In INR":h?.totalAmount,"Govt Fee Invoice No.":"-","Govt Fee (In Amt)":h?.govtOrOfficialFeeAmt,"Estimate No. (Prof Fee)":"-","Estimate No. (Govt Fee)":"-","Remarks For CA/Tally Posting":"-",Status:h?.status}));this.xlsxService.xlsxExport(p,Object.keys(p[0]),t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(oi),D(Je),D(Z),D(Se))},r.\u0275cmp=k({type:r,selectors:[["app-dispatch-note"]],features:[Gt([Se])],decls:36,vars:24,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section",3,"ngClass"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","dispatchNotes"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2," Vendor Invoice Txn "),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateDispatchNote())}),s(8,"Create Vendor Invoice"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,T3,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-dispatch-note-filters",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,w3,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-dispatch-note-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,I3,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(3),m("ngClass",ge(19,D3,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",$e(21,E3,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("dispatchNotes",e.dispatchNotes),d(2),m("collectionSize",e.totaldispatchNotes),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,vu,Cu],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();function N3(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function F3(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function M3(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var xu=(()=>{let r=class r{constructor(t){this.lookupService=t,this.getData=new W,this.dispatchNumber=void 0,this.vendorName=void 0,this.frlrNo=void 0,this.dispatchStatus=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.locationsData=new W}ngOnInit(){}handleSearch(){let t={ApplicationNumber:this.applicationNumber,ClientInvoiceNumber:this.clientInvoiceNumber,vendorName:this.vendorName};this.getData.emit(t)}onClearFilter(){this.vendorName=void 0,this.applicationNumber=void 0,this.clientInvoiceNumber=void 0,this.getData.emit({clientInvoiceNumber:void 0,vendorName:void 0,applicationNumber:void 0})}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-dispatch-note-filters1"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:29,vars:8,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-3"],[1,"custom-form-input"],["placeholder","Select Vendor",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for",""],["placeholder","Vendor Inv No",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Application No",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-lg-2"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),s(5,"Vendor Name"),n(),o(6,"ng-select",4),P("ngModelChange",function(p){return M(e.vendorName,p)||(e.vendorName=p),p}),v(7,N3,2,2,"ng-option",5),n()()(),o(8,"div",2)(9,"div",3)(10,"label",6),s(11,"Vendor Inv Number"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.clientInvoiceNumber,p)||(e.clientInvoiceNumber=p),p}),v(13,F3,2,2,"ng-option",5),n()()(),o(14,"div",2)(15,"div",3)(16,"label",6),s(17,"Application Number"),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.applicationNumber,p)||(e.applicationNumber=p),p}),v(19,M3,2,2,"ng-option",5),n()()(),o(20,"div",9)(21,"div",3)(22,"label",10),s(23,"\xA0"),n(),o(24,"div",11)(25,"button",12),g("click",function(){return e.handleSearch()}),s(26,"Search"),n(),o(27,"button",13),g("click",function(){return e.onClearFilter()}),s(28," Clear"),n()()()()()()),i&2&&(d(6),F("ngModel",e.vendorName),d(),m("ngForOf",e.filters==null?null:e.filters.Vendors),d(5),F("ngModel",e.clientInvoiceNumber),d(),m("ngForOf",e.filters==null?null:e.filters.ClientInvoiceNo),d(5),F("ngModel",e.applicationNumber),d(),m("ngForOf",e.filters==null?null:e.filters.ApplicationNumber),d(6),m("disabled",!e.applicationNumber&&!e.vendorName&&!e.clientInvoiceNumber),d(2),m("disabled",!e.applicationNumber&&!e.clientInvoiceNumber&&!e.vendorName))},dependencies:[$,le,se,U,Y]});let a=r;return a})();var k3=["table"],A3=(a,r)=>r.id;function O3(a,r){if(a&1&&(o(0,"div",10)(1,"div",11)(2,"span"),s(3,"Created On"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",11)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",11)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",11)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l==null?null:l.creationDate,"dd-MM-yyyy")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l==null?null:l.lastUpdateOn,"dd-MM-yyyy")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function L3(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",5)(2,"span",6)(3,"u"),s(4),K(5,"date"),n()(),v(6,O3,23,10,"ng-template",null,1,te),n(),o(8,"td"),s(9),n(),o(10,"td"),s(11),K(12,"date"),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),K(33,"date"),n(),o(34,"td"),s(35),n(),o(36,"td"),s(37),n(),o(38,"td"),s(39),n(),o(40,"td",3)(41,"img",7),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewDispatchNote(i))}),n(),o(42,"button",8),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onEditDispatchNote(i))}),o(43,"img",9),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onEditDispatchNote(i))}),n()()()()}if(a&2){let l=r.$implicit,t=R(7);d(2),m("ngbTooltip",t),d(2),_(ee(5,18,l==null?null:l.invoiceDate,"dd-MM-yyyy")),d(5),_((l==null?null:l.clientInvoiceNo)||"-"),d(2),_(ee(12,21,l==null?null:l.dueDateAsPerInvoice,"dd-MM-yyyy")),d(3),_((l==null?null:l.vendorDetails.vendorName)||"-"),d(2),_((l==null?null:l.professionalFeeAmt)||"-"),d(2),_((l==null?null:l.govtOrOfficialFeeAmt)||"-"),d(2),_((l==null?null:l.otherChargesAmt)||"-"),d(2),_((l==null?null:l.discountAmt)||"-"),d(2),_((l==null?null:l.discountCreditNoteAmt)||"-"),d(2),_((l==null?null:l.totalAmount)||"-"),d(2),_((l==null?null:l.applicationNumber)||"-"),d(2),_((l==null?null:l.officialFilingReceiptSupporting)||"-"),d(2),_(ee(33,24,l==null?null:l.filingDate,"dd-MM-yyyy")),d(3),_((l==null?null:l.clientRefNo)||"-"),d(2),_((l==null?null:l.ourRefNo)||"-"),d(2),_((l==null?null:l.status)||"-"),d(3),m("disabled",(l==null?null:l.openFlag)=="Close")}}function B3(a,r){}function V3(a,r){a&1&&(o(0,"tr")(1,"td",12),s(2,"No Result Found"),n()())}var Du=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i,this.dispatchNotes=[],this.exportHeader=new W}onEditDispatchNote(t){this.router.navigate(["transaction/SalesInvoiceTxn",t.id])}onPreviewDispatchNote(t){let i=this.modalService.open(ja,{size:"",backdrop:"static"});i.componentInstance.dispatch=t,i.result.then(e=>{},e=>{})}ngOnChanges(t){t.dispatchNotes&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Actions"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-dispatch-note-grid-table1"]],viewQuery:function(i,e){if(i&1&&Le(k3,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{dispatchNotes:"dispatchNotes"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:44,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[1,"text-center"],[4,"ngIf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link","placement","top","ngbTooltip","Vendor Invoice",1,"me-2","pointer",3,"click"],["ngbTooltip","Edit","placement","top",1,"icon-button",3,"click","disabled"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){i&1&&(o(0,"div",2)(1,"table",null,0)(3,"thead")(4,"tr")(5,"th"),s(6,"Invoice Date"),n(),o(7,"th"),s(8,"Vendor Invoice No"),n(),o(9,"th"),s(10,"Due Date "),n(),o(11,"th"),s(12,"Vendor Name"),n(),o(13,"th"),s(14,"Total Prof Fees"),n(),o(15,"th"),s(16,"Total Govt Fees"),n(),o(17,"th"),s(18,"Others Fees"),n(),o(19,"th"),s(20,"Dicount Amount"),n(),o(21,"th"),s(22,"Credit Note Amount"),n(),o(23,"th"),s(24,"Total Amount"),n(),o(25,"th"),s(26,"Application No "),n(),o(27,"th"),s(28,"EPO Filing "),n(),o(29,"th"),s(30,"Filing Date"),n(),o(31,"th"),s(32,"Client Ref No."),n(),o(33,"th"),s(34,"Our Ref No."),n(),o(35,"th"),s(36,"Status"),n(),o(37,"th",3),s(38,"Actions"),n()()(),o(39,"tbody"),We(40,L3,44,27,"tr",null,A3,!1,B3,0,0),v(43,V3,3,0,"tr",4),n()()()),i&2&&(d(40),Ue(e.dispatchNotes),d(3),m("ngIf",e.dispatchNotes.length==0))},dependencies:[z,be,Se]});let a=r;return a})();var j3=a=>({"d-none":a}),G3=(a,r)=>({isFilters:a,fullScreen:r});function W3(a,r){a&1&&s(0," Full Screen ")}function U3(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function H3(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var Eu=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.dispatchNoteService=i,this.xlsxService=e,this.toastr=c,this.datePipe=p,this.fullScreen=!1,this.isFilters=!0,this.dispatchNumber="",this.dispatchNotes=[],this.locations=[],this.loadSpinner=!0,this.currentPage=1,this.count=10,this.totaldispatchNotes=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.headers=[]}ngOnInit(){this.getDispatchData()}getDispatchData(t=0,i=this.count,e=this.appliedFilters){let c={ApplicationNumber:e?.ApplicationNumber||"",ClientInvoiceNumber:e?.ClientInvoiceNumber,VendorName:e?.vendorName||""};this.loadSpinner=!0,this.dispatchNoteService.getDispatchNote(c,t,i).subscribe(p=>{this.dispatchNotes=p.vendorInvoiceTxns,this.totaldispatchNotes=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getDispatchData(0,this.count,this.appliedFilters)}onCreateDispatchNote(){this.router.navigate(["transaction/addEditVendorInvoice1/0"])}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getDispatchData(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getDispatchData(0,this.count,this.appliedFilters)}onExportHeader(t){this.headers=t}exportData(t="Vendor Invoice Details"){let i={ApplicationNumber:this.appliedFilters?.applicationNumber||"",ClientInvoiceNumber:this.appliedFilters?.clientInvoiceNumber||"",Status:this.appliedFilters?.Status||""};this.dispatchNoteService.getDispatchNote(i,0,this.totaldispatchNotes).subscribe(e=>{let p=e.vendorInvoiceTxns.map(h=>({"Invoice Date":h?.invoiceDate,"Client Invoice No":h?.clientInvoiceNo,"Due Date (Before)":this.datePipe.transform(h?.dueDateAsPerContract,"yyyy-MM-dd"),"Customer Name":h?.customerDetails?.customerName,Description:h?.description,Title:h?.title,"Prof Fee":h?.professionalFeeAmt,"Govt Fee":h?.govtOrOfficialFeeAmt,Discount:h?.discountAmt,"Total Amt":h?.totalAmount,"Discount (Credit Note)":h?.discountCreditNoteAmt,"Total Outstanding Amount":h?.paymentAmount,"Application No":h?.applicationNumber,"EPO Filing Received or Not":h?.officialFilingReceiptSupporting==="1"?"Yes":"No","Filing Date":h?.filingDate,"Client Ref No.":h?.clientRefNo,"Our Ref No.":h?.ourRefNo,"Customer PO No":h?.customerPONo,"PO Date":h?.pODate,"PO Value Inclusive of Taxes":h?.pOValueInclusiveTaxes,"Our Invoice No.":h?.clientInvoiceNo,"Invoice Amt In INR":h?.totalAmount,"Govt Fee Invoice No.":"-","Govt Fee (In Amt)":h?.govtOrOfficialFeeAmt,"Estimate No. (Prof Fee)":"-","Estimate No. (Govt Fee)":"-","Remarks For CA/Tally Posting":"-",Status:h?.status}));this.xlsxService.xlsxExport(p,Object.keys(p[0]),t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(oi),D(Je),D(Z),D(Se))},r.\u0275cmp=k({type:r,selectors:[["app-dispatch-note1"]],features:[Gt([Se])],decls:36,vars:24,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section",3,"ngClass"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","dispatchNotes"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2," Sales Invoice Txn "),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateDispatchNote())}),s(8,"Create Sales Invoice"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,W3,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-dispatch-note-filters1",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,U3,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-dispatch-note-grid-table1",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,H3,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(3),m("ngClass",ge(19,j3,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",$e(21,G3,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("dispatchNotes",e.dispatchNotes),d(2),m("collectionSize",e.totaldispatchNotes),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,xu,Du],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var yi=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t}updateStatus(t,i,e){return this.put(fp(t,i),e)}updateBiltiApprovalStatus(t,i,e){return this.put(Fp(t,i),e)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function z3(a,r){return this.pointChargesList.id}function q3(a,r){if(a&1&&(o(0,"div",13)(1,"div",14)(2,"span"),s(3,"Created On"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",14)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",14)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",14)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l==null?null:l.creationDate,"dd-MM-yyyy")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l==null?null:l.lastUpdateOn,"dd-MM-yyyy")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function Y3(a,r){if(a&1&&(o(0,"tr")(1,"td",11)(2,"span",12)(3,"u"),s(4),K(5,"date"),n()(),v(6,q3,23,10,"ng-template",null,0,te),n(),o(8,"td"),s(9),n(),o(10,"td"),s(11),n(),o(12,"td"),s(13),K(14,"date"),n(),o(15,"td"),s(16),n()()),a&2){let l=r.$implicit,t=R(7);d(2),m("ngbTooltip",t),d(2),_(ee(5,6,l==null?null:l.invoiceDate,"dd-MM-yyyy")),d(5),_((l==null?null:l.clientInvoiceNo)||"-"),d(2),_((l==null?null:l.vendorDetails.vendorName)||"-"),d(2),_(ee(14,9,l==null?null:l.dueDateAsPerInvoice,"dd-MM-yyyy")),d(3),_((l==null?null:l.totalAmount)||"-")}}function $3(a,r){}function Q3(a,r){a&1&&(o(0,"div",15),s(1,` Loading...
`),n())}var Tu=(()=>{let r=class r{constructor(t,i,e,c,p,h){this.pointChargeService=t,this.toastr=i,this.commonTransactionService=e,this._Activatedroute=c,this.lookupService=p,this.dispatchNoteService=h,this.loadSpinner=!1,this.selectedPointId=0,this.currentPage=1,this.count=10,this.totalPointCharge=0,this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.commonLocations=[],this.locationIds=[],this.locations=[]}ngOnInit(){this.getDispatchData()}ngOnChanges(t){t.searchedPoint.currentValue&&this.getDispatchData()}getDispatchData(t=0,i=this.count,e=this.searchedPoint){let c={ApplicationNumber:e?.ApplicationNumber||"",ClientInvoiceNumber:e?.ClientInvoiceNumber,Status:e?.status||"",VendorName:e?.vendors||""};this.loadSpinner=!0,this.dispatchNoteService.getDispatchNote(c,t,i).subscribe(p=>{this.pointChargesList=p.vendorInvoiceTxns,this.totalPointCharge=p.paging.total,this.filters=p.filters.VendorName,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getDispatchData(i,this.count,this.searchedPoint)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getDispatchData(0,this.count,this.searchedPoint)}selectPoint(t){this.selectedPointId=t}openPopover(t){t.open()}closePopover(t){t.close()}approvePoint(t,i,e){let c=this.approvalPayload("Approved",t);this.updateStatus(c,i,e)}rejectPoint(t,i,e){let c=this.approvalPayload("Rejected",t);this.updateStatus(c,i,e)}approvalPayload(t,i){return{approvalLevel:"Account",status:t,remarks:i,actionBy:localStorage.getItem("userId"),transactionCode:202}}updateStatus(t,i,e){this.loadSpinner=!0,this.commonTransactionService.updateStatus(e.locationId,this.selectedPointId,t).subscribe(c=>{this.pointData=c,this.loadSpinner=!1,this.toastr.success("Point Approval Updated Successfully"),i.close(),this.getDispatchData()},c=>{this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(ni),D(Z),D(yi),D(et),D(ye),D(oi))},r.\u0275cmp=k({type:r,selectors:[["app-point-master-accounts-grid-table"]],inputs:{searchedPoint:"searchedPoint"},features:[Be],decls:38,vars:14,consts:[["tipContent",""],[1,"grid-table"],[1,"table-container"],[1,"custom-table"],[1,"text-center"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,""],[1,"content-row"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"div",2)(2,"div",3)(3,"table")(4,"thead")(5,"tr")(6,"th"),s(7,"Invoice Date"),n(),o(8,"th"),s(9,"Invoice No"),n(),o(10,"th"),s(11,"Vendor Name"),n(),o(12,"th"),s(13,"Due Date "),n(),o(14,"th"),s(15,"Total Amount"),n(),o(16,"th",4),s(17,"Actions"),n()()(),o(18,"tbody"),We(19,Y3,17,12,"tr",null,z3,!0,$3,0,0),n()()()(),o(22,"div",5)(23,"ngb-pagination",6),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(24,"p",7),s(25," Items per page:"),n(),o(26,"select",8),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(27,"option",9),s(28,"5"),n(),o(29,"option",9),s(30,"10"),n(),o(31,"option",9),s(32,"15"),n(),o(33,"option",9),s(34,"20"),n(),o(35,"option",9),s(36,"All Data"),n()()()(),v(37,Q3,2,0,"div",10)),i&2&&(d(19),Ue(e.pointChargesList),d(4),m("collectionSize",e.totalPointCharge),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",5),d(2),m("value",10),d(2),m("value",15),d(2),m("value",20),d(2),m("value",e.maxCount),d(2),m("ngIf",e.loadSpinner))},dependencies:[z,be,me,ue,pe,U,Y,Ne,Se]});let a=r;return a})();function K3(a,r){if(a&1&&(o(0,"ng-option",11),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var wu=(()=>{let r=class r{constructor(t,i,e,c){this.pointChargeService=t,this.toastr=i,this.lookupService=e,this.dispatchNoteService=c,this.pointFilterObj=new W,this.pointName=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(p=>p.id),this.locations=j.commonLocationsList}ngOnInit(){this.getDispatchData()}getDispatchData(t=0,i=0,e=0){let c={ApplicationNumber:e?.ApplicationNumber||"",ClientInvoiceNumber:e?.ClientInvoiceNumber,Status:e?.status||"",VendorName:e?.vendors||""};this.dispatchNoteService.getDispatchNote(c,t,i).subscribe(p=>{this.filters=p.filters},p=>{})}onPointChargeSearch(){let t={pointName:this.pointName||"",locationIds:this.locationIds};this.pointFilterObj.emit(t)}onClearFilter(){this.pointName=void 0,this.locationIds=this.locationIds;let t={pointName:"",locationIds:this.locationIds};this.pointFilterObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ni),D(Z),D(ye),D(oi))},r.\u0275cmp=k({type:r,selectors:[["app-point-master-accounts-filter"]],outputs:{pointFilterObj:"pointFilterObj"},decls:16,vars:4,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Vendor",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Vendor Name"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.pointName,p)||(e.pointName=p),p}),v(7,K3,2,2,"ng-option",6),n()()(),o(8,"div",7)(9,"div",3)(10,"label",8),s(11,"\xA0"),n(),o(12,"button",9),g("click",function(){return e.onPointChargeSearch()}),s(13,"Search"),n(),o(14,"button",10),g("click",function(){return e.onClearFilter()}),s(15,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.pointName),d(),m("ngForOf",e.filters==null?null:e.filters.Vendors),d(5),m("disabled",e.locationIds.length==0&&!e.pointName),d(2),m("disabled",e.locationIds.length&&!e.pointName))},dependencies:[$,le,se,U,Y]});let a=r;return a})();var X3=a=>({"d-none":a}),eI=a=>({isFilters:a}),Iu=(()=>{let r=class r{constructor(){this.isFilters=!0}searchPointName(t){this.searchedPoint=t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-point-master-accounts"]],decls:7,vars:7,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"pointFilterObj"],[1,"content-section",3,"ngClass"],[3,"searchedPoint"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Payment Management"),n()(),o(3,"div",1)(4,"app-point-master-accounts-filter",2),g("pointFilterObj",function(p){return e.searchPointName(p)}),n()(),o(5,"div",3),E(6,"app-point-master-accounts-grid-table",4),n()),i&2&&(d(3),m("ngClass",ge(3,X3,!e.isFilters)),d(2),m("ngClass",ge(5,eI,e.isFilters)),d(),m("searchedPoint",e.searchedPoint))},dependencies:[ae,Tu,wu],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();function tI(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function iI(a,r){if(a&1){let l=O();o(0,"div",12)(1,"div",13)(2,"label",5),s(3,"Location Code"),n(),o(4,"ng-select",14),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,tI,2,2,"ng-option",7),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function nI(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Nu=(()=>{let r=class r{constructor(t,i,e){this.pointChargeService=t,this.toastr=i,this.lookupService=e,this.pointFilterObj=new W,this.pointName=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(c=>c.id),this.locations=j.commonLocationsList,this.locationsData=new W}ngOnInit(){this.getAllPointChargesList()}getAllPointChargesList(){let t={screenCode:102,pointName:"",locationIds:[]};this.pointChargeService.getPointCharges(t).subscribe(i=>{this.filters=i.filters},i=>{})}onPointChargeSearch(){let t={pointName:this.pointName||"",locationIds:this.locationIds};this.pointFilterObj.emit(t)}onClearFilter(){this.pointName=void 0,this.locationIds=this.locationIds;let t={pointName:"",locationIds:this.locationIds};this.pointFilterObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ni),D(Z),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-point-master-material-filter"]],outputs:{pointFilterObj:"pointFilterObj",locationsData:"locationsData"},decls:17,vars:5,consts:[[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Point Name",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[1,"col-lg-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,iI,6,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Point Name"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.pointName,p)||(e.pointName=p),p}),v(8,nI,2,2,"ng-option",7),n()()(),o(9,"div",8)(10,"div",4)(11,"label",9),s(12,"\xA0"),n(),o(13,"button",10),g("click",function(){return e.onPointChargeSearch()}),s(14,"Search"),n(),o(15,"button",11),g("click",function(){return e.onClearFilter()}),s(16,"Clear"),n()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.pointName),d(),m("ngForOf",e.filters==null?null:e.filters.PointName),d(5),m("disabled",e.locationIds.length==0&&!e.pointName),d(2),m("disabled",e.locationIds.length&&!e.pointName))},dependencies:[$,z,le,se,U,Y]});let a=r;return a})();var rI=(a,r)=>r.id;function aI(a,r){if(a&1&&(o(0,"div",28)(1,"div",29)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",29)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",29)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",29)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l==null?null:l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l==null?null:l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function lI(a,r){if(a&1){let l=O();o(0,"div",30),E(1,"textarea",31,6),n(),o(3,"button",32),g("click",function(){b(l);let i=R(2),e=S().$implicit,c=R(19),p=S();return y(p.approvePoint(i.value,c,e))}),s(4," Confirm Approve "),n()}}function sI(a,r){if(a&1){let l=O();o(0,"div",30),E(1,"textarea",31,7),n(),o(3,"button",33),g("click",function(){b(l);let i=R(2),e=S().$implicit,c=R(22),p=S();return y(p.rejectPoint(i.value,c,e))}),s(4," Confirm Reject "),n()}if(a&2){let l=R(2);d(3),m("disabled",l.value.trim()==="")}}function dI(a,r){a&1&&s(0,"Remarks")}function cI(a,r){if(a&1){let l=O();o(0,"tr")(1,"td"),s(2),n(),o(3,"td",18)(4,"span",19)(5,"u"),s(6),n()(),v(7,aI,23,10,"ng-template",null,0,te),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td")(14,"button",20),g("click",function(){let i=b(l).$implicit,e=S();return y(e.openPDF(i))}),o(15,"div",21),E(16,"img",22),n()()(),o(17,"td",23),g("click",function(){let i=b(l).$implicit,e=S();return y(e.selectPoint(i.id))}),o(18,"button",24,1),g("click",function(){b(l);let i=R(19),e=S();return y(e.openPopover(i))}),s(20," Approve "),n(),o(21,"button",25,2),g("click",function(){b(l);let i=R(22),e=S();return y(e.openPopover(i))}),s(23," Reject "),n(),v(24,lI,5,0,"ng-template",26,3,te)(26,sI,5,1,"ng-template",27,4,te)(28,dI,1,0,"ng-template",null,5,te),n()()}if(a&2){let l=r.$implicit,t=R(8),i=R(25),e=R(27),c=R(29);d(2),_(l==null||l.locations==null?null:l.locations.value),d(2),m("ngbTooltip",t),d(2),_(l.pointName),d(4),_(l!=null&&l.newPointCharge&&(l==null?null:l.newPointCharge)!=0?l==null?null:l.newPointCharge:(l==null?null:l.pointCharge)||"-"),d(2),_(l!=null&&l.newSameLocationCharge&&(l==null?null:l.newSameLocationCharge)!=0?l==null?null:l.newSameLocationCharge:(l==null?null:l.sameLocationCharge)||"-"),d(6),m("ngbPopover",i)("popoverTitle",c)("autoClose","outside"),d(3),m("ngbPopover",e)("popoverTitle",c)("autoClose","outside")}}function pI(a,r){a&1&&(o(0,"tr")(1,"td",34),s(2,"No Results Found"),n()())}function mI(a,r){a&1&&(o(0,"div",35),s(1,` Loading...
`),n())}var Fu=(()=>{let r=class r{constructor(t,i,e,c,p){this.pointChargeService=t,this.toastr=i,this.commonTransactionService=e,this._Activatedroute=c,this.lookupService=p,this.loadSpinner=!1,this.selectedPointId=0,this.currentPage=1,this.count=10,this.totalPointCharge=0,this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.commonLocations=[],this.locationIds=[],this.locations=[]}ngOnInit(){this.getAllPointChargesList()}ngOnChanges(t){t.searchedPoint.currentValue&&this.getAllPointChargesList()}getAllPointChargesList(t=0,i=this.count,e=this.searchedPoint){this.loadSpinner=!0;let c={screenCode:102,pointName:e?.pointName||"",locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id)};this.pointChargeService.getPointCharges(c,t,i).subscribe(p=>{this.pointChargesList=p.pointCharges,this.totalPointCharge=p.paging.total,this.selectPoint(this.selectedPointId),this.loadSpinner=!1},p=>{this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllPointChargesList(i,this.count,this.searchedPoint)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllPointChargesList(0,this.count,this.searchedPoint)}selectPoint(t){this.selectedPointId=t}openPopover(t){t.open()}closePopover(t){t.close()}approvePoint(t,i,e){let c=this.approvalPayload("Approved",t);this.updateStatus(c,i,e)}rejectPoint(t,i,e){let c=this.approvalPayload("Rejected",t);this.updateStatus(c,i,e)}approvalPayload(t,i){return{approvalLevel:"Material",status:t,remarks:i,actionBy:localStorage.getItem("userId"),transactionCode:202}}updateStatus(t,i,e){this.loadSpinner=!0,this.commonTransactionService.updateStatus(e.locationId,this.selectedPointId,t).subscribe(c=>{this.pointData=c,this.loadSpinner=!1,this.toastr.success("Point Approval Updated Successfully"),i.close(),this.getAllPointChargesList()},c=>{this.loadSpinner=!1})}openPDF(t){this.loadSpinner=!0,this.pointChargeService.getContractById(t?.locationId,t?.id).subscribe(i=>{if(!i.fileData){this.toastr.error("No PDF is available to view","Error"),this.loadSpinner=!1;return}let e="data:application/pdf;base64,",c=i.fileData.startsWith(e)?i.fileData.substring(e.length):i.fileData,p=atob(c),h=new Array(p.length);for(let V=0;V<p.length;V++)h[V]=p.charCodeAt(V);let w=new Uint8Array(h),N=new Blob([w],{type:"application/pdf"}),L=window.URL.createObjectURL(N);window.open(L,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(L),100),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(ni),D(Z),D(yi),D(et),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-point-master-material-grid-table"]],inputs:{searchedPoint:"searchedPoint"},features:[Be],decls:38,vars:14,consts:[["tipContent",""],["approvePopover","ngbPopover"],["rejectPopover","ngbPopover"],["approvePopContent",""],["rejectPopContent",""],["popTitle",""],["approveRemarks",""],["rejectRemarks",""],[1,"grid-table"],[1,"table-container"],[1,"custom-table"],[1,"text-center"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["ngbTooltip","Contract Attachment","placement","top",1,"icon-button","mt-2",3,"click"],[1,"img-container"],["src","assets/images/icons/link.svg","alt","link",1,"ms-5","pointer"],[1,"text-center","d-flex","justify-content-center",3,"click"],["type","button","triggers","manual","placement","left",1,"custom-button-secondary-small","me-2",3,"click","ngbPopover","popoverTitle","autoClose"],["type","button","triggers","manual","placement","left",1,"custom-button-regulr-small",3,"click","ngbPopover","popoverTitle","autoClose"],["approveRemarks","ngbPopover"],["rejectRemarks","ngbPopover"],[1,""],[1,"content-row"],[1,"custom-form-input"],["name","","id","","rows","3","maxlength","150",1,"input-field"],[1,"custom-button-secondary",3,"click"],[1,"custom-button-regulr",3,"click","disabled"],["align","center","colspan","13"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",8)(1,"div",9)(2,"div",10)(3,"table")(4,"thead")(5,"tr")(6,"th"),s(7,"Location Code"),n(),o(8,"th"),s(9,"Point Name"),n(),o(10,"th"),s(11,"Point Charge"),n(),o(12,"th"),s(13,"Same Location Charge"),n(),o(14,"th"),s(15,"Contract Attachment"),n(),o(16,"th",11),s(17,"Actions"),n()()(),o(18,"tbody"),We(19,cI,30,11,"tr",null,rI,!1,pI,3,0,"tr"),n()()()(),o(22,"div",12)(23,"ngb-pagination",13),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(24,"p",14),s(25," Items per page:"),n(),o(26,"select",15),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(27,"option",16),s(28,"5"),n(),o(29,"option",16),s(30,"10"),n(),o(31,"option",16),s(32,"15"),n(),o(33,"option",16),s(34,"20"),n(),o(35,"option",16),s(36,"All Data"),n()()()(),v(37,mI,2,0,"div",17)),i&2&&(d(19),Ue(e.pointChargesList),d(4),m("collectionSize",e.totalPointCharge),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",5),d(2),m("value",10),d(2),m("value",15),d(2),m("value",20),d(2),m("value",e.maxCount),d(2),m("ngIf",e.loadSpinner))},dependencies:[z,be,ii,me,ue,pe,U,Y,Ne,Se]});let a=r;return a})();var hI=a=>({"d-none":a}),gI=a=>({isFilters:a}),Mu=(()=>{let r=class r{constructor(){this.isFilters=!0}searchPointName(t){this.searchedPoint=t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-point-master-material"]],decls:7,vars:7,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"pointFilterObj"],[1,"content-section",3,"ngClass"],[3,"searchedPoint"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Point Master By Material"),n()(),o(3,"div",1)(4,"app-point-master-material-filter",2),g("pointFilterObj",function(p){return e.searchPointName(p)}),n()(),o(5,"div",3),E(6,"app-point-master-material-grid-table",4),n()),i&2&&(d(3),m("ngClass",ge(3,hI,!e.isFilters)),d(2),m("ngClass",ge(5,gI,e.isFilters)),d(),m("searchedPoint",e.searchedPoint))},dependencies:[ae,Nu,Fu],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();function fI(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function _I(a,r){if(a&1){let l=O();o(0,"div",12)(1,"div",13)(2,"label",5),s(3,"Location Code"),n(),o(4,"ng-select",14),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,fI,2,2,"ng-option",7),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function vI(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Pu=(()=>{let r=class r{constructor(t,i,e){this.freightService=t,this.toastr=i,this.lookupService=e,this.freightFilterObj=new W,this.freightCode=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(c=>c.id),this.locations=j.commonLocationsList}ngOnInit(){this.getAllFreightsListInit()}getAllFreightsListInit(){let t={screenCode:102,freightCode:"",locationIds:[]};this.freightService.getFreightsList(t).subscribe(i=>{this.filters=i.filters},i=>{})}onFreightSearch(){let t={freightCode:this.freightCode||"",locationIds:this.locationIds};this.freightFilterObj.emit(t)}onClearFilter(){this.freightCode=void 0,this.locationIds=this.locationIds;let t={freightCode:"",locationIds:this.locationIds};this.freightFilterObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D($t),D(Z),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-freight-master-material-filter"]],outputs:{freightFilterObj:"freightFilterObj"},decls:17,vars:5,consts:[[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Freight",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[1,"col-lg-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,_I,6,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Freight Code"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.freightCode,p)||(e.freightCode=p),p}),v(8,vI,2,2,"ng-option",7),n()()(),o(9,"div",8)(10,"div",4)(11,"label",9),s(12,"\xA0"),n(),o(13,"button",10),g("click",function(){return e.onFreightSearch()}),s(14,"Search"),n(),o(15,"button",11),g("click",function(){return e.onClearFilter()}),s(16,"Clear"),n()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.freightCode),d(),m("ngForOf",e.filters==null?null:e.filters.FreightCode),d(5),m("disabled",e.locationIds.length==0&&!e.freightCode),d(2),m("disabled",e.locationIds&&!e.freightCode))},dependencies:[$,z,le,se,U,Y]});let a=r;return a})();var yI=(a,r)=>r.id;function CI(a,r){if(a&1&&(o(0,"div",28)(1,"div",29)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",29)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",29)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",29)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l==null?null:l.creationDate,"yyyy-MM-dd")),d(6),_((l==null||l.createdByDetails==null?null:l.createdByDetails.name)||"-"),d(5),_(ee(17,7,l==null?null:l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function SI(a,r){if(a&1){let l=O();o(0,"div",30),E(1,"textarea",31,6),n(),o(3,"button",32),g("click",function(){b(l);let i=R(2),e=S().$implicit,c=R(25),p=S();return y(p.approveFreight(i.value,c,e))}),s(4," Confirm Approve "),n()}}function xI(a,r){if(a&1){let l=O();o(0,"div",30),E(1,"textarea",31,7),n(),o(3,"button",33),g("click",function(){b(l);let i=R(2),e=S().$implicit,c=R(28),p=S();return y(p.rejectFreight(i.value,c,e))}),s(4," Confirm Reject "),n()}if(a&2){let l=R(2);d(3),m("disabled",l.value.trim()==="")}}function DI(a,r){a&1&&s(0,"Remarks")}function EI(a,r){if(a&1){let l=O();o(0,"tr")(1,"td"),s(2),n(),o(3,"td",18)(4,"span",19)(5,"u"),s(6),n()(),v(7,CI,23,10,"ng-template",null,0,te),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td")(20,"button",20),g("click",function(){let i=b(l).$implicit,e=S();return y(e.viewAttachment(i))}),o(21,"div",21),E(22,"img",22),n()()(),o(23,"td",23),g("click",function(){let i=b(l).$implicit,e=S();return y(e.selectFreight(i.id))}),o(24,"button",24,1),g("click",function(){b(l);let i=R(25),e=S();return y(e.openPopover(i))}),s(26," Approve "),n(),o(27,"button",25,2),g("click",function(){b(l);let i=R(28),e=S();return y(e.openPopover(i))}),s(29," Reject "),n(),v(30,SI,5,0,"ng-template",26,3,te)(32,xI,5,1,"ng-template",27,4,te)(34,DI,1,0,"ng-template",null,5,te),n()()}if(a&2){let l=r.$implicit,t=R(8),i=R(31),e=R(33),c=R(35);d(2),_(l==null||l.locations==null?null:l.locations.value),d(2),m("ngbTooltip",t),d(2),_((l==null?null:l.freightCode)||"-"),d(4),_((l==null||l.source==null?null:l.source.value)||"-"),d(2),_((l==null||l.destination==null?null:l.destination.value)||"-"),d(2),_((l==null||l.vehicleSize==null?null:l.vehicleSize.value)||"-"),d(2),_(l!=null&&l.newFreightAmount&&(l==null?null:l.newFreightAmount)!=0?l==null?null:l.newFreightAmount:(l==null?null:l.freightAmount)||"-"),d(2),_((l==null?null:l.remarks)||"-"),d(6),m("ngbPopover",i)("popoverTitle",c)("autoClose","outside"),d(3),m("ngbPopover",e)("popoverTitle",c)("autoClose","outside")}}function TI(a,r){a&1&&(o(0,"tr")(1,"td",34),s(2,"Results Not Found"),n()())}function wI(a,r){a&1&&(o(0,"div",35),s(1,` Loading...
`),n())}var ku=(()=>{let r=class r{constructor(t,i,e,c,p){this.freightService=t,this.toastr=i,this.commonTransactionService=e,this._Activatedroute=c,this.lookupService=p,this.loadSpinner=!1,this.selectedFreightId=0,this.currentPage=1,this.count=10,this.totalFreight=0,this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.commonLocations=[],this.locationIds=[],this.locations=[]}ngOnInit(){this.getAllFreightListInit()}ngOnChanges(t){t.searchedFreight.currentValue&&this.getAllFreightListInit()}getAllFreightListInit(t=0,i=this.count,e=this.searchedFreight){this.loadSpinner=!0;let c={screenCode:102,freightCode:e?.freightCode||"",locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id)};this.freightService.getFreightsList(c,t,i).subscribe(p=>{this.freightList=p.freights,this.totalFreight=p.paging.total,this.selectFreight(this.selectedFreightId),this.loadSpinner=!1},p=>{this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllFreightListInit(i,this.count,this.searchedFreight)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllFreightListInit(0,this.count,this.searchedFreight)}selectFreight(t){this.selectedFreightId=t}openPopover(t){t.open()}closePopover(t){t.close()}approveFreight(t,i,e){let c=this.approvalPayload("Approved",t);this.updateStatus(c,i,e)}rejectFreight(t,i,e){let c=this.approvalPayload("Rejected",t);this.updateStatus(c,i,e)}approvalPayload(t,i){return{approvalLevel:"Material",status:t,remarks:i,actionBy:localStorage.getItem("userId"),transactionCode:201}}updateStatus(t,i,e){this.loadSpinner=!0,this.commonTransactionService.updateStatus(e.locationId,this.selectedFreightId,t).subscribe(c=>{this.freightData=c,this.loadSpinner=!1,this.toastr.success("Freight Approval Updated Successfully"),i.close(),this.getAllFreightListInit()},c=>{this.loadSpinner=!1})}viewAttachment(t){this.loadSpinner=!0,this.freightService.getContractById(t?.locationId,t?.id).subscribe(i=>{if(!i.fileData){this.toastr.error("No PDF is available to view","Error"),this.loadSpinner=!1;return}let e="data:application/pdf;base64,",c=i.fileData.startsWith(e)?i.fileData.substring(e.length):i.fileData,p=atob(c),h=new Array(p.length);for(let V=0;V<p.length;V++)h[V]=p.charCodeAt(V);let w=new Uint8Array(h),N=new Blob([w],{type:"application/pdf"}),L=window.URL.createObjectURL(N);window.open(L,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(L),100),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D($t),D(Z),D(yi),D(et),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-freight-master-material-grid-table"]],inputs:{searchedFreight:"searchedFreight"},features:[Be],decls:44,vars:14,consts:[["tipContent",""],["approvePopover","ngbPopover"],["rejectPopover","ngbPopover"],["approvePopContent",""],["rejectPopContent",""],["popTitle",""],["approveRemarks",""],["rejectRemarks",""],[1,"grid-table"],[1,"table-container"],[1,"custom-table"],[1,"text-center"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["ngbTooltip","Contract Attachment","placement","top",1,"icon-button","mt-2",3,"click"],[1,"img-container"],["src","assets/images/icons/link.svg","alt","link",1,"me-2","pointer"],[1,"text-center","d-flex","justify-content-center",3,"click"],["type","button","triggers","manual","placement","left",1,"custom-button-secondary-small","me-2",3,"click","ngbPopover","popoverTitle","autoClose"],["type","button","triggers","manual","placement","left",1,"custom-button-regulr-small",3,"click","ngbPopover","popoverTitle","autoClose"],["approveRemarks","ngbPopover"],["rejectRemarks","ngbPopover"],[1,""],[1,"content-row"],[1,"custom-form-input"],["name","","id","","rows","3","maxlength","150",1,"input-field"],[1,"custom-button-secondary",3,"click"],[1,"custom-button-regulr",3,"click","disabled"],["align","center","colspan","13"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",8)(1,"div",9)(2,"div",10)(3,"table")(4,"thead")(5,"tr")(6,"th"),s(7,"Location Code"),n(),o(8,"th"),s(9,"Freight Code"),n(),o(10,"th"),s(11,"Source"),n(),o(12,"th"),s(13,"Destination"),n(),o(14,"th"),s(15,"Vehicle Size"),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Remarks"),n(),o(20,"th"),s(21,"Contract Attachment"),n(),o(22,"th",11),s(23,"Actions"),n()()(),o(24,"tbody"),We(25,EI,36,14,"tr",null,yI,!1,TI,3,0,"tr"),n()()()(),o(28,"div",12)(29,"ngb-pagination",13),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(30,"p",14),s(31," Items per page:"),n(),o(32,"select",15),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(33,"option",16),s(34,"5"),n(),o(35,"option",16),s(36,"10"),n(),o(37,"option",16),s(38,"15"),n(),o(39,"option",16),s(40,"20"),n(),o(41,"option",16),s(42,"All Data"),n()()()(),v(43,wI,2,0,"div",17)),i&2&&(d(25),Ue(e.freightList),d(4),m("collectionSize",e.totalFreight),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",5),d(2),m("value",10),d(2),m("value",15),d(2),m("value",20),d(2),m("value",e.maxCount),d(2),m("ngIf",e.loadSpinner))},dependencies:[z,be,ii,me,ue,pe,U,Y,Ne,Se]});let a=r;return a})();var NI=a=>({"d-none":a}),FI=a=>({isFilters:a}),Au=(()=>{let r=class r{constructor(){this.isFilters=!0}searchFreightCode(t){this.searchedFreight=t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-freight-master-material"]],decls:7,vars:7,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"freightFilterObj"],[1,"content-section",3,"ngClass"],[3,"searchedFreight"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Freight Master By Material"),n()(),o(3,"div",1)(4,"app-freight-master-material-filter",2),g("freightFilterObj",function(p){return e.searchFreightCode(p)}),n()(),o(5,"div",3),E(6,"app-freight-master-material-grid-table",4),n()),i&2&&(d(3),m("ngClass",ge(3,NI,!e.isFilters)),d(2),m("ngClass",ge(5,FI,e.isFilters)),d(),m("searchedFreight",e.searchedFreight))},dependencies:[ae,Pu,ku],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();function MI(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function PI(a,r){if(a&1){let l=O();o(0,"div",12)(1,"div",13)(2,"label",5),s(3,"Location Code"),n(),o(4,"ng-select",14),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,MI,2,2,"ng-option",7),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function kI(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Ou=(()=>{let r=class r{constructor(t,i,e){this.freightService=t,this.toastr=i,this.lookupService=e,this.freightFilterObj=new W,this.freightCode=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(c=>c.id),this.locations=j.commonLocationsList}ngOnInit(){this.getAllFreightsListInit()}getAllFreightsListInit(){let t={screenCode:103,freightCode:"",locationIds:[]};this.freightService.getFreightsList(t).subscribe(i=>{this.filters=i.filters},i=>{})}onFreightSearch(){let t={freightCode:this.freightCode||"",locationIds:this.locationIds};this.freightFilterObj.emit(t)}onClearFilter(){this.freightCode=void 0,this.locationIds=this.locationIds;let t={freightCode:"",locationIds:this.locationIds};this.freightFilterObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D($t),D(Z),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-freight-master-accounts-filter"]],outputs:{freightFilterObj:"freightFilterObj"},decls:17,vars:5,consts:[[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Freight",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click","disabled"],[1,"col-lg-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1),v(2,PI,6,4,"div",2),o(3,"div",3)(4,"div",4)(5,"label",5),s(6,"Freight Code"),n(),o(7,"ng-select",6),P("ngModelChange",function(p){return M(e.freightCode,p)||(e.freightCode=p),p}),v(8,kI,2,2,"ng-option",7),n()()(),o(9,"div",8)(10,"div",4)(11,"label",9),s(12,"\xA0"),n(),o(13,"button",10),g("click",function(){return e.onFreightSearch()}),s(14,"Search"),n(),o(15,"button",11),g("click",function(){return e.onClearFilter()}),s(16,"Clear"),n()()()()()),i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(5),F("ngModel",e.freightCode),d(),m("ngForOf",e.filters==null?null:e.filters.FreightCode),d(5),m("disabled",e.locationIds.length==0&&!e.freightCode),d(2),m("disabled",e.locationIds.length&&!e.freightCode))},dependencies:[$,z,le,se,U,Y]});let a=r;return a})();function OI(a,r){if(a&1&&(o(0,"div",29)(1,"div",30)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",30)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",30)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",30)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l==null?null:l.creationDate,"yyyy-MM-dd")),d(6),_((l==null||l.createdByDetails==null?null:l.createdByDetails.name)||"-"),d(5),_(ee(17,7,l==null?null:l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function LI(a,r){if(a&1){let l=O();o(0,"div",31),E(1,"textarea",32,6),n(),o(3,"button",33),g("click",function(){b(l);let i=R(2),e=S().$implicit,c=R(25),p=S();return y(p.approveFreight(i.value,c,e))}),s(4," Confirm Approve "),n()}}function BI(a,r){if(a&1){let l=O();o(0,"div",31),E(1,"textarea",32,7),n(),o(3,"button",34),g("click",function(){b(l);let i=R(2),e=S().$implicit,c=R(28),p=S();return y(p.rejectFreight(i.value,c,e))}),s(4," Confirm Reject "),n()}if(a&2){let l=R(2);d(3),m("disabled",l.value.trim()==="")}}function VI(a,r){a&1&&s(0,"Remarks")}function RI(a,r){if(a&1){let l=O();o(0,"tr")(1,"td"),s(2),n(),o(3,"td",19)(4,"span",20)(5,"u"),s(6),n()(),v(7,OI,23,10,"ng-template",null,0,te),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td")(20,"button",21),g("click",function(){let i=b(l).$implicit,e=S();return y(e.viewAttachment(i))}),o(21,"div",22),E(22,"img",23),n()()(),o(23,"td",24),g("click",function(){let i=b(l).$implicit,e=S();return y(e.selectFreight(i.id))}),o(24,"button",25,1),g("click",function(){b(l);let i=R(25),e=S();return y(e.openPopover(i))}),s(26," Approve "),n(),o(27,"button",26,2),g("click",function(){b(l);let i=R(28),e=S();return y(e.openPopover(i))}),s(29," Reject "),n(),v(30,LI,5,0,"ng-template",27,3,te)(32,BI,5,1,"ng-template",28,4,te)(34,VI,1,0,"ng-template",null,5,te),n()()}if(a&2){let l=r.$implicit,t=R(8),i=R(31),e=R(33),c=R(35);d(2),_(l==null||l.locations==null?null:l.locations.value),d(2),m("ngbTooltip",t),d(2),_((l==null?null:l.freightCode)||"-"),d(4),_((l==null||l.source==null?null:l.source.value)||"-"),d(2),_((l==null||l.destination==null?null:l.destination.value)||"-"),d(2),_((l==null||l.vehicleSize==null?null:l.vehicleSize.value)||"-"),d(2),_(l!=null&&l.newFreightAmount&&(l==null?null:l.newFreightAmount)!=0?l==null?null:l.newFreightAmount:(l==null?null:l.freightAmount)||"-"),d(2),_((l==null?null:l.remarks)||"-"),d(6),m("ngbPopover",i)("popoverTitle",c)("autoClose","outside"),d(3),m("ngbPopover",e)("popoverTitle",c)("autoClose","outside")}}function jI(a,r){a&1&&(o(0,"div",35),s(1,` Loading...
`),n())}var Lu=(()=>{let r=class r{constructor(t,i,e,c,p){this.freightService=t,this.toastr=i,this.commonTransactionService=e,this._Activatedroute=c,this.lookupService=p,this.loadSpinner=!1,this.selectedFreightId=0,this.currentPage=1,this.count=10,this.totalFreight=0,this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.commonLocations=[],this.locationIds=[],this.locations=[]}ngOnInit(){this.getAllFreightListInit()}ngOnChanges(t){t.searchedFreight.currentValue&&this.getAllFreightListInit()}getAllFreightListInit(t=0,i=this.count,e=this.searchedFreight){this.loadSpinner=!0;let c={screenCode:103,freightCode:e?.freightCode||"",locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id)};this.freightService.getFreightsList(c,t,i).subscribe(p=>{this.freightList=p.freights,this.totalFreight=p.paging.total,this.selectFreight(this.selectedFreightId),this.loadSpinner=!1},p=>{this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllFreightListInit(i,this.count,this.searchedFreight)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllFreightListInit(0,this.count,this.searchedFreight)}selectFreight(t){this.selectedFreightId=t}openPopover(t){t.open()}closePopover(t){t.close()}approveFreight(t,i,e){let c=this.approvalPayload("Approved",t);this.updateStatus(c,i,e)}rejectFreight(t,i,e){let c=this.approvalPayload("Rejected",t);this.updateStatus(c,i,e)}approvalPayload(t,i){return{approvalLevel:"Accounts",status:t,remarks:i,actionBy:localStorage.getItem("userId"),transactionCode:201}}updateStatus(t,i,e){this.loadSpinner=!0,this.commonTransactionService.updateStatus(e.locationId,this.selectedFreightId,t).subscribe(c=>{this.freightData=c,this.loadSpinner=!1,this.toastr.success("Freight Approval Updated Successfully"),i.close(),this.getAllFreightListInit()},c=>{this.loadSpinner=!1})}viewAttachment(t){this.loadSpinner=!0,this.freightService.getContractById(t?.locationId,t?.id).subscribe(i=>{if(!i.fileData){this.toastr.error("No PDF is available to view","Error"),this.loadSpinner=!1;return}let e="data:application/pdf;base64,",c=i.fileData.startsWith(e)?i.fileData.substring(e.length):i.fileData,p=atob(c),h=new Array(p.length);for(let V=0;V<p.length;V++)h[V]=p.charCodeAt(V);let w=new Uint8Array(h),N=new Blob([w],{type:"application/pdf"}),L=window.URL.createObjectURL(N);window.open(L,"_blank"),setTimeout(()=>window.URL.revokeObjectURL(L),100),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D($t),D(Z),D(yi),D(et),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-freight-master-accounts-grid-table"]],inputs:{searchedFreight:"searchedFreight"},features:[Be],decls:42,vars:14,consts:[["tipContent",""],["approvePopover","ngbPopover"],["rejectPopover","ngbPopover"],["approvePopContent",""],["rejectPopContent",""],["popTitle",""],["approveRemarks",""],["rejectRemarks",""],[1,"grid-table"],[1,"table-container"],[1,"custom-table"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["ngbTooltip","Contract Attachment","placement","top",1,"icon-button","mt-2",3,"click"],[1,"img-container"],["src","assets/images/icons/link.svg","alt","link",1,"me-2","pointer"],[1,"text-center","d-flex","justify-content-center",3,"click"],["type","button","triggers","manual","placement","left",1,"custom-button-secondary-small","me-2",3,"click","ngbPopover","popoverTitle","autoClose"],["type","button","triggers","manual","placement","left",1,"custom-button-regulr-small",3,"click","ngbPopover","popoverTitle","autoClose"],["approveRemarks","ngbPopover"],["rejectRemarks","ngbPopover"],[1,""],[1,"content-row"],[1,"custom-form-input"],["name","","id","","rows","3","maxlength","150",1,"input-field"],[1,"custom-button-secondary",3,"click"],[1,"custom-button-regulr",3,"click","disabled"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",8)(1,"div",9)(2,"div",10)(3,"table")(4,"thead")(5,"tr")(6,"th"),s(7,"Location Code"),n(),o(8,"th"),s(9,"Freight Code"),n(),o(10,"th"),s(11,"Source"),n(),o(12,"th"),s(13,"Destination"),n(),o(14,"th"),s(15,"Vehicle Size"),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Remarks"),n(),o(20,"th"),s(21,"Contract Attachment"),n(),o(22,"th",11),s(23,"Actions"),n()()(),o(24,"tbody"),v(25,RI,36,14,"tr",12),n()()()(),o(26,"div",13)(27,"ngb-pagination",14),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(28,"p",15),s(29," Items per page:"),n(),o(30,"select",16),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(31,"option",17),s(32,"5"),n(),o(33,"option",17),s(34,"10"),n(),o(35,"option",17),s(36,"15"),n(),o(37,"option",17),s(38,"20"),n(),o(39,"option",17),s(40,"All Data"),n()()()(),v(41,jI,2,0,"div",18)),i&2&&(d(25),m("ngForOf",e.freightList),d(2),m("collectionSize",e.totalFreight),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",5),d(2),m("value",10),d(2),m("value",15),d(2),m("value",20),d(2),m("value",e.maxCount),d(2),m("ngIf",e.loadSpinner))},dependencies:[$,z,be,ii,me,ue,pe,U,Y,Ne,Se]});let a=r;return a})();var WI=a=>({"d-none":a}),UI=a=>({isFilters:a}),Bu=(()=>{let r=class r{constructor(){this.isFilters=!0}searchFreightCode(t){this.searchedFreight=t}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-freight-master-accounts"]],decls:7,vars:7,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"freightFilterObj"],[1,"content-section",3,"ngClass"],[3,"searchedFreight"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Freight Master By Accounts"),n()(),o(3,"div",1)(4,"app-freight-master-accounts-filter",2),g("freightFilterObj",function(p){return e.searchFreightCode(p)}),n()(),o(5,"div",3),E(6,"app-freight-master-accounts-grid-table",4),n()),i&2&&(d(3),m("ngClass",ge(3,WI,!e.isFilters)),d(2),m("ngClass",ge(5,UI,e.isFilters)),d(),m("searchedFreight",e.searchedFreight))},dependencies:[ae,Ou,Lu],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();var Ga=Si(Tn());var St=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getBiltiBillProcess(t,i=0,e=this.maxCount){return this.post(Tp(i,e),t)}getBiltiBillProcessbyId(t=0,i){return this.get(wp(t,i))}createBiltiBillProcess(t=0,i){return this.post(Ip(t),i)}updateBiltiBillProcess(t=0,i,e){return this.put(Np(t,i),e)}getBiltiApprovalData(t){return this.post(Pp(t),t)}createApOutbound(t){return this.post(jp(),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var HI=["batchNameInput"];function zI(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function qI(a,r){if(a&1){let l=O();o(0,"div",20)(1,"div",21)(2,"label",7),s(3,"Location Code"),n(),o(4,"ng-select",22),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,zI,2,2,"ng-option",15),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function YI(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function $I(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Vu=(()=>{let r=class r{constructor(t,i){this.toastr=t,this.lookupService=i,this.batchName=void 0,this.biltiNumber=void 0,this.batchNames=[],this.today=ne(ht).getToday(),this.loadSpinner=!0,this.batchNumber=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(e=>e.id),this.locations=j.commonLocationsList,this.locationsData=new W,this.filterSearchObj=new W}ngOnInit(){}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;t==="fromDate"?this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString():this.selectedToDate=i.year+"-"+e.toString()+"-"+c.toString()}handleSearch(){let t={biltiNumber:this.biltiNumber||"",batchNumber:this.batchNumber||"",fromDate:this.selectedFromDate,toDate:this.selectedToDate,locationIds:this.locationIds};this.filterSearchObj.emit(t)}onClearFilter(){this.batchNumber=void 0,this.fromDate=null,this.biltiNumber=void 0,this.toDate=null,this.selectedFromDate=null,this.selectedToDate=null,this.locationIds=this.locationIds;let t={batchNumber:"",biltiNumber:"",locationIds:this.locationIds};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(Z),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-approval-accounts-filter"]],viewQuery:function(i,e){if(i&1&&Le(HI,5),i&2){let c;we(c=Ie())&&(e.batchNameInput=c.first)}},inputs:{filters:"filters"},outputs:{locationsData:"locationsData",filterSearchObj:"filterSearchObj"},decls:45,vars:14,consts:[["fromDt","ngbDatepicker"],["toDt","ngbDatepicker"],[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-2"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["placeholder","yyyy-mm-dd","name","toDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],[1,"col-lg-2"],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Bilti Number",1,"input-field",3,"ngModelChange","ngModel","disabled"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"col-lg-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3),v(2,qI,6,4,"div",4),o(3,"div",5)(4,"div",6)(5,"label",7),s(6,"From Date"),n(),o(7,"div",8)(8,"input",9,0),P("ngModelChange",function(h){return b(c),M(e.fromDate,h)||(e.fromDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("fromDate",h))}),n(),o(10,"button",10),g("click",function(){b(c);let h=R(9);return y(h.toggle())}),E(11,"img",11),n()()()(),o(12,"div",5)(13,"div",6)(14,"label",7),s(15,"To Date"),n(),o(16,"div",8)(17,"input",12,1),P("ngModelChange",function(h){return b(c),M(e.toDate,h)||(e.toDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("toDate",h))}),n(),o(19,"button",10),g("click",function(){b(c);let h=R(18);return y(h.toggle())}),E(20,"img",11),n()()()(),o(21,"div",13)(22,"div",6)(23,"label",7),s(24,"Batch Number"),n(),o(25,"ng-select",14),P("ngModelChange",function(h){return b(c),M(e.batchNumber,h)||(e.batchNumber=h),y(h)}),v(26,YI,2,2,"ng-option",15),n()()(),o(27,"div",13)(28,"div",6)(29,"label"),s(30,"Bilti Number"),n(),o(31,"ng-select",16),P("ngModelChange",function(h){return b(c),M(e.biltiNumber,h)||(e.biltiNumber=h),y(h)}),v(32,$I,2,2,"ng-option",15),n()()(),o(33,"div",17)(34,"div",6)(35,"label",18),s(36,"\xA0"),n(),o(37,"button",19),g("click",function(){return b(c),y(e.handleSearch())}),s(38," Search "),n()()(),o(39,"div",17)(40,"div",6)(41,"label",18),s(42,"\xA0"),n(),o(43,"button",19),g("click",function(){return b(c),y(e.onClearFilter())}),s(44," Clear "),n()()()()()}i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(6),m("autoClose",!0),F("ngModel",e.fromDate),m("maxDate",e.today),d(9),m("autoClose",!0),F("ngModel",e.toDate),m("maxDate",e.today),d(8),F("ngModel",e.batchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BatchNumber),d(5),F("ngModel",e.biltiNumber),m("disabled",e.batchName),d(),m("ngForOf",e.filters==null?null:e.filters.BiltiNumber),d(5),m("disabled",e.locationIds.length==0&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber),d(6),m("disabled",e.locationIds.length&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber))},dependencies:[$,z,le,se,Ae,U,Y,Tt]});let a=r;return a})();var d0=Si(s0());function bN(a,r){if(a&1){let l=O();o(0,"tr",46)(1,"td",26)(2,"div",9),E(3,"input",47),n()(),o(4,"td")(5,"div",9),E(6,"input",48),n()(),o(7,"td")(8,"div",9),E(9,"input",49),n()(),o(10,"td")(11,"div",9)(12,"input",50),g("input",function(){b(l);let i=S();return y(i.calculateTotals())})("keypress",function(i){b(l);let e=S();return y(e.validateNo(i))}),n()()(),o(13,"td")(14,"div",9)(15,"input",51),g("input",function(){b(l);let i=S();return y(i.calculateTotals())})("keypress",function(i){b(l);let e=S();return y(e.validateNo(i))}),n()()(),o(16,"td")(17,"div",9)(18,"input",52),g("input",function(){b(l);let i=S();return y(i.calculateTotals())})("keypress",function(i){b(l);let e=S();return y(e.validateNo(i))}),n()()(),o(19,"td")(20,"div",9)(21,"input",53),g("input",function(){b(l);let i=S();return y(i.calculateTotals())})("keypress",function(i){b(l);let e=S();return y(e.validateNo(i))}),n()()(),o(22,"td")(23,"div",9)(24,"input",54),g("input",function(){b(l);let i=S();return y(i.calculateTotals())})("keypress",function(i){b(l);let e=S();return y(e.validateNo(i))}),n()()(),o(25,"td")(26,"div",9)(27,"input",55),g("input",function(){b(l);let i=S();return y(i.calculateTotals())})("keypress",function(i){b(l);let e=S();return y(e.validateNo(i))}),n()()(),o(28,"td")(29,"div",9)(30,"input",56),g("input",function(){b(l);let i=S();return y(i.calculateTotals())})("keypress",function(i){b(l);let e=S();return y(e.validateNo(i))}),n()()(),o(31,"td")(32,"div",9),E(33,"input",57),n()()()}if(a&2){let l=r.index,t=S();m("formGroupName",l),d(12),m("readonly",t.amountDisabled==!0||(t.biltiBillProcessData==null?null:t.biltiBillProcessData.chargesByVendor)==!1),d(3),m("readonly",t.amountDisabled==!0||(t.biltiBillProcessData==null?null:t.biltiBillProcessData.chargesByVendor)==!1),d(3),m("readonly",t.amountDisabled==!0||(t.biltiBillProcessData==null?null:t.biltiBillProcessData.chargesByVendor)==!1),d(3),m("readonly",t.amountDisabled==!0),d(3),m("readonly",t.amountDisabled==!0),d(3),m("readonly",t.amountDisabled==!0),d(3),m("readonly",t.amountDisabled==!0),d(3),m("readonly",t.amountDisabled==!0)}}function yN(a,r){a&1&&(o(0,"div")(1,"p",58),s(2,"Grand Total cannot be less than Freight Amount"),n()())}function CN(a,r){if(a&1){let l=O();o(0,"div",59)(1,"button",60),g("click",function(){b(l);let i=S();return y(i.onPressSave())}),s(2,"Save"),n()()}if(a&2){let l=S();d(),m("disabled",l.isSaveDisabled)}}function SN(a,r){if(a&1){let l=O();o(0,"div",61)(1,"div",62)(2,"div",9),E(3,"textarea",63),n()(),o(4,"div",64)(5,"div",9)(6,"button",65),g("click",function(){b(l);let i=S();return y(i.updateStatus("Approved"))}),s(7,"Approve"),n(),o(8,"button",66),g("click",function(){b(l);let i=S();return y(i.updateStatus("Rejected"))}),s(9,"Reject"),n()()()()}}function xN(a,r){a&1&&(o(0,"div",67),s(1,` Loading...
`),n())}var Bi=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N){this.activeModal=t,this.biltiBillService=i,this.formBuilder=e,this.toastr=c,this.router=p,this.route=h,this.commonTransaction=w,this.datePipe=N,this.toWords=new d0.ToWords,this.loadSpinner=!1,this.totalFreightCharge=0,this.totalPointCharge=0,this.totalDetentionCharge=0,this.totalOverloadCharge=0,this.totalTollTax=0,this.totalUnloadingCharge=0,this.totalOtherCharges=0,this.grandTotalVendor=0,this.totalLGFreightCharge=0,this.totalLGPointCharge=0,this.totalLGDetentionCharge=0,this.totalLGOverloadCharge=0,this.totalLGTollTax=0,this.totalLGUnloadingCharge=0,this.totalLGOtherCharges=0,this.grandTotalLG=0,this.grandTotal=0,this.amountInWords="",this.freightAmount=0,this.showSaveButton=!1,this.showApproveRejectButtons=!1,this.amountDisabled=!1,this.userName=""}ngOnInit(){this.route.url.subscribe(i=>{this.fullPath=this.router.url,this.showSaveButton=window.location.pathname==="/transaction/biltiBillProcess",this.showApproveRejectButtons=this.fullPath.includes("transaction/approvalAccounts"),this.amountDisabled=this.fullPath.includes("approvalAccounts")||this.fullPath.includes("checkedMaterialsTeam")||this.fullPath.includes("approvalMaterialHead")||this.fullPath.includes("biltiBillProcessView")}),this.initForm(),this.getBiltiBillProcessbyId(),this.locationId=localStorage.getItem("locationId");let t=localStorage.getItem("logindata");if(t){let i=JSON.parse(t)}}initForm(){this.biltiBillProcess=this.formBuilder.group({biltiNumber:[""],creationDate:[""],adviceType:[""],documentNumber:[""],vendorName:[""],freightAmount:[""],penaltyAmount:[""],penaltyReason:[""],excessAmount:[""],excessReason:[""],lgRemarks:[""],freightChargeLg:[0],pointChargeLg:[0],detentionChargeLg:[0],overloadChargeLg:[0],tollTaxLg:[0],unloadingChargeLg:[0],otherChargeLg:[0],rejectRemarks:[""],pointCharges:[""],maxBiltiNo:[""],biltiCreationLineItemDetails:this.formBuilder.array([])})}get biltiCreationLineItemDetails(){return this.biltiBillProcess.get("biltiCreationLineItemDetails")}createLineItem(t){return console.log(t),this.formBuilder.group({documentNumber:[t?.documentReferenceNo],vendorName:[t?.vendorName||""],freightCity:[t?.pointName||""],freightCharge:[t?.biltiBillProcessChargesByVendor?.freightCharge],pointCharge:[t?.biltiBillProcessChargesByVendor?.pointCharge],detentionCharge:[t?.biltiBillProcessChargesByVendor?.detentionCharge],overloadCharge:[t?.biltiBillProcessChargesByVendor?.overloadCharge],tollTax:[t?.biltiBillProcessChargesByVendor?.tollTax],unloadingCharge:[t?.biltiBillProcessChargesByVendor?.unloadingCharge],otherCharges:[t?.biltiBillProcessChargesByVendor?.otherCharges],remarks:[t?.biltiBillProcessChargesByVendor?.remarks||""]})}getBiltiBillProcessbyId(){this.biltiBillService.getBiltiBillProcessbyId(this.biltiProcess.locationId,this.biltiProcess.id).subscribe(t=>{this.biltiBillProcessData=t,this.transactionTypeId=this.biltiBillProcessData?.transactionTypeId,this.maxBiltiNumber=this.biltiBillProcessData?.transactionTypeDetails?.adviceTypeDetails?.maxBiltiNumber,this.transacttionTypeCode=this.biltiBillProcessData.transactionTypeDetails.code,this.populateForm()})}populateForm(){if(this.biltiBillProcessData?.biltiBillProcessModel){let t=this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.freightCharge,i=this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.pointCharge,e=this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.detentionCharge,c=this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.overloadCharge,p=this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.tollTax,h=this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.unloadingCharge,w=this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.otherCharges}if(this.biltiBillProcessData){this.calculateDifference();let t=this.datePipe.transform(this.biltiBillProcessData.creationDate,"yyyy-MM-dd");this.biltiBillProcess.patchValue({biltiNumber:this.biltiBillProcessData.biltiNumber,creationDate:t,adviceType:this.biltiBillProcessData.transactionTypeDetails?.name,freightAmount:this.biltiBillProcessData.freightDetails?.freightAmount,penaltyAmount:this.biltiBillProcessData.biltiBillProcessModel?.penaltyAmount,excessAmount:this.biltiBillProcessData.biltiBillProcessModel?.excessAmount,penaltyReason:this.biltiBillProcessData.biltiBillProcessModel?.penaltyReason,excessReason:this.biltiBillProcessData.biltiBillProcessModel?.excessReason,freightChargeLg:this.biltiBillProcessData?.chargesByVendor==!1&&this.showSaveButton?this.biltiProcess?.freightAmount:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.freightCharge,pointChargeLg:this.biltiBillProcessData?.chargesByVendor==!1&&this.showSaveButton?this.biltiBillProcessData?.totalPointCharge:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.pointCharge,detentionChargeLg:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.detentionCharge,overloadChargeLg:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.overloadCharge,tollTaxLg:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.tollTax,unloadingChargeLg:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.unloadingCharge,otherChargeLg:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.otherCharges,lgRemarks:this.biltiBillProcessData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.remarks,pointCharges:this.biltiBillProcessData?.totalPointCharge,maxBiltiNo:this.biltiBillProcessData?.transactionTypeDetails?.adviceTypeDetails?.maxBiltiNumber});let i=Number(this.biltiBillProcess.controls.freightChargeLg.value)||0,e=Number(this.biltiBillProcess.controls.pointChargeLg.value)||0,c=Number(this.biltiBillProcess.controls.detentionChargeLg.value)||0,p=Number(this.biltiBillProcess.controls.overloadChargeLg.value)||0,h=Number(this.biltiBillProcess.controls.tollTaxLg.value)||0,w=Number(this.biltiBillProcess.controls.unloadingChargeLg.value)||0,N=Number(this.biltiBillProcess.controls.otherChargeLg.value)||0;this.grandTotalLG=i+e+c+p+h+w+N;let L=this.biltiBillProcessData.biltiCreationLineItemDetails,V=this.biltiBillProcessData?.biltiCreationLineItemDetails;if(L){let I=this.biltiBillProcess.get("biltiCreationLineItemDetails");I.clear(),L.forEach(G=>{I.push(this.createLineItem(G))}),V.forEach(G=>{let oe=G?.biltiBillProcessChargesByVendor?.freightCharge||0,q=G?.biltiBillProcessChargesByVendor?.pointCharge||0,de=G?.biltiBillProcessChargesByVendor?.detentionCharge||0,xe=G?.biltiBillProcessChargesByVendor?.overloadCharge||0,fe=G?.biltiBillProcessChargesByVendor?.tollTax||0,ce=G?.biltiBillProcessChargesByVendor?.unloadingCharge||0,Pe=G?.biltiBillProcessChargesByVendor?.otherCharges||0;this.totalFreightCharge+=oe,this.totalPointCharge+=q,this.totalDetentionCharge+=de,this.totalOverloadCharge+=xe,this.totalTollTax+=fe,this.totalUnloadingCharge+=ce,this.totalOtherCharges+=Pe,this.grandTotalVendor=this.totalFreightCharge+this.totalPointCharge+this.totalDetentionCharge+this.totalOverloadCharge+this.totalTollTax+this.totalUnloadingCharge+this.totalOtherCharges}),this.grandTotal=this.grandTotalLG+this.grandTotalVendor,console.log(this.grandTotal),console.log(this.grandTotalLG),console.log(this.grandTotalVendor),this.amountInWords="("+this.toWords.convert(this.grandTotal)+" Rupees Only)"}}}calculateTotals(){this.pointCharges=this.biltiBillProcess.controls.pointCharges?.value,this.totalFreightCharge=this.sumColumn("freightCharge"),this.totalPointCharge=this.sumColumn("pointCharge"),this.totalDetentionCharge=this.sumColumn("detentionCharge"),this.totalOverloadCharge=this.sumColumn("overloadCharge"),this.totalTollTax=this.sumColumn("tollTax"),this.totalUnloadingCharge=this.sumColumn("unloadingCharge"),this.totalOtherCharges=this.sumColumn("otherCharges"),this.grandTotalVendor=this.totalFreightCharge+this.totalPointCharge+this.totalDetentionCharge+this.totalOverloadCharge+this.totalTollTax+this.totalUnloadingCharge+this.totalOtherCharges,this.calculateTotalLGCharges(),this.calculateDifference()}calculateTotalLGCharges(){this.pointCharges=this.biltiBillProcess.controls.pointCharges?.value;let t=this.biltiBillProcess.value;this.totalLGFreightCharge=parseFloat(t.freightChargeLg)||0,this.totalLGPointCharge=parseFloat(t.pointChargeLg)||0,this.totalLGDetentionCharge=parseFloat(t.detentionChargeLg)||0,this.totalLGOverloadCharge=parseFloat(t.overloadChargeLg)||0,this.totalLGTollTax=parseFloat(t.tollTaxLg)||0,this.totalLGUnloadingCharge=parseFloat(t.unloadingChargeLg)||0,this.totalLGOtherCharges=parseFloat(t.otherChargeLg)||0,this.grandTotalLG=this.totalLGFreightCharge+this.totalLGPointCharge+this.totalLGDetentionCharge+this.totalLGOverloadCharge+this.totalLGTollTax+this.totalLGUnloadingCharge+this.totalLGOtherCharges,this.grandTotalSum(),this.biltiBillProcessData?.chargesByVendor==!1?this.excessReason():this.calculateExcessReasonVendor(),this.calculatePenaltyReasonLg(),this.calculateDifference()}calculateDifference(){this.freightAmount=this.biltiBillProcessData?.freightDetails?.freightAmount||0;let t=this.grandTotal-this.freightAmount,i=0,e=0;t==0?(i=0,e=0,this.biltiBillProcess.get("penaltyReason")?.enable(),this.biltiBillProcess.get("excessReason")?.enable()):t>0?(i=t,e=0,this.biltiBillProcess.get("penaltyReason")?.disable(),this.biltiBillProcess.get("excessReason")?.enable()):t<0?(e=Math.abs(t),i=0,this.biltiBillProcess.get("penaltyReason")?.enable(),this.biltiBillProcess.get("excessReason")?.disable()):t==0?(this.biltiBillProcess.get("penaltyReason")?.enable(),this.biltiBillProcess.get("excessReason")?.enable()):(e=0,i=0,this.biltiBillProcess.get("penaltyReason")?.enable(),this.biltiBillProcess.get("excessReason")?.enable()),this.biltiBillProcess.patchValue({penaltyAmount:e,excessAmount:i})}sumColumn(t){return this.biltiCreationLineItemDetails.controls.reduce((i,e)=>{let c=parseFloat(e.get(t)?.value)||0;return i+c},0)}grandTotalSum(){this.grandTotal=this.grandTotalLG+this.grandTotalVendor,this.amountInWords="("+this.toWords.convert(this.grandTotal)+" Rupees Only)"}onPressSave(){this.loadSpinner=!0;let t=this.constructPayload(),i=this.constructPayloadEdit();this.biltiProcess.biltiBillProcessModel?this.updateBiltiProcess(i):this.createBiltiProcess(t)}sumRowDebits(t){let i=t,e=Number(i.get("debitAmount")?.value)||0,c=[Number(i.get("freightCharge")?.value)||0,Number(i.get("pointCharge")?.value)||0,Number(i.get("detentionCharge")?.value)||0,Number(i.get("overloadCharge")?.value)||0,Number(i.get("tollTax")?.value)||0,Number(i.get("unloadingCharge")?.value)||0,Number(i.get("otherCharges")?.value)||0];return e+c.reduce((p,h)=>p+h,0)}constructPayload(){let t={id:0,actionBy:localStorage.getItem("userId"),status:"Active",freightCharge:this.biltiBillProcess.controls.freightChargeLg.value||0,pointCharge:this.biltiBillProcess.controls.pointChargeLg.value||0,detentionCharge:this.biltiBillProcess.controls.detentionChargeLg.value||0,overloadCharge:this.biltiBillProcess.controls.overloadChargeLg.value||0,tollTax:this.biltiBillProcess.controls.tollTaxLg.value||0,unloadingCharge:this.biltiBillProcess.controls.unloadingChargeLg.value||0,otherCharges:this.biltiBillProcess.controls.otherChargeLg.value||0,remarks:this.biltiBillProcess.controls.lgRemarks.value},i=this.biltiCreationLineItemDetails.controls.map((e,c)=>{let p=e,h=this.biltiBillProcessData.biltiCreationLineItemDetails[c]?.id||0;return{id:0,actionBy:localStorage.getItem("userId"),status:p.get("status")?.value||"Active",creationLineItemId:h,freightCharge:Number(p.get("freightCharge")?.value)||0,pointCharge:Number(p.get("pointCharge")?.value)||0,detentionCharge:Number(p.get("detentionCharge")?.value)||0,overloadCharge:Number(p.get("overloadCharge")?.value)||0,tollTax:Number(p.get("tollTax")?.value)||0,unloadingCharge:Number(p.get("unloadingCharge")?.value)||0,otherCharges:Number(p.get("otherCharges")?.value)||0,remarks:p.get("remarks")?.value||"",debitAmount:this.sumRowDebits(e),debitRemarks:p.get("debitRemarks")?.value||""}});return{actionBy:localStorage.getItem("userId"),attribute1:"string",attribute2:"string",attribute3:"string",attribute4:"string",attribute5:0,attribute6:0,attribute7:0,attribute8:0,attribute9:new Date().toISOString(),attribute10:new Date().toISOString(),biltiCreationId:this.biltiProcess.id,transactionTypeId:this.transactionTypeId,maxBiltiNumber:this.maxBiltiNumber,transactionTypeCode:this.transacttionTypeCode,paidByAmount:this.grandTotal,debitAmount:this.grandTotalVendor,penaltyAmount:this.biltiBillProcess.get("penaltyAmount")?.value||0,penaltyReason:this.biltiBillProcess.get("penaltyReason")?.value||"",excessAmount:this.biltiBillProcess.get("excessAmount")?.value||0,excessReason:this.biltiBillProcess.get("excessReason")?.value||"",grandTotal:this.grandTotal,chargesByLGDetails:t,chargesByVendorDetails:i,batchName:this.biltiBillProcessData?.transactionTypeDetails?.adviceTypeDetails?.batchName}}constructPayloadEdit(){let t={id:this.biltiBillProcessData?.biltiBillProcessModel?.biltiBillProcessChargesByLG?.id,actionBy:localStorage.getItem("userId"),status:"Active",freightCharge:Number(this.biltiBillProcess.controls.freightChargeLg.value)||0,pointCharge:Number(this.biltiBillProcess.controls.pointChargeLg.value)||0,detentionCharge:Number(this.biltiBillProcess.controls.detentionChargeLg.value)||0,overloadCharge:Number(this.biltiBillProcess.controls.overloadChargeLg.value)||0,tollTax:Number(this.biltiBillProcess.controls.tollTaxLg.value)||0,unloadingCharge:Number(this.biltiBillProcess.controls.unloadingChargeLg.value)||0,otherCharges:Number(this.biltiBillProcess.controls.otherChargeLg.value)||0,remarks:this.biltiBillProcess.controls.lgRemarks.value},i=this.biltiCreationLineItemDetails.controls.map((e,c)=>{let p=e,h=this.biltiBillProcessData.biltiCreationLineItemDetails[c]?.id||0;return{id:this.biltiBillProcessData.biltiCreationLineItemDetails[c]?.biltiBillProcessChargesByVendor?.id,actionBy:localStorage.getItem("userId"),status:p.get("status")?.value||"Active",creationLineItemId:h,freightCharge:Number(p.get("freightCharge")?.value)||0,pointCharge:Number(p.get("pointCharge")?.value)||0,detentionCharge:Number(p.get("detentionCharge")?.value)||0,overloadCharge:Number(p.get("overloadCharge")?.value)||0,tollTax:Number(p.get("tollTax")?.value)||0,unloadingCharge:Number(p.get("unloadingCharge")?.value)||0,otherCharges:Number(p.get("otherCharges")?.value)||0,remarks:p.get("remarks")?.value||"",debitAmount:this.sumRowDebits(e),debitRemarks:p.get("debitRemarks")?.value||""}});return{id:this.biltiBillProcessData?.biltiBillProcessModel?.id,actionBy:localStorage.getItem("userId"),status:this.biltiBillProcessData?.biltiBillProcessModel?.status,paidByAmount:this.grandTotal,debitAmount:this.grandTotalVendor,penaltyAmount:this.biltiBillProcess.get("penaltyAmount")?.value||0,penaltyReason:this.biltiBillProcess.get("penaltyReason")?.value||"",excessAmount:this.biltiBillProcess.get("excessAmount")?.value||0,excessReason:this.biltiBillProcess.get("excessReason")?.value||"",grandTotal:this.grandTotal,chargesByLGDetails:t,chargesByVendorDetails:i,maxBiltiNumber:this?.maxBiltiNumber,batchName:this.biltiBillProcessData?.transactionTypeDetails?.adviceTypeDetails?.batchName}}createBiltiProcess(t){this.biltiBillService.createBiltiBillProcess(this.biltiProcess.locationId,t).subscribe(i=>{this.toastr.success("Bilti Bill Process Created Successfully"),this.loadSpinner=!1,this.activeModal.close("save")},i=>{this.loadSpinner=!1})}updateBiltiProcess(t){this.biltiBillService.updateBiltiBillProcess(this.biltiProcess.locationId,this.biltiBillProcessData?.biltiBillProcessModel?.id,t).subscribe(i=>{this.toastr.success("Bilti Bill Process Updated Successfully"),this.loadSpinner=!1,this.activeModal.close("save")},i=>{this.loadSpinner=!1})}updateStatus(t){if(this.loadSpinner=!0,t==="Rejected"){this.loadSpinner=!1;let i=this.biltiBillProcess.controls.rejectRemarks?.value;if(!i||i.trim().length===0){this.toastr.error("Remarks are required when rejecting."),this.loadSpinner=!1;return}}if(this.fullPath.includes("transaction/approvalMaterialHead")){let i={approvalLevel:"Material",status:t,remarks:this.biltiBillProcess.controls.rejectRemarks?.value||"",actionBy:localStorage.getItem("userId"),transactionCode:203};this.commonTransaction.updateStatus(this.biltiProcess.locationId,this.biltiBillProcessData?.biltiBillProcessModel?.id,i).subscribe(e=>{this.loadSpinner=!1,this.toastr.success("Status Updated Successfully"),this.activeModal.close("save")},e=>{this.loadSpinner=!1})}else if(this.fullPath.includes("transaction/approvalAccounts")){let i={approvalLevel:"Account",status:t,remarks:this.biltiBillProcess.controls.rejectRemarks?.value||"",actionBy:localStorage.getItem("userId"),transactionCode:203,actionByName:this.userName};this.commonTransaction.updateStatus(this.biltiProcess.locationId,this.biltiBillProcessData?.biltiBillProcessModel?.id,i).subscribe(e=>{this.loadSpinner=!1,this.toastr.success("Status Updated Successfully"),this.activeModal.close("save")},e=>{this.toastr.error(e.statusText,e.status),this.loadSpinner=!1})}else{let i={approvalLevel:"MaterialChecked",status:t,remarks:this.biltiBillProcess.controls.rejectRemarks?.value||"",actionBy:localStorage.getItem("userId"),transactionCode:203};this.commonTransaction.updateStatus(this.biltiProcess.locationId,this.biltiBillProcessData?.biltiBillProcessModel?.id,i).subscribe(e=>{this.loadSpinner=!1,this.toastr.success("Status Updated Successfully"),this.activeModal.close("save")},e=>{this.loadSpinner=!1})}}validateNo(t){let i=t.which?t.which:t.keyCode;return!(i>31&&(i<48||i>57))}get isSaveDisabled(){this.pointCharges=this.biltiBillProcess.controls.pointCharges?.value,this.freightAmount=this.biltiBillProcessData?.freightDetails?.freightAmount||0;let t=Number(this.freightAmount)+Number(this.pointCharges),i=this.biltiBillProcess.value;return this.totalLGFreightCharge=parseFloat(i.freightChargeLg)||0,this.biltiBillProcessData?.chargesByLG==!0?this.freightAmount>this.totalLGFreightCharge||this.pointCharges!=this.totalLGPointCharge:t!=this.totalFreightCharge}excessReason(){this.biltiBillProcess.valueChanges.subscribe(t=>{let i=[];t.pointChargeLg>0&&i.push("Point Charge"),t.detentionChargeLg>0&&i.push("Detention Charge"),t.overloadChargeLg>0&&i.push("Overload Charge"),t.tollTaxLg>0&&i.push("Toll Tax"),t.unloadingChargeLg>0&&i.push("Unloading Charge"),t.otherChargeLg>0&&i.push("Other Charges"),i.length>0&&this.grandTotal>this.freightAmount?this.biltiBillProcess.get("excessReason")?.setValue(`Due to ${i.join(", ")}`,{emitEvent:!1}):this.biltiBillProcess.get("excessReason")?.setValue("",{emitEvent:!1})})}calculatePenaltyReasonLg(){this.biltiBillProcess.valueChanges.subscribe(t=>{let i=[];t.pointChargeLg>0&&i.push("Point Charge"),t.detentionChargeLg>0&&i.push("Detention Charge"),t.overloadChargeLg>0&&i.push("Overload Charge"),t.tollTaxLg>0&&i.push("Toll Tax"),t.unloadingChargeLg>0&&i.push("Unloading Charge"),t.otherChargeLg>0&&i.push("Other Charges"),i.length>0&&this.grandTotal<this.freightAmount?this.biltiBillProcess.get("penaltyReason")?.setValue(`Due to ${i.join(", ")}`,{emitEvent:!1}):this.biltiBillProcess.get("penaltyReason")?.setValue("",{emitEvent:!1})})}calculateExcessReasonVendor(){let t=[];this.biltiCreationLineItemDetails.controls.forEach((i,e)=>{[{name:"pointCharge",label:"Point Charge"},{name:"detentionCharge",label:"Detention Charge"},{name:"overloadCharge",label:"Overload Charge"},{name:"tollTax",label:"Toll Tax"},{name:"unloadingCharge",label:"Unloading Charge"},{name:"otherCharges",label:"Other Charges"}].forEach(p=>{i.get(p.name)?.value>0&&t.push(`${p.label}`)})}),t.length>0&&this.grandTotal>this.freightAmount?this.biltiBillProcess.get("excessReason")?.setValue(`Due to ${t.join(", ")}`):Number(this.freightAmount)+Number(this.pointCharges)==this.totalFreightCharge?this.biltiBillProcess.get("excessReason")?.setValue("FREIGHT RECOVERED FROM VENDOR"):this.biltiBillProcess.get("excessReason")?.setValue("")}};r.\u0275fac=function(i){return new(i||r)(D(ut),D(St),D(mt),D(Z),D(X),D(et),D(yi),D(Se))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-process-details-modal"]],inputs:{biltiProcess:"biltiProcess"},features:[Gt([Se])],decls:201,vars:27,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"float-right",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"clearfix"],[3,"formGroup"],[1,"ngmodal-body"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],["type","text","readonly","","formControlName","biltiNumber",1,"input-field"],["type","text","readonly","","formControlName","creationDate",1,"input-field"],["type","text","readonly","","formControlName","adviceType",1,"input-field"],["type","text","readonly","","formControlName","freightAmount",1,"input-field"],["type","text","readonly","","formControlName","pointCharges",1,"input-field"],["type","text","readonly","","formControlName","maxBiltiNo",1,"input-field"],["type","text","readonly","","formControlName","penaltyAmount",1,"input-field"],[1,"col-lg-10","col-md-10"],[1,"text-danger"],["type","text","formControlName","penaltyReason",1,"input-field",3,"readonly"],["type","text","readonly","","formControlName","excessAmount",1,"input-field"],["type","text","formControlName","excessReason",1,"input-field",3,"readonly"],[1,"modal-subTable"],[1,""],[1,"custom-table"],[1,"ps-0"],["formArrayName","biltiCreationLineItemDetails"],[3,"formGroupName",4,"ngFor","ngForOf"],["colspan","3",1,"ps-0"],["colspan","2",1,"ps-0"],["colspan","8"],["type","text","id","lgFreightCharge","formControlName","freightChargeLg",1,"input-field",3,"input","keypress","readonly"],["type","text","id","lgPointCharge","formControlName","pointChargeLg",1,"input-field",3,"input","keypress","readonly"],["type","text","id","lgDetentionCharge","formControlName","detentionChargeLg",1,"input-field",3,"input","keypress","readonly"],["type","text","id","lgOverloadCharge","formControlName","overloadChargeLg",1,"input-field",3,"input","keypress","readonly"],["type","text","id","lgTollTax","formControlName","tollTaxLg",1,"input-field",3,"input","keypress","readonly"],["type","text","id","lgUnloadingCharge","formControlName","unloadingChargeLg",1,"input-field",3,"input","keypress","readonly"],["type","text","id","lgOtherCharges","formControlName","otherChargeLg",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","lgRemarks","maxlength","150",1,"input-field",3,"readonly"],["type","text","disabled","",1,"input-field",3,"value"],["for","",1,"d-block"],[4,"ngIf"],["class","text-center",4,"ngIf"],["class","row approve-button",4,"ngIf"],["class","spinner",4,"ngIf"],[3,"formGroupName"],["type","text","formControlName","documentNumber","readonly","",1,"input-field"],["type","text","formControlName","vendorName","readonly","",1,"input-field"],["type","text","formControlName","freightCity","readonly","",1,"input-field"],["type","text","formControlName","freightCharge",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","pointCharge",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","detentionCharge",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","overloadCharge",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","tollTax",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","unloadingCharge",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","otherCharges",1,"input-field",3,"input","keypress","readonly"],["type","text","formControlName","remarks","maxlength","150",1,"input-field",3,"readonly"],[1,"text-danger","mb-0"],[1,"text-center"],[1,"custom-button-regulr","mt-4",3,"click","disabled"],[1,"row","approve-button"],[1,"col-lg-6","col-md-6"],["name","","id","","cols","10","rows","3","placeholder","Action Remarks","formControlName","rejectRemarks","maxlength","150"],[1,"col-lg-3","col-md-3"],[1,"custom-button-regulr","me-3",3,"click"],[1,"custom-button-regulr",3,"click"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," Bilti Bill Process Details "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n(),E(6,"div",4),n()(),o(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),s(13,"Bilti Number"),n(),E(14,"input",11),n()(),o(15,"div",8)(16,"div",9)(17,"label",10),s(18,"Bilti Date"),n(),E(19,"input",12),n()(),o(20,"div",8)(21,"div",9)(22,"label",10),s(23,"Advice Type"),n(),E(24,"input",13),n()(),o(25,"div",8)(26,"div",9)(27,"label",10),s(28,"Freight Amount"),n(),E(29,"input",14),n()(),o(30,"div",8)(31,"div",9)(32,"label",10),s(33,"Point Charge"),n(),E(34,"input",15),n()(),o(35,"div",8)(36,"div",9)(37,"label",10),s(38,"Max Bilti Number"),n(),E(39,"input",16),n()(),o(40,"div",8)(41,"div",9)(42,"label",10),s(43,"Penalty Amount"),n(),E(44,"input",17),n()(),o(45,"div",18)(46,"div",9)(47,"label",10),s(48,"Penalty Reason"),o(49,"span",19),s(50,"*"),n()(),E(51,"input",20),n()()(),o(52,"div",7)(53,"div",8)(54,"div",9)(55,"label",10),s(56,"Excess Amount"),n(),E(57,"input",21),n()(),o(58,"div",18)(59,"div",9)(60,"label",10),s(61,"Excess Reason"),o(62,"span",19),s(63,"*"),n()(),E(64,"input",22),n()()(),o(65,"div",23)(66,"h4",24),s(67,"Charges by Vendor"),n()(),o(68,"div",25)(69,"table")(70,"thead")(71,"tr")(72,"th",26),s(73,"Document Ref. Number"),n(),o(74,"th"),s(75,"Supplier Name"),n(),o(76,"th"),s(77,"Freight City"),n(),o(78,"th"),s(79,"Freight Charge"),n(),o(80,"th"),s(81,"Point Charge"),n(),o(82,"th"),s(83,"Detention Charge"),n(),o(84,"th"),s(85,"Overload Charge"),n(),o(86,"th"),s(87,"Toll Tax"),n(),o(88,"th"),s(89,"Unloading Charge"),n(),o(90,"th"),s(91,"Other Charges"),n(),o(92,"th"),s(93,"Remarks"),n()()(),o(94,"tbody",27),v(95,bN,34,9,"tr",28),o(96,"tr")(97,"td",29)(98,"strong"),s(99,"Total:"),n()(),o(100,"td")(101,"strong"),s(102),n()(),o(103,"td")(104,"strong"),s(105),n()(),o(106,"td")(107,"strong"),s(108),n()(),o(109,"td")(110,"strong"),s(111),n()(),o(112,"td")(113,"strong"),s(114),n()(),o(115,"td")(116,"strong"),s(117),n()(),o(118,"td")(119,"strong"),s(120),n()(),E(121,"td"),n(),o(122,"tr")(123,"td",30)(124,"strong"),s(125,"Grand Total by Vendor:"),n()(),o(126,"td",31)(127,"strong"),s(128),n()()()()()(),o(129,"div",23)(130,"h4",24),s(131,"Charges by LG"),n()(),o(132,"div",25)(133,"table")(134,"thead")(135,"tr")(136,"th",26),s(137,"Freight Charge"),n(),o(138,"th"),s(139,"Point Charge"),n(),o(140,"th"),s(141,"Detention Charge"),n(),o(142,"th"),s(143,"Overload Charge"),n(),o(144,"th"),s(145,"Toll Tax"),n(),o(146,"th"),s(147,"Unloading Charge"),n(),o(148,"th"),s(149,"Other Charges"),n(),o(150,"th"),s(151,"Remarks"),n()()(),o(152,"tbody")(153,"tr")(154,"td",26)(155,"div",9)(156,"input",32),g("input",function(){return e.calculateTotalLGCharges()})("keypress",function(p){return e.validateNo(p)}),n()()(),o(157,"td")(158,"div",9)(159,"input",33),g("input",function(){return e.calculateTotalLGCharges()})("keypress",function(p){return e.validateNo(p)}),n()()(),o(160,"td")(161,"div",9)(162,"input",34),g("input",function(){return e.calculateTotalLGCharges()})("keypress",function(p){return e.validateNo(p)}),n()()(),o(163,"td")(164,"div",9)(165,"input",35),g("input",function(){return e.calculateTotalLGCharges()})("keypress",function(p){return e.validateNo(p)}),n()()(),o(166,"td")(167,"div",9)(168,"input",36),g("input",function(){return e.calculateTotalLGCharges()})("keypress",function(p){return e.validateNo(p)}),n()()(),o(169,"td")(170,"div",9)(171,"input",37),g("input",function(){return e.calculateTotalLGCharges()})("keypress",function(p){return e.validateNo(p)}),n()()(),o(172,"td")(173,"div",9)(174,"input",38),g("input",function(){return e.calculateTotalLGCharges()})("keypress",function(p){return e.validateNo(p)}),n()()(),o(175,"td")(176,"div",9),E(177,"input",39),n()()(),o(178,"tr")(179,"td",30)(180,"strong"),s(181,"Grand Total by LG:"),n()(),o(182,"td",31)(183,"strong"),s(184),n()()()()()(),o(185,"div",23)(186,"div",7)(187,"div",8)(188,"div",9)(189,"label",10),s(190,"Grand Total"),n(),E(191,"input",40),n()(),o(192,"div",18)(193,"div",9)(194,"label",41),s(195,"\xA0"),n(),s(196),n()()()()(),v(197,yN,3,0,"div",42)(198,CN,3,1,"div",43)(199,SN,10,0,"div",44),n()(),v(200,xN,2,0,"div",45)),i&2&&(d(7),m("formGroup",e.biltiBillProcess),d(44),m("readonly",e.amountDisabled==!0),d(13),m("readonly",e.amountDisabled==!0),d(31),m("ngForOf",e.biltiCreationLineItemDetails.controls),d(7),_(e.totalFreightCharge),d(3),_(e.totalPointCharge),d(3),_(e.totalDetentionCharge),d(3),_(e.totalOverloadCharge),d(3),_(e.totalTollTax),d(3),_(e.totalUnloadingCharge),d(3),_(e.totalOtherCharges),d(8),_(e.grandTotalVendor),d(28),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(3),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(3),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(3),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(3),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(3),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(3),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(3),m("readonly",e.amountDisabled==!0||(e.biltiBillProcessData==null?null:e.biltiBillProcessData.chargesByLG)==!1),d(7),_(e.grandTotalLG),d(7),m("value",e.grandTotal),d(5),Ce(" ",e.amountInWords," "),d(),m("ngIf",e.freightAmount>e.grandTotal&&e.grandTotal!=0),d(),m("ngIf",e.showSaveButton),d(),m("ngIf",e.showApproveRejectButtons),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,Ze,Ae,U,Qe,Ht,nt,ot,Ni,Fi],styles:[".modal-subTable[_ngcontent-%COMP%]{margin-top:var(--spacer-30)}.modal-subTable[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--spacer-16)!important;font-weight:600!important;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacer-15)}.approve-button[_ngcontent-%COMP%]{margin-top:60px}"]});let a=r;return a})();function DN(a,r){if(a&1&&(o(0,"div",6)(1,"div",7)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",7)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",7)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",7)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function EN(a,r){if(a&1){let l=O();o(0,"tbody")(1,"tr")(2,"td",3)(3,"span",4)(4,"u"),s(5),n()(),v(6,DN,23,10,"ng-template",null,0,te),n(),o(8,"td"),s(9),K(10,"date"),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td")(26,"img",5),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewBiltiDetails(i))}),n()(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n()()()}if(a&2){let l=r.$implicit,t=R(7);d(3),m("ngbTooltip",t),d(2),_(l==null?null:l.biltiNumber),d(4),_(ee(10,12,l==null?null:l.creationDate,"yyyy-MM-dd")),d(3),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.biltiBillProcessDate),d(2),_(l==null?null:l.frlrNumber),d(2),_(l==null||l.transporterModel==null?null:l.transporterModel.transporterName),d(2),_(l==null||l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l==null||l.freights==null?null:l.freights.freightAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.paidByAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.debitAmount),d(4),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.status),d(2),_((l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.remarks)||"-")}}var c0=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i,this.biltiBillProcess=[],this.refreshList=new W}ngOnInit(){}onPreviewBiltiDetails(t){let i=this.modalService.open(Bi,{size:"xl",backdrop:"static"});i.componentInstance.biltiProcess=t,i.result.then(e=>{e==="save"&&(this.router.navigate(["transaction/approvalAccounts"]),this.refreshList.emit())})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-approval-accounts-grid-table"]],inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{refreshList:"refreshList"},decls:29,vars:1,consts:[["tipContent",""],[1,"custom-table"],[4,"ngFor","ngForOf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link",1,"pointer",3,"click"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Bilti#"),n(),o(6,"th"),s(7,"Bilti Date"),n(),o(8,"th"),s(9,"Bilti Bill Process Date"),n(),o(10,"th"),s(11,"FRLR#"),n(),o(12,"th"),s(13,"Transporter Name"),n(),o(14,"th"),s(15,"Vehicle Number"),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Paid by Amount"),n(),o(20,"th"),s(21,"Debit Amount"),n(),o(22,"th"),s(23,"Bilti Bill Process Details"),n(),o(24,"th"),s(25,"Status"),n(),o(26,"th"),s(27,"Remarks"),n()()(),v(28,EN,31,15,"tbody",2),n()()),i&2&&(d(28),m("ngForOf",e.biltiBillProcess))},dependencies:[$,be,Se]});let a=r;return a})();var wN=a=>({"d-none":a}),IN=a=>({isFilters:a});function NN(a,r){a&1&&(o(0,"div",13),s(1,` Loading...
`),n())}var p0=(()=>{let r=class r{constructor(t,i,e){this.router=t,this.biltiProcessService=i,this.toastr=e,this.isFilters=!0,this.fromDate=null,this.locationIds=[],this.biltiBillProcess=[],this.filteredBiltibillList=[],this.toDate=(0,Ga.default)().format("YYYY-MM-DD"),this.loadSpinner=!1,this.currentPage=1,this.count=10,this.totalBiltis=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.locations=[]}ngOnInit(){this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={screenCode:305,fromDate:e?.fromDate||null,toDate:e?.toDate||null,adviceType:"",batchNumber:e?.batchNumber||"",biltiNumber:e?.biltiNumber||"",locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id)};this.biltiProcessService.getBiltiBillProcess(c).subscribe(p=>{this.loadSpinner=!1,p.biltiBillProcess.forEach(h=>{h.creationDate=Ga.default.utc(h.creationDate).local().format("YYYY-MM-DD"),h.biltiBillProcessModel&&(h.biltiBillProcessModel.biltiBillProcessDate=Ga.default.utc(h.biltiBillProcessModel.biltiBillProcessDate).local().format("YYYY-MM-DD"))}),this.biltiBillProcess=p.biltiBillProcess.filter((h,w,N)=>w===N.findIndex(L=>L.id===h.id)),this.totalBiltis=p.paging.total,this.filters=p.filters,this.filteredBiltibillList=[...new Set(p.biltiBillProcess.map(h=>h?.biltiBillProcessModel?.batchNumber))].map(h=>p.biltiBillProcess.find(w=>w.biltiBillProcessModel.batchNumber===h))},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.batchNumber=t.batchNumber,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(St),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-approval-accounts"]],decls:25,vars:21,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"refreshList","biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Approval by Accounts "),n()(),o(3,"div",1)(4,"app-approval-accounts-filter",2),g("filterSearchObj",function(p){return e.filteredData(p)}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-approval-accounts-grid-table",6),g("refreshList",function(){return e.getAllBiltiProcess()}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,NN,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(17,wN,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",ge(19,IN,e.isFilters)),d(3),m("biltiBillProcess",e.biltiBillProcess),d(2),m("collectionSize",e.totalBiltis),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,Vu,c0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();var m0=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-approval-material-filter"]],decls:36,vars:0,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],[1,"input-with-icon"],["type","text",1,"input-field"],["src","assets/images/icons/calendar.svg","alt","Search",1,"search-icon"],["src","assets/images/icons/search.svg","width","12px","alt","Search",1,"search-icon"],["for","",1,"d-block"],[1,"custom-button-filters"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"From Date"),n(),o(6,"div",5),E(7,"input",6)(8,"img",7),n()()(),o(9,"div",2)(10,"div",3)(11,"label",4),s(12,"To Date"),n(),o(13,"div",5),E(14,"input",6)(15,"img",7),n()()(),o(16,"div",2)(17,"div",3)(18,"label",4),s(19,"Batch Name"),n(),o(20,"div",5),E(21,"input",6)(22,"img",8),n()()(),o(23,"div",2)(24,"div",3)(25,"label",4),s(26,"Bilti Number"),n(),o(27,"div",5),E(28,"input",6)(29,"img",8),n()()(),o(30,"div",2)(31,"div",3)(32,"label",9),s(33,"\xA0"),n(),o(34,"button",10),s(35,"Search"),n()()()()())}});let a=r;return a})();var u0=(()=>{let r=class r{constructor(t){this.activeModal=t}};r.\u0275fac=function(i){return new(i||r)(D(ut))},r.\u0275cmp=k({type:r,selectors:[["app-accMat-bilti-process-details-modal"]],decls:182,vars:0,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"float-right",3,"click"],["src","assets/images/icons/close.svg","alt","",1,"pointer"],[1,"clearfix"],[1,"ngmodal-body"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],["type","text","disabled","",1,"input-field"],[1,"modal-subTable"],[1,""],[1,"custom-table"],[1,"ps-0"],[1,"col-lg-10","col-md-10"],["for","",1,"d-block"],[1,"ngmodal-footer","text-center","mt-5"],[1,"col-lg-6","col-md-6"],["name","","id","","cols","10","rows","3","placeholder","Action Remarks"],[1,"col-lg-3","col-md-3"],[1,"custom-button-regulr","me-3"],[1,"custom-button-regulr"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," Bilti Bill Process Details "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n(),E(6,"div",4),n()(),o(7,"form")(8,"div",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label",9),s(13,"Bilti Number"),n(),E(14,"input",10),n()(),o(15,"div",7)(16,"div",8)(17,"label",9),s(18,"Bilti Date"),n(),E(19,"input",10),n()(),o(20,"div",7)(21,"div",8)(22,"label",9),s(23,"Advice Type"),n(),E(24,"input",10),n()(),o(25,"div",7)(26,"div",8)(27,"label",9),s(28,"Document Ref. Number"),n(),E(29,"input",10),n()(),o(30,"div",7)(31,"div",8)(32,"label",9),s(33,"Supplier Name"),n(),E(34,"input",10),n()(),o(35,"div",7)(36,"div",8)(37,"label",9),s(38,"Freight Amount"),n(),E(39,"input",10),n()()(),o(40,"div",6)(41,"div",7)(42,"div",8)(43,"label",9),s(44,"Penalty Amount"),n(),E(45,"input",10),n()(),o(46,"div",7)(47,"div",8)(48,"label",9),s(49,"Penalty Reason"),n(),E(50,"input",10),n()(),o(51,"div",7)(52,"div",8)(53,"label",9),s(54,"Excess Amount"),n(),E(55,"input",10),n()(),o(56,"div",7)(57,"div",8)(58,"label",9),s(59,"Excess Reason"),n(),E(60,"input",10),n()()(),o(61,"div",11)(62,"h4",12),s(63,"Charges by Vendor"),n()(),o(64,"div",13)(65,"table")(66,"thead")(67,"tr")(68,"th",14),s(69,"Freight Charge"),n(),o(70,"th"),s(71,"Point Charge"),n(),o(72,"th"),s(73,"Detention Charge"),n(),o(74,"th"),s(75,"Overload Charge"),n(),o(76,"th"),s(77,"Toll Tax"),n(),o(78,"th"),s(79,"Unloading Charge"),n(),o(80,"th"),s(81,"Other Charges"),n(),o(82,"th"),s(83,"Remarks"),n()()(),o(84,"tbody")(85,"tr")(86,"td",14)(87,"div",8),E(88,"input",10),n()(),o(89,"td")(90,"div",8),E(91,"input",10),n()(),o(92,"td")(93,"div",8),E(94,"input",10),n()(),o(95,"td")(96,"div",8),E(97,"input",10),n()(),o(98,"td")(99,"div",8),E(100,"input",10),n()(),o(101,"td")(102,"div",8),E(103,"input",10),n()(),o(104,"td")(105,"div",8),E(106,"input",10),n()(),o(107,"td")(108,"div",8),E(109,"input",10),n()()()()()(),o(110,"div",11)(111,"h4",12),s(112,"Charges by LG"),n()(),o(113,"div",13)(114,"table")(115,"thead")(116,"tr")(117,"th",14),s(118,"Freight Charge"),n(),o(119,"th"),s(120,"Point Charge"),n(),o(121,"th"),s(122,"Detention Charge"),n(),o(123,"th"),s(124,"Overload Charge"),n(),o(125,"th"),s(126,"Toll Tax"),n(),o(127,"th"),s(128,"Unloading Charge"),n(),o(129,"th"),s(130,"Other Charges"),n(),o(131,"th"),s(132,"Remarks"),n()()(),o(133,"tbody")(134,"tr")(135,"td",14)(136,"div",8),E(137,"input",10),n()(),o(138,"td")(139,"div",8),E(140,"input",10),n()(),o(141,"td")(142,"div",8),E(143,"input",10),n()(),o(144,"td")(145,"div",8),E(146,"input",10),n()(),o(147,"td")(148,"div",8),E(149,"input",10),n()(),o(150,"td")(151,"div",8),E(152,"input",10),n()(),o(153,"td")(154,"div",8),E(155,"input",10),n()(),o(156,"td")(157,"div",8),E(158,"input",10),n()()()()()(),o(159,"div",11)(160,"div",6)(161,"div",7)(162,"div",8)(163,"label",9),s(164,"Grand Total"),n(),E(165,"input",10),n()(),o(166,"div",15)(167,"div",8)(168,"label",16),s(169,"\xA0"),n(),s(170," Four Thousand Nine Hundred Twenty Five Rupees Only "),n()()()()(),o(171,"div",17)(172,"div",6)(173,"div",18)(174,"div",8),E(175,"textarea",19),n()(),o(176,"div",20)(177,"div",8)(178,"button",21),s(179,"Approve"),n(),o(180,"button",22),s(181,"Reject"),n()()()()()()())},dependencies:[Ze,Qe,ga],styles:[".modal-subTable[_ngcontent-%COMP%]{margin-top:var(--spacer-30)}.modal-subTable[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--spacer-16)!important;font-weight:600!important;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacer-15)}"]});let a=r;return a})();function MN(a,r){a&1&&(o(0,"div",5)(1,"div",6)(2,"span"),s(3,"Created On"),n(),o(4,"span"),s(5,"01/01/2024"),n()(),o(6,"div",6)(7,"span"),s(8,"Created By"),n(),o(9,"span"),s(10,"IL0001"),n()()())}var h0=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i}onPreviewBiltiDetails(){this.modalService.open(u0,{size:"xl",backdrop:"static"}).result.then(i=>{},i=>{})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-approval-material-grid-table"]],decls:58,vars:1,consts:[["tipContent",""],[1,"custom-table"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link",1,"pointer",3,"click"],[1,""],[1,"content-row"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Bilti#"),n(),o(6,"th"),s(7,"Bilti Date"),n(),o(8,"th"),s(9,"Bilti Bill Process Date"),n(),o(10,"th"),s(11,"FRLR#"),n(),o(12,"th"),s(13,"Transporter Name"),n(),o(14,"th"),s(15,"Vehicle Number"),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Paid by Amount"),n(),o(20,"th"),s(21,"Debit Amount"),n(),o(22,"th"),s(23,"Bilti Bill Process Details"),n(),o(24,"th"),s(25,"Status"),n(),o(26,"th"),s(27,"Remarks"),n()()(),o(28,"tbody")(29,"tr")(30,"td",2)(31,"span",3)(32,"u"),s(33,"Lorem Ipsum"),n()(),v(34,MN,11,0,"ng-template",null,0,te),n(),o(36,"td"),s(37,"Lorem Ipsum"),n(),o(38,"td"),s(39,"Lorem Ipsum"),n(),o(40,"td"),s(41,"Lorem Ipsum"),n(),o(42,"td"),s(43,"Lorem Ipsum"),n(),o(44,"td"),s(45,"Lorem Ipsum"),n(),o(46,"td"),s(47,"Lorem Ipsum"),n(),o(48,"td"),s(49,"Lorem Ipsum"),n(),o(50,"td"),s(51,"Lorem Ipsum"),n(),o(52,"td")(53,"img",4),g("click",function(){return b(c),y(e.onPreviewBiltiDetails())}),n()(),o(54,"td"),s(55,"Approved"),n(),o(56,"td"),s(57,"Lorem Ipsum"),n()()()()()}if(i&2){let c=R(35);d(31),m("ngbTooltip",c)}},dependencies:[be]});let a=r;return a})();var kN=a=>({"d-none":a}),AN=a=>({isFilters:a}),g0=(()=>{let r=class r{constructor(t){this.router=t,this.isFilters=!0}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-approval-material"]],decls:7,vars:6,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[1,"content-section",3,"ngClass"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Approval"),n()(),o(3,"div",1),E(4,"app-approval-material-filter"),n(),o(5,"div",2),E(6,"app-approval-material-grid-table"),n()),i&2&&(d(3),m("ngClass",ge(2,kN,!e.isFilters)),d(2),m("ngClass",ge(4,AN,e.isFilters)))},dependencies:[ae,m0,h0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();var zo=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getBiltis(t,i=0,e=this.maxCount){return this.post(_p(i,e),t)}getFrmTransactions(t){return this.baseService.post(j.basePath+vp(this.locationIds),t)}createBilti(t){return this.baseService.post(j.basePath+bp,t)}getLoadingLocation(t,i){return this.post(Ut(i),t)}getBiltiData(t,i){return this.get(yp(t,i))}updateBilti(t,i,e){return this.put(Cp(t,i),e)}calculatePointCharge(t){return this.post(zp(),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function ON(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function LN(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function BN(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function VN(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var f0=(()=>{let r=class r{constructor(t){this.lookupService=t,this.getData=new W,this.filters=[],this.biltisList=[],this.loadSpinner=!0,this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.locationsData=new W,this.status=void 0,this.biltiStatus=void 0,this.applicationNumber=void 0,this.clientInvoiceNumber=void 0,this.vendorName=void 0}ngOnInit(){}onBiltiSearch(){let t={vendorName:this.vendorName,status:this.status,applicationNumber:this.applicationNumber,clientInvoiceNumber:this.clientInvoiceNumber};console.log(t),this.getData.emit(t)}onClearFilter(){this.vendorName=null,this.status=void 0,this.applicationNumber=void 0,this.clientInvoiceNumber=void 0;let t={vendorName:null,status:null,applicationNumber:"",clientInvoiceNumber:""};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData",locationsData:"locationsData"},decls:35,vars:8,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["placeholder","Select Vendor",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Application Number",1,"input-field",3,"ngModelChange","ngModel"],["for",""],["placeholder","Select Client Inv No",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click"],[1,"custom-button-filters","ms-2",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label"),s(5,"Vendor Name "),n(),o(6,"ng-select",4),P("ngModelChange",function(p){return M(e.vendorName,p)||(e.vendorName=p),p}),v(7,ON,2,2,"ng-option",5),n()()(),o(8,"div",2)(9,"div",3)(10,"label"),s(11,"Application Number"),n(),o(12,"ng-select",6),P("ngModelChange",function(p){return M(e.applicationNumber,p)||(e.applicationNumber=p),p}),v(13,LN,2,2,"ng-option",5),n()()(),o(14,"div",2)(15,"div",3)(16,"label",7),s(17,"Vendor Inv No "),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.clientInvoiceNumber,p)||(e.clientInvoiceNumber=p),p}),v(19,BN,2,2,"ng-option",5),n()()(),o(20,"div",2)(21,"div",3)(22,"label"),s(23,"Status"),n(),o(24,"ng-select",9),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(25,VN,2,2,"ng-option",5),n()()(),o(26,"div",2)(27,"div",3)(28,"label",10),s(29,"\xA0"),n(),o(30,"div",11)(31,"button",12),g("click",function(){return e.onBiltiSearch()}),s(32,"Search"),n(),o(33,"button",13),g("click",function(){return e.onClearFilter()}),s(34,"Clear"),n()()()()()()),i&2&&(d(6),F("ngModel",e.vendorName),d(),m("ngForOf",e.filters==null?null:e.filters.Vendors),d(5),F("ngModel",e.applicationNumber),d(),m("ngForOf",e.filters==null?null:e.filters.ApplicationNumber),d(5),F("ngModel",e.clientInvoiceNumber),d(),m("ngForOf",e.filters==null?null:e.filters.ClientInvoiceNo),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status))},dependencies:[$,le,se,U,Y],styles:[".custom-form-input[_ngcontent-%COMP%]{position:relative}.suggestions[_ngcontent-%COMP%]{position:absolute;background-color:#fff;border:1px solid #ccc;border-top:none;max-height:var(--spacer-200);width:100%}.suggestion[_ngcontent-%COMP%]{padding:8px 16px;cursor:pointer}.suggestion[_ngcontent-%COMP%]:hover{background-color:#f5faff}"]});let a=r;return a})();var jN=["paymentModal"],_0=a=>({"bg-light":a}),v0=()=>({standalone:!0});function GN(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",10)(2,"input",11),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.isSelected,i)||(e.isSelected=i),y(i)}),g("change",function(){b(l);let i=S();return y(i.calculateForAllInvoices())}),n()(),o(3,"td"),s(4),K(5,"date"),n(),o(6,"td"),s(7),n(),o(8,"td"),s(9),n(),o(10,"td"),s(11),K(12,"date"),n(),o(13,"td"),s(14),K(15,"currency"),n(),o(16,"td"),s(17),K(18,"number"),n()()}if(a&2){let l=r.$implicit;d(2),F("ngModel",l.isSelected),d(2),_(ee(5,7,l==null?null:l.invoiceDate,"dd-MM-yyyy")),d(3),_((l==null?null:l.clientInvoiceNo)||"-"),d(2),_((l==null?null:l.vendorDetails.vendorName)||"-"),d(2),_(ee(12,10,l==null?null:l.dueDateAsPerInvoice,"dd-MM-yyyy")),d(3),_(Bc(15,13,(l==null?null:l.totalAmount)||0,l==null?null:l.vendorDetails.currencySymbol,"symbol","1.2-2")),d(3),_(ee(18,18,(l==null?null:l.remainingBalance)||0,"1.2-2"))}}function WN(a,r){a&1&&(o(0,"tr")(1,"td",12),s(2,"No invoice Found"),n()())}function UN(a,r){a&1&&(o(0,"span",23),s(1,"*"),n())}function HN(a,r){a&1&&(o(0,"span",23),s(1,"*"),n())}function zN(a,r){if(a&1&&(o(0,"th"),s(1),K(2,"number"),o(3,"span",23),s(4,"*"),n()()),a&2){let l=S(2);d(),Ce("Payment Amount (Max: ",ee(2,1,l.selectedInvoicesTotal,"1.2-2"),") ")}}function qN(a,r){a&1&&(o(0,"th"),s(1,"Bank Charges (User Input) "),o(2,"span",23),s(3,"*"),n()())}function YN(a,r){a&1&&(o(0,"th"),s(1,"Bank Charges (Distributed)"),n())}function $N(a,r){if(a&1){let l=O();o(0,"td")(1,"input",45),P("ngModelChange",function(i){b(l);let e=S().$implicit;return M(e.partialAmount,i)||(e.partialAmount=i),y(i)}),g("keypress",function(i){b(l);let e=S(3);return y(e.validateDecimal(i))})("input",function(){b(l);let i=S().$implicit,e=S(2);return y(e.calculatePartialAmounts(i))}),n()()}if(a&2){let l=S().$implicit;d(),F("ngModel",l.partialAmount),m("ngModelOptions",pi(3,v0))("max",l.remainingBalance)}}function QN(a,r){if(a&1){let l=O();o(0,"td")(1,"input",46),P("ngModelChange",function(i){b(l);let e=S().$implicit;return M(e.partialBankCharges,i)||(e.partialBankCharges=i),y(i)}),g("keypress",function(i){b(l);let e=S(3);return y(e.validateDecimal(i))})("input",function(){b(l);let i=S().$implicit,e=S(2);return y(e.calculatePartialAmounts(i))}),n()()}if(a&2){let l=S().$implicit;d(),F("ngModel",l.partialBankCharges),m("ngModelOptions",pi(2,v0))}}function ZN(a,r){if(a&1&&(o(0,"td"),s(1),K(2,"number"),n()),a&2){let l=S().$implicit;d(),Ce(" ",ee(2,1,l.calculatedBankCharges,"1.2-2")," ")}}function KN(a,r){if(a&1&&(o(0,"tr",44)(1,"td"),s(2),n(),o(3,"td"),s(4),K(5,"number"),n(),v(6,$N,2,4,"td",9)(7,QN,2,3,"td",9)(8,ZN,3,4,"td",9),o(9,"td"),s(10),K(11,"number"),n()()),a&2){let l,t,i,e=r.$implicit,c=S(2);m("hidden",!e.isSelected),d(2),_(e.clientInvoiceNo),d(2),_(ee(5,7,e.remainingBalance||0,"1.2-2")),d(2),m("ngIf",((l=c.paymentForm.get("paymentType"))==null?null:l.value)==="partial"),d(),m("ngIf",((t=c.paymentForm.get("paymentType"))==null?null:t.value)==="partial"),d(),m("ngIf",((i=c.paymentForm.get("paymentType"))==null?null:i.value)==="full"),d(2),Ce(" ",ee(11,10,e.calculatedTotalINR||0,"1.2-2")," ")}}function JN(a,r){if(a&1&&(o(0,"span",47),s(1),n()),a&2){let l=S(2);d(),_(l.validationError)}}function XN(a,r){if(a&1){let l=O();o(0,"div",13)(1,"h5",14),s(2,"Payment Details"),n(),o(3,"button",15),g("click",function(){let i=b(l).$implicit;return y(i.dismiss())}),n()(),o(4,"div",16)(5,"form",17)(6,"div",18)(7,"span",19),s(8,"\u{1F4B0} Total Selected Invoice Amount:"),n(),o(9,"span",20),s(10),K(11,"number"),n()(),o(12,"div",21)(13,"div",22)(14,"label"),s(15,"Payment Type "),o(16,"span",23),s(17,"*"),n()(),o(18,"ng-select",24),g("change",function(){b(l);let i=S();return y(i.onPaymentTypeChange())}),n()(),o(19,"div",22)(20,"label"),s(21,"Payment Date "),o(22,"span",23),s(23,"*"),n()(),o(24,"div",25),E(25,"input",26,2),o(27,"button",27),g("click",function(){b(l);let i=R(26);return y(i.toggle())}),E(28,"img",28),n()()(),o(29,"div",22)(30,"label"),s(31,"Bank "),o(32,"span",23),s(33,"*"),n()(),E(34,"ng-select",29),n(),o(35,"div",22)(36,"label"),s(37,"Currency "),o(38,"span",23),s(39,"*"),n()(),E(40,"ng-select",30),n(),o(41,"div",22)(42,"label"),s(43,"OWRM No "),o(44,"span",23),s(45,"*"),n()(),E(46,"input",31),n(),o(47,"div",22)(48,"label"),s(49,"Forex Amount "),v(50,UN,2,0,"span",32),n(),o(51,"input",33),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))})("input",function(){b(l);let i=S();return y(i.calculateAmounts())}),n()(),o(52,"div",22)(53,"label"),s(54,"Rate Of Exchange "),o(55,"span",23),s(56,"*"),n()(),o(57,"input",34),g("input",function(){b(l);let i=S();return y(i.calculateAmounts())}),n()(),o(58,"div",22)(59,"label"),s(60,"Bank Charges "),v(61,HN,2,0,"span",32),n(),o(62,"input",35),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))})("input",function(){b(l);let i=S();return y(i.calculateAmounts())}),n()()(),o(63,"div",36)(64,"table",37)(65,"thead",38)(66,"tr")(67,"th"),s(68,"Invoice No"),n(),o(69,"th"),s(70,"Remaining Amount"),n(),v(71,zN,5,4,"th",9)(72,qN,4,0,"th",9)(73,YN,2,0,"th",9),o(74,"th"),s(75,"Total Amount (INR)"),n()()(),o(76,"tbody"),v(77,KN,12,13,"tr",39),n()()()()(),o(78,"div",40),v(79,JN,2,1,"span",41),o(80,"button",42),g("click",function(){let i=b(l).$implicit;return y(i.dismiss())}),s(81,"Cancel"),n(),o(82,"button",43),g("click",function(){b(l);let i=S();return y(i.submitPayment())}),s(83,"Submit"),n()()}if(a&2){let l,t,i,e,c,p,h,w,N,L=S();d(5),m("formGroup",L.paymentForm),d(5),Ce(" ",ee(11,18,L.selectedInvoicesTotal,"1.2-2")," "),d(8),m("items",L.paymentTypes),d(16),m("items",L.transactionTypesList),d(6),m("items",L.currencyList)("disabled",!0),d(10),m("ngIf",((l=L.paymentForm.get("paymentType"))==null?null:l.value)==="full"),d(),m("readonly",((t=L.paymentForm.get("paymentType"))==null?null:t.value)==="partial")("ngClass",ge(21,_0,((i=L.paymentForm.get("paymentType"))==null?null:i.value)==="partial")),d(10),m("ngIf",((e=L.paymentForm.get("paymentType"))==null?null:e.value)==="full"),d(),m("readonly",((c=L.paymentForm.get("paymentType"))==null?null:c.value)==="partial")("ngClass",ge(23,_0,((p=L.paymentForm.get("paymentType"))==null?null:p.value)==="partial")),d(9),m("ngIf",((h=L.paymentForm.get("paymentType"))==null?null:h.value)==="partial"),d(),m("ngIf",((w=L.paymentForm.get("paymentType"))==null?null:w.value)==="partial"),d(),m("ngIf",((N=L.paymentForm.get("paymentType"))==null?null:N.value)==="full"),d(4),m("ngForOf",L.biltisList),d(2),m("ngIf",L.validationError),d(3),m("disabled",L.disableSubmit||L.paymentForm.invalid)}}var b0=(()=>{let r=class r{constructor(t,i,e,c,p,h,w){this.router=t,this.modalService=i,this.biltiService=e,this.toastr=c,this.lookupService=p,this.transactionType=h,this.fb=w,this.biltisList=[],this.loadSpinner=!1,this.transactionTypesList=[],this.currencyList=[],this.selectedInvoiceIds=[],this.paymentSuccess=new W,this.paymentTypes=[{name:"Full Payment",value:"full"},{name:"Partial Payment",value:"partial"}],this.validationError="",this.disableSubmit=!1,this.activeModal=null}ngOnInit(){this.getPaymentCurrencyList(),this.getAllTransactionTypes(),this.initializeForm(),this.paymentForm.get("paymentType")?.valueChanges.subscribe(()=>{this.onPaymentTypeChange()}),this.paymentForm.get("rate")?.valueChanges.subscribe(()=>this.calculateAmounts()),this.paymentForm.get("bankCharges")?.valueChanges.subscribe(()=>this.calculateAmounts())}initializeForm(){this.paymentForm=this.fb.group({paymentType:["full",[A.required]],paymentDate:["",[A.required]],bankID:["",[A.required]],owrmNo1:["",[A.required]],rate:[0,[A.required,A.min(.01)]],quantity:[1,[A.required,A.min(1)]],paymentCurrency:[null,A.required],bankCharges:[0,[A.required,A.min(0)]]})}get selectedInvoicesTotal(){return this.biltisList?this.biltisList.filter(t=>t.isSelected).reduce((t,i)=>t+(parseFloat(i.remainingBalance)||0),0):0}onPaymentTypeChange(){let t=this.paymentForm.get("paymentType")?.value,i=this.paymentForm.get("rate"),e=this.paymentForm.get("bankCharges");this.validationError="",this.disableSubmit=!0,this.resetInvoiceCalculations(),t==="full"?(i?.enable(),e?.enable(),i?.setValidators([A.required,A.min(.01)]),e?.setValidators([A.required,A.min(0)]),i?.patchValue(this.selectedInvoicesTotal),e?.patchValue(0),this.calculateAmounts()):t==="partial"&&(i?.disable(),e?.disable(),i?.clearValidators(),e?.clearValidators(),i?.patchValue(0),e?.patchValue(0)),i?.updateValueAndValidity(),e?.updateValueAndValidity()}calculateForAllInvoices(){this.paymentForm.get("paymentType")?.value==="full"?this.onPaymentTypeChange():this.biltisList.forEach(t=>{t.isSelected?(t.partialAmount=t.partialAmount||0,t.partialBankCharges=t.partialBankCharges||0,this.calculatePartialAmounts(t)):this.clearInvoiceCalculations(t)})}clearInvoiceCalculations(t){t.calculatedTotalINR=0,t.calculatedBankCharges=0,t.partialAmount=0,t.partialBankCharges=0}calculatePartialAmounts(t){let i=t.partialBankCharges,e=this.paymentForm.get("quantity")?.value,c=parseFloat(t.partialAmount)||0,p=parseFloat(i)||0,h=parseFloat(e)||0;if(this.validationError="",this.disableSubmit=!1,i===""||i===null||i===void 0||p<0){this.validationError=`Bank Charges for Invoice ${t.clientInvoiceNo} cannot be blank or negative. Enter 0 if applicable.`,this.disableSubmit=!0,t.calculatedTotalINR=0,t.calculatedBankCharges=0;return}if(c>t.remainingBalance){this.validationError=`Payment amount for Invoice ${t.clientInvoiceNo} cannot exceed ${t.remainingBalance.toFixed(2)}.`,this.disableSubmit=!0,t.calculatedTotalINR=0,t.calculatedBankCharges=0;return}t.calculatedBankCharges=p,t.calculatedTotalINR=c*h+p,h<=0||isNaN(h)?(this.validationError="Rate Of Exchange must be entered and greater than zero.",this.disableSubmit=!0):this.biltisList.filter(w=>w.isSelected).some(w=>(parseFloat(w.partialAmount)||0)<=0)&&(this.validationError="All selected invoices must have a payment amount greater than zero.",this.disableSubmit=!0),!this.disableSubmit&&this.paymentForm.invalid&&(this.disableSubmit=!0)}openPaymentModal(){if(this.selectedInvoiceIds=this.biltisList.filter(e=>e.isSelected).map(e=>e.id),!this.selectedInvoiceIds.length){this.toastr.error("Please select at least one invoice.");return}let i=this.biltisList.find(e=>e.isSelected)?.vendorDetails?.currency||null;this.paymentForm.reset(),this.paymentForm.patchValue({paymentType:"full",quantity:1,paymentCurrency:i}),this.onPaymentTypeChange(),this.paymentForm.get("paymentCurrency")?.disable(),this.resetInvoiceCalculations(),this.calculateAmounts(),this.activeModal=this.modalService.open(this.paymentModal,{size:"xl",backdrop:"static"})}calculateAmounts(){let t=this.paymentForm.value;if(t.paymentType==="partial")return;let e=parseFloat(t.rate)||0,c=parseFloat(t.quantity)||0,p=parseFloat(t.bankCharges)||0,h=this.selectedInvoicesTotal;if(this.validationError="",!(Math.abs(e-h)<.001)){this.validationError=`Forex Amount (${e.toFixed(2)}) must be equal to Total Selected Remaining Amount (${h.toFixed(2)}).`,this.disableSubmit=!0,this.resetInvoiceCalculations(!0);return}this.disableSubmit=!1,this.biltisList.forEach(N=>{if(N.isSelected){let L=parseFloat(N.remainingBalance)||0,V=h>0?L/h:0,I=p*V,G=L*c+I;N.calculatedBankCharges=I,N.calculatedTotalINR=G}else N.calculatedBankCharges=0,N.calculatedTotalINR=0})}submitPayment(){if(this.disableSubmit){this.toastr.error(this.validationError||"There are validation errors. Please check your amounts.");return}let t=this.prepareFinalPaymentPayload();if(!t.PaymentDetails||t.PaymentDetails.length===0){this.toastr.error("No selected invoices to process.");return}this.sendPaymentPayload(t)}sendPaymentPayload(t){this.loadSpinner=!0,this.biltiService.createBilti(t).subscribe(()=>{this.loadSpinner=!1,this.toastr.success("Payment added successfully!"),this.paymentForm.reset(),this.paymentSuccess.emit(),this.activeModal&&(this.activeModal.close("submit success"),this.activeModal=null)},i=>{this.loadSpinner=!1,console.error("Error while adding payment:",i),this.toastr.error("Failed to add payment."),this.activeModal&&(this.activeModal.close("submit failed"),this.activeModal=null)})}resetInvoiceCalculations(t=!1){this.biltisList.forEach(i=>{i.calculatedBankCharges=0,i.calculatedTotalINR=0,t||(i.partialAmount=0,i.partialBankCharges=0)})}prepareFinalPaymentPayload(){let t=[],i=this.paymentForm.value,e=i.paymentType,c=parseFloat(i.bankCharges)||0,p=this.selectedInvoicesTotal,h=parseFloat(i.quantity)||0;return this.biltisList.filter(w=>w.isSelected).forEach(w=>{let N=0,L=0,V=parseFloat(w.remainingBalance)||0;if(e==="partial")N=parseFloat(w.partialAmount)||0,L=parseFloat(w.partialBankCharges)||0;else{N=V;let I=p>0?V/p:0;L=c*I}t.push({VendorInvoiceId:w.id,paymentDate:this.convertNgbToDate(i.paymentDate),bankID:i.bankID,paymentCurrency:this.paymentForm.get("paymentCurrency")?.value,oWRMNo1:i.owrmNo1,rate:N,bankcharges:L,quantity:h,isPartial:e==="partial"})}),{PaymentDetails:t}}getPaymentCurrencyList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Currency").subscribe(t=>{this.currencyList=t.lookUps||[],this.loadSpinner=!1})}getAllTransactionTypes(t=0,i=0,e=""){let c={bankCode:e?.transactionTypeCode||"",bankName:e?.transactionTypeName||"",status:"Active"};this.transactionType.getTransactionTypes(c,t,i).subscribe(p=>{this.transactionTypesList=p.banks},()=>this.loadSpinner=!1)}convertNgbToDate(t){if(!t)return null;let i=Number(t.month)<10?"0"+t.month:t.month,e=Number(t.day)<10?"0"+t.day:t.day;return t.year+"-"+i.toString()+"-"+e.toString()}validateDecimal(t){let i=/[0-9.]/,e=String.fromCharCode(t.charCode);i.test(e)||t.preventDefault();let c=t.target.value;e==="."&&c.includes(".")&&t.preventDefault()}trackByFn(t,i){return i.id||t}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe),D(zo),D(Z),D(ye),D(xi),D(mt))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(jN,5),i&2){let c;we(c=Ie())&&(e.paymentModal=c.first)}},inputs:{biltisList:"biltisList"},outputs:{paymentSuccess:"paymentSuccess"},decls:27,vars:3,consts:[["table",""],["paymentModal",""],["dp","ngbDatepicker"],[1,"custom-table"],[1,"text-end","mt-3"],[1,"btn","btn-primary",3,"click"],[1,"table"],[1,"table-light;justify-content-between"],[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],[1,""],["type","checkbox",3,"ngModelChange","change","ngModel"],["colspan","8",1,"text-center"],[1,"modal-header"],[1,"modal-title"],["type","button","aria-label","Close",1,"btn-close",3,"click"],[1,"modal-body"],[3,"formGroup"],[1,"mb-3","p-2","bg-light","rounded","d-flex"],[1,"fw-bold","text-dark"],[1,"fw-bold","text-danger","ms-2"],[1,"row","g-2"],[1,"col-md-3"],[1,"text-danger"],["formControlName","paymentType","bindLabel","name","bindValue","value","placeholder","Select Type",3,"change","items"],[1,"input-group","datepicker"],["placeholder","dd-MM-yyyy","formControlName","paymentDate","ngbDatepicker","","readonly","",1,"form-control"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["src","assets/images/icons/calendar.svg","width","15px"],["formControlName","bankID","bindLabel","bankName","bindValue","id","placeholder","Select Bank",3,"items"],["formControlName","paymentCurrency","bindLabel","value","bindValue","value","placeholder","Select Currency",3,"items","disabled"],["formControlName","owrmNo1","type","text","placeholder","OWRM No",1,"form-control"],["class","text-danger",4,"ngIf"],["formControlName","rate","type","number","min","0",1,"form-control",3,"keypress","input","readonly","ngClass"],["formControlName","quantity","type","number","min","1",1,"form-control",3,"input"],["formControlName","bankCharges","type","number",1,"form-control",3,"keypress","input","readonly","ngClass"],[1,"mt-4"],[1,"table","table-bordered"],[1,"table-light"],[3,"hidden",4,"ngFor","ngForOf"],[1,"modal-footer"],["class","text-danger me-auto",4,"ngIf"],[1,"btn","btn-secondary",3,"click"],[1,"btn","btn-primary",3,"click","disabled"],[3,"hidden"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","keypress","input","ngModel","ngModelOptions","max"],["type","number","min","0",1,"form-control","form-control-sm",3,"ngModelChange","keypress","input","ngModel","ngModelOptions"],[1,"text-danger","me-auto"]],template:function(i,e){if(i&1){let c=O();o(0,"div",3)(1,"div",4)(2,"button",5),g("click",function(){return b(c),y(e.openPaymentModal())}),s(3,"Make Payment"),n()(),o(4,"table",6,0)(6,"thead")(7,"tr",7)(8,"th"),s(9,"Select"),n(),o(10,"th"),s(11,"Invoice Date"),n(),o(12,"th"),s(13,"Vendor Invoice No"),n(),o(14,"th"),s(15,"Vendor Name"),n(),o(16,"th"),s(17,"Due Date"),n(),o(18,"th"),s(19,"Total Amount"),n(),o(20,"th"),s(21,"Remaining Amount"),n()()(),o(22,"tbody"),v(23,GN,19,21,"tr",8)(24,WN,3,0,"tr",9),n()()(),v(25,XN,84,25,"ng-template",null,1,te)}i&2&&(d(23),m("ngForOf",e.biltisList)("ngForTrackBy",e.trackByFn),d(),m("ngIf",e.biltisList.length===0))},dependencies:[ae,$,z,le,Ze,Ae,Po,Ii,U,Qe,nm,im,Y,nt,ot,Tt,Wc,Uc,Se]});let a=r;return a})();var tF=a=>({"d-none":a}),iF=(a,r)=>({isFilters:a,fullScreen:r});function nF(a,r){if(a&1){let l=O();o(0,"img",15),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function oF(a,r){a&1&&(o(0,"div",16),s(1,` Loading...
`),n())}var y0=(()=>{let r=class r{constructor(t,i){this.router=t,this.biltiService=i,this.isFilters=!0,this.fullScreen=!1,this.biltisList=[],this.currentPage=1,this.count=10,this.totalBiltis=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE,this.loadSpinner=!0,this.locations=[]}ngOnInit(){this.getAllBiltisList()}onCreateBilti(){this.router.navigate(["transaction/addEditBilti/0"])}getAllBiltisList(t=0,i=this.count,e=this.appliedFilters){let c={ApplicationNumber:e?.applicationNumber||"",ClientInvoiceNumber:e?.clientInvoiceNumber||"",Status:e?.status||"",VendorName:e?.vendorName||""};this.biltiService.getBiltis(c,t,i).subscribe(p=>{this.biltisList=p.vendorInvoiceTxns,this.totalBiltis=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getAllBiltisList(0,this.count,this.appliedFilters)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltisList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltisList(0,this.count,this.appliedFilters)}reloadList(){let t=(this.currentPage-1)*this.count;this.getAllBiltisList(t,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(zo))},r.\u0275cmp=k({type:r,selectors:[["app-bilti"]],decls:27,vars:23,consts:[[1,"page-title"],[1,"action-buttons"],[1,"filter-section",3,"ngClass"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"paymentSuccess","biltisList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Payment Method"),n(),E(3,"div",1),n(),o(4,"div",2)(5,"app-bilti-filter",3),g("getData",function(p){return e.getData(p)}),n()(),o(6,"div",4),v(7,nF,1,0,"img",5),o(8,"div",6)(9,"div",7)(10,"app-bilti-grid-table",8),g("paymentSuccess",function(){return e.reloadList()}),n()(),o(11,"div",9)(12,"ngb-pagination",10),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(13,"p",11),s(14," Items per page:"),n(),o(15,"select",12),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(16,"option",13),s(17,"10"),n(),o(18,"option",13),s(19,"20"),n(),o(20,"option",13),s(21,"50"),n(),o(22,"option",13),s(23,"100"),n(),o(24,"option",13),s(25,"500"),n()()()()(),v(26,oF,2,0,"div",14)),i&2&&(d(4),m("ngClass",ge(18,tF,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",$e(20,iF,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("biltisList",e.biltisList),d(2),m("collectionSize",e.totalBiltis),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,f0,b0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 250px)}"]});let a=r;return a})();function rF(a,r){if(a&1&&(o(0,"ng-option",22),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function aF(a,r){if(a&1){let l=O();o(0,"tr")(1,"td")(2,"input",19),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.selected,i)||(e.selected=i),y(i)}),g("change",function(){b(l);let i=S();return y(i.checkIfAllSelected())}),n()(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n()()}if(a&2){let l=r.$implicit;d(2),F("ngModel",l.selected),d(2),_(l==null?null:l.dispatchNumber),d(2),_(l==null||l.suppliers==null?null:l.suppliers.vendorCode),d(2),_(l==null||l.suppliers==null?null:l.suppliers.vendorName),d(2),_(l==null||l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l==null||l.vehicles==null||l.vehicles.vehicleSize==null?null:l.vehicles.vehicleSize.value)}}function lF(a,r){a&1&&(o(0,"tr")(1,"td",23),s(2,"No Result Found"),n()())}var C0=(()=>{let r=class r{constructor(t,i){this.activeModal=t,this.dispatchNoteService=i,this.dispatchNotes=[],this.count=Number.MAX_VALUE,this.filters=[],this.dispatchNumber="",this.selectAll=!1}ngOnInit(){this.getDispatchData()}getDispatchData(t=0,i=this.count){let e={locationIds:[this.locationId],dispatchNumber:this.dispatchNumber||"",status:"open",frlrNumber:"",transporterCode:this.transporterCode,transporterName:"",vendorCodes:this.vendorCode,vendorNames:[]};this.dispatchNoteService.getDispatchNote(e,t,i).subscribe(c=>{let p=this.dispatchNo.map(h=>h.documentrefNo);this.dispatchNotes=c?.dispatchNotes.filter(h=>h?.frlrNumber==null&&!p.includes(h?.dispatchNumber))})}toggleSelectAll(){this.dispatchNotes.forEach(t=>t.selected=this.selectAll)}checkIfAllSelected(){this.selectAll=this.dispatchNotes.every(t=>t.selected)}getSelectedDispatchNotes(){return this.dispatchNotes.filter(t=>t?.selected)}onSavePress(){let t=this.getSelectedDispatchNotes();this.activeModal.close(t.length?t:this.dispatchNotes)}onClearFilter(){this.dispatchNumber="",this.getDispatchData()}};r.\u0275fac=function(i){return new(i||r)(D(ut),D(oi))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-rb-txn-data"]],inputs:{biltiTransactionType:"biltiTransactionType",dispatchNoteId:"dispatchNoteId",selectedTransactionTypeCode:"selectedTransactionTypeCode",transporterCode:"transporterCode",vendorCode:"vendorCode",locationId:"locationId",dispatchNo:"dispatchNo"},decls:45,vars:5,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"float-right",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"row","d-flex","mb-2"],[1,"col-3"],[1,"custom-form-input"],["for",""],["placeholder","Select Dispatch No",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-2"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click"],[1,"custom-button-filters","ms-2",3,"click"],[1,"col"],[1,"d-flex","justify-content-end"],[1,"custom-button-regulr",3,"click"],[1,"custom-table"],["type","checkbox",1,"custom-checkbox","mt-2",3,"ngModelChange","change","ngModel"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"value"],["align","center","colspan","13"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," Dispatch Notes "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n()()(),o(6,"div",4)(7,"div",5)(8,"div",6)(9,"label",7),s(10,"Dispatch Number"),n(),o(11,"ng-select",8),P("ngModelChange",function(p){return M(e.dispatchNumber,p)||(e.dispatchNumber=p),p}),v(12,rF,2,2,"ng-option",9),n()()(),o(13,"div",10)(14,"div",6)(15,"label",11),s(16,"\xA0"),n(),o(17,"div",12)(18,"button",13),g("click",function(){return e.getDispatchData()}),s(19,"Search"),n(),o(20,"button",14),g("click",function(){return e.onClearFilter()}),s(21,"Clear"),n()()()(),o(22,"div",15)(23,"div",16)(24,"button",17),g("click",function(){return e.onSavePress()}),s(25,"Add"),n()()()(),o(26,"div",18)(27,"table")(28,"thead")(29,"tr")(30,"th")(31,"input",19),P("ngModelChange",function(p){return M(e.selectAll,p)||(e.selectAll=p),p}),g("change",function(){return e.toggleSelectAll()}),n()(),o(32,"th"),s(33,"Dispatch Number"),n(),o(34,"th"),s(35,"Supplier Code"),n(),o(36,"th"),s(37,"Supplier Name"),n(),o(38,"th"),s(39,"Vehicle Number"),n(),o(40,"th"),s(41,"Vehicle Size"),n()()(),o(42,"tbody"),v(43,aF,13,6,"tr",20)(44,lF,3,0,"tr",21),n()()()()),i&2&&(d(11),F("ngModel",e.dispatchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.DispatchNumber),d(19),F("ngModel",e.selectAll),d(12),m("ngForOf",e.dispatchNotes),d(),m("ngIf",e.dispatchNotes.length==0))},dependencies:[$,z,le,se,Ii,U,Y],styles:[".custom-checkbox[_ngcontent-%COMP%]{width:15px;height:15px}"]});let a=r;return a})();function sF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function dF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),qi("",l==null?null:l.code," (",l==null?null:l.name,")")}}function cF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l==null?null:l.frlrNumber)}}function pF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l.vehicleNumber)}}function mF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l.transporterCode),d(),qi("",l==null?null:l.transporterCode," (",l==null?null:l.transporterName,")")}}function uF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l.transportationMode.value)}}function hF(a,r){a&1&&(o(0,"div",7)(1,"div",8)(2,"label",9),s(3,"Bilti Number"),n(),E(4,"input",36),n()())}function gF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l.freightCode)}}function fF(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function _F(a,r){if(a&1&&(o(0,"ng-option",35),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),Ce(" ",l.vendorCode,"")}}function vF(a,r){if(a&1){let l=O();o(0,"td",53)(1,"img",54),g("click",function(){b(l);let i=S().index,e=S();return y(e.deleteRow(i))}),n()()}}function bF(a,r){if(a&1&&(Mt(0,37),o(1,"tr")(2,"td"),s(3),n(),o(4,"td")(5,"div",38)(6,"div",39)(7,"div",40),E(8,"input",41),n()()()(),o(9,"td")(10,"div",42)(11,"div",39)(12,"div",40),E(13,"input",43),n()()()(),o(14,"td")(15,"div",42)(16,"div",39),E(17,"input",44),n()()(),o(18,"td")(19,"div",42)(20,"div",39)(21,"ng-select",45),v(22,_F,2,2,"ng-option",12),n()()()(),o(23,"td")(24,"div",42)(25,"div",39),E(26,"input",46),n()()(),o(27,"td")(28,"div",38)(29,"div",39),E(30,"input",47),n()()(),o(31,"td")(32,"div",38)(33,"div",39),E(34,"input",48),n()()(),o(35,"td")(36,"div",38)(37,"div",39),E(38,"input",49),n()()(),o(39,"td")(40,"div",50)(41,"div",39),E(42,"input",51),n()()(),v(43,vF,2,0,"td",52),n(),Pt()),a&2){let l=r.$implicit,t=r.index,i=S();m("formGroupName",t),d(3),_(t+1),d(18),m("readonly",!0),d(),m("ngForOf",i.filteredVendorcode),d(8),m("readonly",!0),d(12),m("readonly",!0),d(),m("ngIf",l.value.isFromBiltiRbTxn==!0)}}function yF(a,r){a&1&&(o(0,"div",55),s(1,` Loading...
`),n())}var gd=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N,L,V,I,G,oe,q){this.router=t,this.biltiService=i,this.toastr=e,this.activatedRoute=c,this.dispatchNoteService=p,this.fb=h,this.plantService=w,this.vehicleService=N,this.transporterService=L,this.freightService=V,this.vendorService=I,this.pointChargeService=G,this.lookUpService=oe,this.modalService=q,this.transporterMapCode={},this.transporterMapName={},this.vendorMapCode={},this.vendorMapName={},this.pointMapName={},this.pointMapCharge={},this.paidByDetailsMap={},this.vendorIdMap={},this.frlrList=[],this.transactionTypesLists=[],this.selectedTransactionType="",this.frmTransactionData=[],this.vehiclesList=[],this.transportersList=[],this.loadSpinner=!1,this.freightList=[],this.vendorList=[],this.pointChargesList=[],this.transactionTypeId=0,this.transporterId=0,this.vendorId=[],this.pointChargeId=0,this.freightId=0,this.vehicleId=0,this.frmId=0,this.biltiId=0,this.loadingLocationid=0,this.biltiCreationLineItemsData=[],this.selectedTransactionTypeCode="",this.selectedTransactionTypePatchCode="",this.loadingLocation=[],this.filteredTransactionTypesLists=[],this.filteredVehiclesLists=[],this.filteredFreightsLists=[],this.filteredTransportersLists=[],this.filteredLoadinglocation=[],this.filteredVendorcode=[],this.filteredPointname=[],this.frmDocument=[],this.allFrmTransactionData=[],this.displayRows=[],this.pointName="",this.biltiTransactionType="",this.editDisplayrow=[],this.lineItem=[],this.dispatchNotes=[],this.matchedDispatchNotes=[],this.rbVehicleNumber="",this.locations=j.commonLocationsList,this.commonLocations=[],this.plantCodes=j.plantCodes,this.biltisList=[],this.biltiLocationId=0,this.dispatchData=[],this.patchedPointName=[],this.rbSelectedNotes=[],this.displayRowsRb=[],this.combinedRows=[],this.freightCode="",this.dispatchNoteId=[],this.transporterMode=[],this.taxationType="",this.taxCode="",this.tdsCode="",this.modeofTransport="",this.filteredTransporter=[],this.selectedLocationId=0,this.filteredVehicles=[],this.filteredFreights=[],this.autobiltiRequiredFlag="",this.locationsDropdownData=[],this.vehicleSize=[],this.vehicleSizeData=[],this.activeTransporterMappings=[],this.freightListFiltered=[],this.matchedPlants=[],this.plantsList=[],this.createLineItem=[],this.selectedPlantCode=[],this.lineItemId=0,this.vendorCode=[],this.selectedFrlr="",this.rbDispatchNumbers=[],this.pointChargeData=[],this.isPointChargeCalculated=!1,this.patchedRbDispatchNotes=[],this.deletedRow=[]}ngOnInit(){this.getCommonLocations(),this.getLocations(),this.getVehicleSize(),this.biltiId=Number(this.activatedRoute.snapshot.paramMap.get("biltiId"));let t=this.activatedRoute.snapshot.paramMap.get("locationId");t&&(this.locationId=Number(t)),this.initForm(),this.loadSpinner=!0;let i=!1;Tc({transporters:this.getAllTransportersList(),transactionTypes:this.getAllTransactionTypes(),freights:this.getAllFreightList(),vendors:this.getAllVendorList(),pointCharges:this.getAllPointChargesList(),loadingLocation:this.getLoadingLocationData(),vehicleNumbers:this.getVehicleNumber(),plantList:this.getPlantsList()}).subscribe({next:e=>{this.biltiId>0?this.getEditBiltiData().subscribe(()=>{i=!0,this.loadSpinner=!1}):this.loadSpinner=!1},error:e=>{this.loadSpinner=!1}}),this.setLocation(),this.selectedLocationId=this.biltiForm?.controls.locationId?.value}getCommonLocations(){this.commonLocations=j.commonLocationsList}getLocations(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookUpService.getLocationsLookup(t,"Locations").subscribe(e=>{this.locationsDropdownData=e.lookUps.filter(c=>c.status==="Active"&&this.commonLocations.some(p=>p.id===c.id))},e=>{})}getVehicleSize(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookUpService.getLocationsLookup(t,"vehicleSize").subscribe(e=>{this.vehicleSize=e.lookUps.filter(c=>c.status==="Active")},e=>{})}initForm(){this.biltiForm=this.fb.group({locationId:new J("",[A.required]),transactionType:new J("",[A.required]),frlrNo:new J("",[A.required]),vehicleNumber:new J("",[A.required]),vehicleSize:new J(null),source:new J(""),destination:new J(""),freightCode:new J("",[A.required]),freightAmount:new J(null),transporterCode:new J("",[A.required]),transporterName:new J(""),loadingLocation:new J(null,[A.required]),status:new J("Active"),transporterMode:[""],biltiNumber:"",vendors:this.fb.array([])})}createVendorGroup(t){return this.fb.group({vendorCode:["",[A.required]],vendorName:[""],pointName:[""],pointCharge:[0],remarks:[""],paidByDetails:[""],biltiStatus:["Active"],biltiDetailsTransactionType:[""],documentrefNo:[""],dispatchNoteId:[0],source:[""],isFromBiltiRbTxn:""})}getVendorControls(){return this.biltiForm.get("vendors").controls}onCancelPress(){this.router.navigate(["transaction/bilti"])}getAllTransactionTypes(){let t={locationIds:[],plantCode:"",auCode:"",siteCode:"",status:""};return this.plantService.getPlants(t).pipe(ei(i=>{let e=i.plants,c=e.filter(p=>p.status==="Active");this.transactionTypesLists=e.flatMap(p=>p.transactionTypeMapping||[]).reduce((p,h)=>(p.find(N=>N.code===h.code)||p.push(h),p),[]),this.filteredTransactionTypesLists=c.flatMap(p=>p.transactionTypeMapping||[]).reduce((p,h)=>(p.find(N=>N.code===h.code)||p.push(h),p),[])}))}getFrlr(t){t==="INVOICE-RB"?t="INVOICE":t==="RTV-RB"&&(t="RTV");let i=this.matchedPlants?.map(c=>c.name),e={transactionType:t,plantCode:i};this.biltiService.getFrmTransactions(e).subscribe(c=>{let p=c.frmTransactions.filter(h=>h.openFlag!=="Close");this.allFrmTransactionData=c.frmTransactions,this.frmTransactionData=[...new Set(p.map(h=>h.frlrNumber))].map(h=>p.find(w=>w.frlrNumber===h)),this.frlrList=c.transactionTypes})}getDispatchData(t=""){let i=[this.biltiForm.controls.locationId.value],c=this.locations?.find(p=>p?.code==i)?.id;this.dispatchNoteService.getDispatchNote({dispatchNumber:t,matchedLocationId:c}).subscribe(p=>{this.dispatchData=p.dispatchNotes;let h=p.dispatchNotes.filter(w=>w?.openFlag!=="Close"&&w?.frlrNumber!==null);this.frmTransactionData=[...new Set(h.map(w=>w?.frlrNumber))].map(w=>h.find(N=>N?.frlrNumber===w)),this.dispatchNotes=h})}onOptionSelected(t){this.transactionTypeId=t.transactionTypeId,t?.code=="RB"?this.getDispatchData():this.getFrlr(t.code),this.patchTransactionType(t.code),this.onTransactionClear()}onTransactionClear(){this.biltiForm.get("frlrNo")?.setValue(null),this.biltiForm.get("vendors").controls.forEach(i=>{i.patchValue({vendorCode:null,vendorName:null,pointName:null,pointCharge:null,remarks:null,paidByDetails:null,documentrefNo:null,source:null})}),this.biltiForm.patchValue({vehicleNumber:null,vehicleSize:null,transporterCode:null,transporterName:null,freightCode:null,source:null,destination:null,freightAmount:null})}onChangeFrlrNoClear(){this.biltiForm.get("vendors").controls.forEach(i=>{i.patchValue({vendorCode:null,vendorName:null,pointName:null,pointCharge:null,remarks:null,paidByDetails:null,documentrefNo:null,source:null})}),this.biltiForm.patchValue({vehicleNumber:null,vehicleSize:null,transporterCode:null,transporterName:null,freightCode:null,source:null,destination:null,freightAmount:null})}patchTransactionType(t){this.biltiTransactionType=t,this.biltiForm.get("vendors").controls.forEach(e=>{e.patchValue({biltiDetailsTransactionType:t})})}onFrlrNoSelectionChange(t){this.selectedFrlr=t?.frlrNumber,this.biltiForm.patchValue({transporterMode:null}),this.transportersList.forEach(I=>{I.locationId===this.selectedLocationId&&(this.transporterMapCode[I.id]=I.transporterCode,this.transporterMapName[I.id]=I.transporterName)}),this.onChangeFrlrNoClear(),this.displayRows=[],this.dispatchNotes.forEach(I=>{let G=I?.frlrNumber==t?.frlrNumber,oe=this.vendorList.filter(q=>q?.vendorCode===I?.suppliers?.vendorCode).flatMap(q=>q?.vendorMappingModels.filter(de=>de?.transactionType?.code===this.biltiTransactionType)).map(q=>q?.paidByDetails);G&&this.displayRows.push({documentrefNo:I?.dispatchNumber,vendorCode:I?.suppliers?.vendorCode,vendorName:I?.suppliers?.vendorName,pointName:I?.suppliers?.freightCity,pointCharge:I?.suppliers?.city?.pointChargeDetails?.pointCharge,vendorId:I?.suppliers?.id,paidByDetails:oe[0]?.value,biltiDetailsTransactionType:this.biltiTransactionType,isFromBiltiRbTxn:!1})}),this.pointChargesList.forEach(I=>{this.pointMapCharge[I.pointName]=I.pointCharge}),this.vendorList.forEach(I=>{let G=I.vendorMappingModels.find(q=>q.transactionType.code===this.biltiTransactionType||this.selectedTransactionTypeCode),oe=I.freightCity;this.vendorMapCode[I.vendorCode]=I?.vendorCode,this.vendorMapName[I.vendorCode]=I.vendorName,this.pointMapName[I.vendorCode]=I?.freightCity,this.pointMapCharge[I.vendorCode]=this.pointMapCharge[oe],this.paidByDetailsMap[I.vendorCode]=G?.paidByDetails?.value,this.vendorIdMap[I.vendorCode]=I?.id}),this.biltiTransactionType!="RB"&&this.allFrmTransactionData.forEach(I=>{I?.frlrNumber==t?.frlrNumber&&this.displayRows.push({documentrefNo:I.documentNumber,toDestination:I?.toDestination,frmId:I?.id,pointName:this.pointMapName[I.toDestination],fromDestination:I?.fromDestination,isFromBiltiRbTxn:!1})});let i=this.displayRows.map(I=>this.createVendorGroup(I));this.biltiForm.setControl("vendors",this.fb.array(i));let e=this.frmTransactionData.find(I=>I.frlrNumber===t?.frlrNumber),c=this.biltiForm.get("vendors");this.displayRows.forEach((I,G)=>{let oe=this.plantsList.find(xe=>xe.plantCode===I.toDestination);oe&&(this.displayRows[G].vendorName=oe?.plantDesc,this.displayRows[G].pointName=oe?.freightCity);let q=c.at(G),de=I?.toDestination;this.biltiTransactionType=="STO"||this.selectedTransactionTypeCode=="STO"||this.biltiTransactionType=="CWC"||this.selectedTransactionTypeCode=="CWC"?q.patchValue({documentrefNo:I.documentrefNo,vendorCode:I?.toDestination,vendorName:I?.vendorName,pointName:I?.pointName,paidByDetails:"Paid by LG",source:I?.fromDestination,isFromBiltiRbTxn:I?.isFromBiltiRbTxn}):(this.vendorCode.push(this.vendorMapCode[de]),q.patchValue({documentrefNo:I.documentrefNo,vendorCode:this.biltiTransactionType=="RB"||this.selectedTransactionTypeCode=="RB"?I?.vendorId:this.vendorIdMap[de],vendorName:this.biltiTransactionType=="RB"||this.selectedTransactionTypeCode=="RB"?I?.vendorName:this.vendorMapName[de],pointName:this.biltiTransactionType=="RB"||this.selectedTransactionTypeCode=="RB"?I?.pointName:this.pointMapName[de],paidByDetails:this.biltiTransactionType=="RB"||this.selectedTransactionTypeCode=="RB"?I?.paidByDetails:this.paidByDetailsMap[de],source:this.biltiTransactionType=="RB"||this.selectedTransactionTypeCode=="RB"?"":I?.fromDestination,isFromBiltiRbTxn:I?.isFromBiltiRbTxn}))}),this.patchedPointName=this.biltiTransactionType=="RB"||this.biltiTransactionType=="STO"||this.biltiTransactionType=="CWC"?this.displayRows[0].pointName:this.pointMapName[e?.toDestination];let p=t?.vehicleNumber,h=this.vehiclesList.find(I=>I?.vehicleNumber===p);if(e){this.vehicleSizeData=this.vehicleSize.find(G=>G.id==e?.vehicleSizeId),this.vehicleNumber=e?.vehicleNumber,this.frlrNumber=e?.frlrNumber,this.transporterId=e?.transporterId,this.loadingLocationid=e?.loadingLocationId,this.vehicleId=this.vehicleId,this.onTransporterChange(this.transporterMapCode[e.transporterId]);let I=this.transportersList.find(G=>G.id==e?.transporterId);this.biltiForm.patchValue({transporterCode:I?.transporterCode,transporterName:I?.transporterName,transporterMode:e?.transporterMode})}this.biltiTransactionType=="RB"?(this.vehicleId=t?.vehicleId,this.biltiForm.patchValue({vehicleNumber:t?.vehicles?.vehicleNumber,vehicleSize:t?.vehicles?.vehicleSize?.value})):(this.vehicleId=h?.id,this.biltiForm.patchValue({vehicleNumber:this.vehicleNumber,vehicleSize:this.vehicleSizeData?.code}));let w=this.transporterMapCode[e?.transporterId];this.transporters=this.transportersList.find(I=>I?.transporterCode==w||I?.id==e?.transporterId);let N=new Set;this.transporterMode=this.transporters?.transporterMappings?.filter(I=>{let G=I.transportationMode.value;return N.has(G)?!1:(N.add(G),!0)})||[];let L=this.transporterMode.find(I=>I.transportationMode.value==="Road");this.taxationType=L?.taxationType?.code,this.tdsCode=L?.tdsCodes?.code,this.taxCode=L?.taxCodes?.code,L&&this.biltiForm.patchValue({transporterMode:L}),this.biltiId==0?this.patchTransactionType(this.biltiTransactionType):this.patchTransactionType(this.selectedTransactionTypeCode);let V=this.biltiForm.controls.vehicleSize.value;this.freightListFiltered=this.filteredFreights.filter(I=>I?.vehicleSize?.code?.toLowerCase()==V?.toLowerCase())}onFrlrNoClear(){this.biltiForm.patchValue({vehicleNumber:null,vehicleSize:null,transporterCode:null,transporterName:null})}getVehicleNumber(){let t={vehicleNumber:"",transporterId:0};return this.vehicleService.getVehicles(t).pipe(ei(i=>{this.vehiclesList=i.vehicles,this.filteredVehiclesLists=this.vehiclesList.filter(e=>e.status==="Active")}))}getAllTransportersList(){let t={transporterCode:"",transporterName:""};return this.transporterService.getTransporters(t).pipe(ei(i=>{this.transportersList=i.transporters,this.filteredTransportersLists=this.transportersList.filter(e=>e.status==="Active"),this.onChangeLocation(this.selectedLocationId)}))}onTransporterChange(t){let i=this.transportersList.find(p=>p?.transporterCode==t);this.autobiltiRequiredFlag=i?.autoBiltiRequiredFlag,this.biltiForm.patchValue({transporterMode:null}),this.transportersList.forEach(p=>{p.transporterCode===t&&(this.transporterId=p.id,this.biltiForm.patchValue({transporterName:p.transporterName}))}),this.transporters=this.transportersList.find(p=>p.transporterCode==t),this.activeTransporterMappings=this.transporters?.transporterMappings?.filter(p=>p.status=="Active");let e=new Set;this.transporterMode=this.activeTransporterMappings?.filter(p=>{let h=p.transportationMode.value;return e.has(h)?!1:(e.add(h),!0)})||[];let c=this.transporterMode.find(p=>p.transportationMode.value==="Road");c&&this.biltiForm.patchValue({transporterMode:c})}onChangeMode(t){this.taxationType=t?.taxationType?.code,this.tdsCode=t?.tdsCodes?.code,this.taxCode=t?.taxCodes?.code,this.modeofTransport=t?.transportationMode.value}onTransporterClear(){this.biltiForm.patchValue({transporterName:null})}onVehicleChange(t){this.vehicleId=t.id,this.biltiForm.patchValue({vehicleSize:t.vehicleSize.value}),this.vehicleNumber=t.vehicleNumber;let i=this.biltiForm.controls.vehicleSize.value;this.freightListFiltered=this.filteredFreights.filter(e=>e?.vehicleSize?.code?.toLowerCase()==i?.toLowerCase())}onVehicleClear(){this.biltiForm.patchValue({vehicleSize:null})}getAllFreightList(){let t={freightCode:"",sourceId:0,vehicleSizeId:0};return this.freightService.getFreightsList(t).pipe(ei(i=>{this.freightList=i.freights,this.filteredFreightsLists=this.freightList.filter(e=>e.status==="Active")}))}onFreightChange(t){this.freightId=t.id,this.freightCode=t.freightCode,this.biltiForm.patchValue({freightAmount:t?.freightAmount,source:t?.source?.freightCity,destination:t?.destination?.value})}onFreightClear(){this.biltiForm.patchValue({source:null,destination:null,freightAmount:null})}calculatePointCharge(){let t=[...this.rbDispatchNumbers||[],...this.patchedRbDispatchNotes||[]];if(this.biltiId>0){let i={frlrNumber:this.selectedFrlr,dispatchNumbers:t||[],freightCode:this.freightCode,transactionTypeCode:this.selectedTransactionTypePatchCode};this.biltiService.calculatePointCharge(i).subscribe(e=>{if(this.pointChargeData=e,e[0].errorMessage!=null){this.toastr.error(e[0].errorMessage);return}this.isPointChargeCalculated=!0;let c=this.biltiForm.get("vendors");e?.forEach((p,h)=>{c.at(h).patchValue({vendorCode:p?.toDestination,vendorName:p?.vendorNameOrPlantDesc,pointName:p?.freightCity,pointCharge:p?.pointCharge?p?.pointCharge:p?.sameLocationCharge||0,documentrefNo:p?.documentNumber,biltiDetailsTransactionType:p?.documentType,source:p?.fromDestination,paidByDetails:p?.paidByDetails})})})}else{let i={frlrNumber:this.selectedFrlr,dispatchNumbers:this.rbDispatchNumbers||[],freightCode:this.freightCode,transactionTypeCode:this.biltiTransactionType};this.biltiService.calculatePointCharge(i).subscribe(e=>{if(this.pointChargeData=e,e[0].errorMessage!=null){this.toastr.error(e[0].errorMessage);return}this.isPointChargeCalculated=!0;let c=this.biltiForm.get("vendors");e?.forEach((p,h)=>{c.at(h).patchValue({vendorCode:p?.toDestination,vendorName:p?.vendorNameOrPlantDesc,pointName:p?.freightCity,pointCharge:p?.pointCharge?p?.pointCharge:p?.sameLocationCharge||0,documentrefNo:p?.documentNumber,biltiDetailsTransactionType:p?.documentType,source:p?.fromDestination,paidByDetails:p?.paidByDetails})})})}}getAllVendorList(){let t={vendorCode:"",vendorName:""};return this.vendorService.getVendors(t).pipe(ei(i=>{this.vendorList=i.vendors,this.filteredVendorcode=this.vendorList.filter(e=>e.status==="Active"||e.status==="ACTIVE")}))}getAllPointChargesList(){let t={pointName:"",locationIds:[]};return this.pointChargeService.getPointCharges(t).pipe(ei(i=>{this.pointChargesList=i.pointCharges,this.filteredPointname=this.pointChargesList.filter(e=>e.status==="Active")}))}onPressSave(){let t=this.biltiForm.controls.locationId?.value,e=this.locations?.find(V=>V?.code==t)?.id;this.loadSpinner=!0;let c=this.biltiForm.value,p=c?.frlrNo?.frlrNumber;this.biltiId>0?this.matchedDispatchNotes=this.dispatchData.filter(V=>V?.frlrNumber===this?.frlrNumber):this.matchedDispatchNotes=this.dispatchData.filter(V=>V?.frlrNumber===p);let w=this.loadingLocation.find(V=>V.id==c?.loadingLocation)?.value,L=this.transportersList.find(V=>V.id==this.transporterId)?.creationFlag;if(this.biltiId==0){let V={actionBy:localStorage.getItem("userId"),transactionTypeId:this.transactionTypeId,transactionTypeCode:c?.transactionType.code,frlrNumber:this.frlrNumber??"",transporterId:this.transporterId,transporterCode:c?.transporterCode,transporterTypeFlag:L,transporterName:c?.transporterName,freightId:this.freightId,freightCode:c?.freightCode?.freightCode,freightAmount:parseInt(c?.freightAmount),loadingLocationId:parseInt(this.biltiForm.controls.loadingLocation.value),loadingLocationValue:w,source:c?.source,destination:c?.destination,vehicleId:this.vehicleId,vehicleNumber:(c.transactionType.code==="RB",c?.vehicleNumber?.vehicleNumber||c?.vehicleNumber),vehicleSize:c?.vehicleSize,attribute9:"2024-05-04T13:03:47.509Z",attribute10:"2024-05-04T13:03:47.509Z",transporterMode:c?.transporterMode?.transportationMode?.value,taxationType:this.taxationType,taxCode:this.taxCode,tdsCode:this.tdsCode,biltiNumber:this.biltiForm.controls.biltiNumber.value,lineItemsEntity:[{vendorId:0,actionBy:"",remarks:"",attribute9:"",attribute10:"",frmId:0,dispatchNoteId:0,documentReferenceNo:""}]};c.vendors.forEach((I,G)=>{let oe=this.vendorList.find(xe=>xe.id===I.vendorCode),q=this.plantsList.find(xe=>xe?.plantCode==I?.vendorCode),de=this.allFrmTransactionData.filter(xe=>xe.documentNumber==I?.documentrefNo);c.transactionType.code==="CWC"||c.transactionType.code==="STO"?this.createLineItem={vendorCode:c?.vendors[G].vendorCode,vendorName:c?.vendors[G].vendorName,actionBy:localStorage.getItem("userId")||"",remarks:I?.remarks,frmId:this.pointChargeData[G]?.documentType=="RB"?0:this.pointChargeData[G]?.id,dispatchNoteId:this.pointChargeData[G]?.documentType=="RB"?this.pointChargeData[G]?.id:0,documentReferenceNo:I.documentrefNo,pointCharge:parseInt(I?.pointCharge)||0,pointName:I.pointName,plantCode:c?.vendors[G].source,paidByDetails:c?.vendors[G].paidByDetails,sequenceNumber:G+1}:this.createLineItem={vendorCode:c?.vendors[G].vendorCode,vendorName:c.transactionType.code==="RB"?I.vendorName:c?.vendors[G].vendorName,actionBy:localStorage.getItem("userId")||"",remarks:I?.remarks,frmId:this.pointChargeData[G]?.documentType=="RB"?0:this.pointChargeData[G]?.id,dispatchNoteId:this.pointChargeData[G]?.documentType=="RB"?this.pointChargeData[G]?.id:0,documentReferenceNo:I.documentrefNo,pointCharge:parseInt(I?.pointCharge)||0,pointName:I.pointName,plantCode:c?.vendors[G].source,paidByDetails:c?.vendors[G].paidByDetails,sequenceNumber:G+1},V.lineItemsEntity[0].vendorId==0?V.lineItemsEntity[0]=this.createLineItem:V.lineItemsEntity.push(this.createLineItem)}),this.biltiService.createBilti(V).subscribe(I=>{this.biltiData=I,this.toastr.success("Bilti Created Successfully"),this.loadSpinner=!1,this.router.navigate(["transaction/bilti"])},I=>{this.loadSpinner=!1})}else{let V={id:this.biltiId,actionBy:localStorage.getItem("userId"),frlrNumber:this.frlrNumber,transporterId:this.transporterId,freightId:this.freightId,loadingLocationId:parseInt(this.biltiForm.controls.loadingLocation.value),vehicleId:this.vehicleId,attribute9:new Date().toISOString(),attribute10:new Date().toISOString(),vehicleNumber:this.vehicleNumber,vehicleSize:c?.vehicleSize,transporterCode:c?.transporterCode,transporterTypeFlag:L,transporterName:c?.transporterName,source:c?.source,destination:c?.destination,freightCode:this.freightCode,freightAmount:parseInt(c?.freightAmount),loadingLocationValue:w,transporterMode:this.modeofTransport,taxationType:this.taxationType,taxCode:this.taxCode,tdsCode:this.tdsCode,biltiNumber:this.biltiForm.controls.biltiNumber.value,lineItemsEntity:[{vendorId:0,actionBy:"",remarks:"",attribute9:"",attribute10:"",status:"",id:0,frmId:0,dispatchNoteId:0,documentReferenceNo:""}],status:this.biltiForm.controls.status.value};c.vendors.forEach((I,G)=>{let oe=this.vendorList?.find(de=>de?.vendorCode===I?.vendorCode||de?.id===I.vendorCode),q=this.allFrmTransactionData.filter(de=>de.documentNumber==I.documentrefNo);c.transactionType.code==="STO"||c.transactionType.code==="CWC"||I.biltiDetailsTransactionType==="STO"||I.biltiDetailsTransactionType==="CWC"?this.createLineItem={actionBy:localStorage.getItem("userId")||"",remarks:I?.remarks,attribute9:new Date().toISOString(),attribute10:new Date().toISOString(),status:I?.biltiStatus,id:this.lineItemId,frmId:this.pointChargeData.length?this.pointChargeData[G]?.id:this.displayRows[G]?.frmId,dispatchNoteId:0,documentReferenceNo:I.documentrefNo,pointCharge:parseInt(I?.pointCharge)||0,vendorCode:c?.vendors[G]?.vendorCode,vendorName:c?.vendors[G]?.vendorName,pointName:I.pointName,plantCode:c?.vendors[G].source,paidByDetails:I.paidByDetails,sequenceNumber:G+1}:this.createLineItem={actionBy:localStorage.getItem("userId")||"",remarks:I?.remarks,attribute9:new Date().toISOString(),attribute10:new Date().toISOString(),status:I?.biltiStatus,id:this.lineItemId,frmId:this.pointChargeData.length?this.pointChargeData[G]?.documentType=="RB"?0:this.pointChargeData[G]?.id:this.displayRows[G]?.frmId,dispatchNoteId:I.biltiDetailsTransactionType==="RB"?this.combinedRows[G]?.dispatchNoteId||this.dispatchNoteId:0,documentReferenceNo:I.documentrefNo,pointCharge:parseInt(I?.pointCharge)||0,vendorCode:(c.transactionType.code==="RB"||I.biltiDetailsTransactionType==="RB",oe?.vendorCode),vendorName:c.transactionType.code==="RB"||I.biltiDetailsTransactionType==="RB"?I?.vendorName:c?.vendors[G]?.vendorName,pointName:I.pointName,plantCode:c?.vendors[G].source,paidByDetails:I.paidByDetails||"",sequenceNumber:G+1},V.lineItemsEntity[0].vendorId==0?V.lineItemsEntity[0]=this.createLineItem:V.lineItemsEntity.push(this.createLineItem),this.lineItem.length>1?V.lineItemsEntity.forEach((de,xe)=>{de.id=this.lineItem[xe]?.id||0}):this.lineItem.length===1&&(V.lineItemsEntity[0].id=this.lineItem[0].id||0)}),this.biltiService.updateBilti(e,this.biltiId,V).subscribe(I=>{this.biltiData=I,this.toastr.success("Bilti Updated Successfully"),this.loadSpinner=!1,this.router.navigate(["transaction/bilti"])},I=>{this.loadSpinner=!1})}}getLoadingLocationData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};return this.biltiService.getLoadingLocation(t,"LoadingLocation").pipe(ei(e=>{this.loadingLocation=e.lookUps.filter(c=>c.status==="Active"),this.filteredLoadinglocation=this.loadingLocation.filter(c=>c.status==="Active")}))}getBiltiData(t){this.biltiService.getBiltiData(this.biltiLocationId,t).subscribe(i=>{this.selectedFrlr=i?.frlrNumber,this.onChangeLocation(i?.locationId),this.onTransporterChange(i?.transporterCode),this.lineItem=i.biltiCreationLineItems,this.filteredFreights=this.filteredFreightsLists.filter(fe=>fe?.locations?.id==i?.locationId),this.freightListFiltered=this.filteredFreights.filter(fe=>fe?.vehicleSize?.code?.toLowerCase()==i.vehicleSize?.toLowerCase());let e=i.transactionTypeId,c=this.transactionTypesLists.find(fe=>fe.transactionTypeId===e);this.selectedTransactionTypeCode=c.code;let p=i.vehicleId,h=this.vehiclesList.find(fe=>fe.id===p);this.vehicleId=h?.id;let w=i?.transporterId,N=this.transportersList.find(fe=>fe.id===w);this.transporterId=N?.id,this.freightId=i?.freightId;let L=this.freightList.find(fe=>fe?.id===this.freightId),V=i?.loadingLocationId,I=this.loadingLocation.find(fe=>fe?.id===V),G=i?.biltiCreationLineItems[0]?.pointId,oe=this.pointChargesList.find(fe=>fe?.id===G);this.pointChargeId=oe?.id,this.frlrNumber=i?.frlrNumber,this.selectedTransactionTypePatchCode=c?.code,this.displayRows=i.biltiCreationLineItems;let q=this.displayRows.map(fe=>this.createVendorGroup(fe));this.biltiForm.setControl("vendors",this.fb.array(q));let de=this.biltiForm.get("vendors");de.controls.forEach(fe=>{fe.patchValue({})}),this.biltiCreationLineItemsData=i?.biltiCreationLineItems.sort((fe,ce)=>fe.sequenceNumber-ce.sequenceNumber),this.patchedRbDispatchNotes=this.biltiCreationLineItemsData.filter(fe=>fe.dispatchNoteId!==0).map(fe=>fe.documentReferenceNo),de.controls.forEach((fe,ce)=>{let Pe=this.biltiCreationLineItemsData[ce]?.vendorCode,Oe=this.biltiCreationLineItemsData[ce]?.remarks;this.frmId=i?.biltiCreationLineItems[ce]?.frmId,this.lineItemId=i?.biltiCreationLineItems[ce]?.id;let He=this.biltiCreationLineItemsData[ce]?.status,Re=this.vendorList.find(lt=>lt?.vendorCode===Pe);this.dispatchNoteId=this.biltiCreationLineItemsData[ce]?.dispatchNoteId,this.selectedPlantCode=this.biltiCreationLineItemsData[ce]?.plantCode,fe.patchValue({pointCharge:this.biltiCreationLineItemsData[ce]?.pointCharge,pointName:this.biltiCreationLineItemsData[ce]?.pointName,paidByDetails:this.biltiCreationLineItemsData[ce]?.paidByDetails,biltiDetailsTransactionType:this.biltiCreationLineItemsData[ce]?.dispatchNoteId==0?c?.code:"RB",source:this.biltiCreationLineItemsData[ce]?.plantCode}),this.patchedPointName=this.biltiCreationLineItemsData[0]?.vendor?.cityDetail?.value,this.selectedTransactionTypePatchCode=="RB"?(fe.patchValue({vendorCode:this.lineItem[ce]?.vendorCode,vendorName:this.lineItem[ce]?.vendorName,remarks:Oe,biltiStatus:He}),fe.patchValue({documentrefNo:this.lineItem[ce]?.documentReferenceNo})):(fe.patchValue({vendorCode:this.lineItem[ce]?.vendorCode,vendorName:this.lineItem[ce]?.vendorName,remarks:Oe,biltiStatus:He}),fe.patchValue({documentrefNo:this.lineItem[ce]?.documentReferenceNo}))}),this.vehicleNumber=i?.vehicleNumber,this.freightCode=i?.freightCode,this.biltiForm.patchValue({transactionType:c?.code+" ("+c.name+")",frlrNo:i?.frlrNumber,vehicleNumber:i?.vehicleNumber,vehicleSize:i?.vehicleSize,transporterCode:N?.transporterCode,transporterName:N?.transporterName,freightCode:i?.freightCode,freightAmount:i?.freightAmount,source:i?.source,destination:i?.destination,loadingLocation:I?.id,locationId:i.locationDetail.code,transporterMode:i.transporterMode,biltiNumber:i?.biltiNumber}),this.transporters=this.transportersList.find(fe=>fe.transporterCode==N?.transporterCode);let xe=new Set;this.transporterMode=this.transporters?.transporterMappings?.filter(fe=>{let ce=fe.transportationMode.value;return xe.has(ce)?!1:(xe.add(ce),!0)})||[],this.taxationType=i?.taxationType,this.tdsCode=i?.tdsCode,this.taxCode=i?.taxCode,this.modeofTransport=i?.transporterMode,this.selectedTransactionTypeCode=="RB"?this.getDispatchData():this.getFrlr(this.selectedTransactionTypeCode)})}setLocation(){this.biltiId||this.lookUpService.setLocationId(this.biltiForm,this.commonLocations,"locationId")}getEditBiltiData(){return this.biltiService.getBiltis({biltiNumber:"",locationIds:j.commonLocationsList.map(t=>t.id)}).pipe(ei(t=>{this.biltisList=t.biltiCreations,this.getLocationId().then(()=>{this.getBiltiData(this.biltiId)})}))}getLocationId(){return new Promise((t,i)=>{let e=this.biltisList.filter(c=>c.id==this.biltiId);e.length>0?(this.biltiLocationId=e[0].locationId,t()):i("No matching bilti found")})}onAdd(){let t=this.modalService.open(C0,{size:"xl",backdrop:"static",windowClass:"modal-width"});t.componentInstance.title="rbTXNData",t.componentInstance.biltiTransactionType=this.biltiTransactionType,t.componentInstance.selectedTransactionTypeCode=this.selectedTransactionTypeCode,t.componentInstance.dispatchNoteId=this.biltiCreationLineItemsData,t.componentInstance.transporterCode=this.biltiForm.controls.transporterCode?.value,t.componentInstance.vendorCode=this.vendorCode,t.componentInstance.locationId=this.biltiForm.controls.locationId?.value,t.result.then(c=>{if(c){this.rbSelectedNotes=c.length,this.rbDispatchNumbers=c.map(N=>N.dispatchNumber);let p=this.biltiForm.get("vendors")?.value;c.forEach(N=>{let L=this.vendorList.filter(V=>V?.vendorCode===N?.suppliers?.vendorCode).flatMap(V=>V?.vendorMappingModels.filter(I=>I?.transactionType?.code==="RB")).map(V=>V?.paidByDetails)[0];this.displayRowsRb.push({documentrefNo:N?.dispatchNumber,vendorName:N?.suppliers?.vendorName,pointName:N?.suppliers?.freightCity,pointCharge:0,vendorCode:N?.suppliers?.id,biltiDetailsTransactionType:"RB",dispatchNoteId:N.id,paidByDetails:L?.value,isFromBiltiRbTxn:!0})});let h=[...p,...this.displayRowsRb];this.combinedRows=h.filter((N,L,V)=>V.findIndex(I=>I.documentrefNo===N.documentrefNo)===L);let w=this.combinedRows.map(N=>this.createVendorGroup(N));this.biltiForm.setControl("vendors",this.fb.array(w)),this.combinedRows.forEach((N,L)=>{this.biltiForm.get("vendors").at(L).patchValue({documentrefNo:N.documentrefNo,vendorCode:N.vendorCode,vendorName:N.vendorName,pointName:N.pointName,pointCharge:N.pointCharge,biltiDetailsTransactionType:N.biltiDetailsTransactionType,paidByDetails:N?.paidByDetails,source:N?.source,isFromBiltiRbTxn:N?.isFromBiltiRbTxn})})}});let i=this.biltiForm.get("vendors"),e=this.combinedRows.filter(c=>i.controls.some(p=>p.value.documentrefNo==c.documentrefNo));t.componentInstance.dispatchNo=e}disabledonAdd(){let t=this.biltiForm.controls.transactionType.value;return!(this.biltiForm.controls.transactionType.value&&this.biltiForm.controls.frlrNo.value)||!(t?.code=="RTV-RB"||this.selectedTransactionTypeCode=="RTV-RB"||this.selectedTransactionTypePatchCode=="RTV-RB"||t?.code=="INVOICE-RB"||this.selectedTransactionTypeCode=="INVOICE-RB"||this.selectedTransactionTypePatchCode=="INVOICE-RB")}disablePointCharge(){let t=this.biltiForm.controls.transactionType.value;return!this.biltiForm.controls.transactionType.value||!this.biltiForm.controls.freightCode.value||!this.biltiForm.controls.frlrNo.value||this.rbSelectedNotes==0&&t?.code=="RTV-RB"||this.rbSelectedNotes==0&&t?.code=="INVOICE-RB"}onChangeLocation(t){this.selectedLocationId=t;let i=this.locationsDropdownData.find(c=>c?.id==t)?.code;this.plantCodes.forEach(c=>{c.location.forEach(p=>{p.name===i&&(this.matchedPlants=p.whCode)})}),this.filteredTransporter=this.filteredTransportersLists.filter(c=>c.transporterMappings.some(p=>p.locationId===t)),this.filteredVehicles=this.filteredVehiclesLists.filter(c=>c?.locations?.id==t),this.filteredFreights=this.filteredFreightsLists.filter(c=>c?.locations?.id==t),this.biltiForm.patchValue({vehicleNumber:null,transporterName:null}),this.biltiForm.patchValue({transporterCode:null,vehicleSize:null}),this.biltiForm.patchValue({freightCode:null,source:null,destination:null,freightAmount:null}),this.biltiForm.get("vendors").controls.forEach(c=>{c.patchValue({vendorCode:null,vendorName:null,pointName:null,pointCharge:null,remarks:null,paidByDetails:null,documentrefNo:null})}),this.biltiForm.patchValue({vehicleNumber:null,vehicleSize:null,transporterCode:null,transporterName:null,freightCode:null,source:null,destination:null,freightAmount:null,transactionType:null,frlrNo:null})}getPlantsList(){let t={locationIds:[],plantCode:"",auCode:"",siteCode:"",status:""};return this.plantService.getPlants(t).pipe(ei(i=>{this.plantsList=i.plants}))}disableSave(){return!this.isPointChargeCalculated&&this.biltiId==0||this.rbSelectedNotes!=0&&this.biltiId>0&&!this.isPointChargeCalculated}deleteRow(t){let i=this.biltiForm.get("vendors");Array.isArray(this.deletedRow)||(this.deletedRow=[]);let e=i.at(t).value;this.deletedRow.some(p=>p.documentrefNo===e.documentrefNo)||this.deletedRow.push(e),i.removeAt(t),this.biltiForm.markAsDirty()}};r.\u0275fac=function(i){return new(i||r)(D(X),D(zo),D(Z),D(et),D(oi),D(mt),D(On),D(Uo),D(jn),D($t),D(Ai),D(ni),D(ye),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-bilti"]],decls:138,vars:19,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["formControlName","locationId","placeholder","Select location",3,"change","searchable","readonly"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-4"],["name","","id","","formControlName","transactionType",3,"change","readonly"],["name","","id","","formControlName","frlrNo",3,"change","clear"],["name","","id","","formControlName","vehicleNumber",3,"change","clear"],["type","text","formControlName","vehicleSize","readonly","",1,"input-field"],["name","","id","","formControlName","transporterCode",3,"change","clear"],["type","text","readonly","","formControlName","transporterName",1,"input-field"],["formControlName","transporterMode","placeholder","Select Transporter Code",1,"input-field",3,"change"],["class","col-lg-2 col-md-2",4,"ngIf"],["name","","id","","formControlName","freightCode",3,"change","clear"],["type","text","formControlName","source","readonly","",1,"input-field"],["type","text","formControlName","destination","readonly","",1,"input-field"],["type","text","formControlName","freightAmount","readonly","",1,"input-field"],["formControlName","loadingLocation",1,"input-field"],[1,"d-flex","edit-screen-subTable"],[1,""],[1,"d-flex","ms-auto","mb-2"],[1,"custom-button-regulr","ms-3",3,"click","disabled"],[1,"custom-table"],["formArrayName","vendors"],[3,"formGroupName",4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],[3,"value"],["type","text","formControlName","biltiNumber",1,"input-field"],[3,"formGroupName"],[1,"col-lg-10","col-md-10"],[1,"custom-form-input","biltiwidth"],[1,"input-with-icon"],["type","text","formControlName","biltiDetailsTransactionType","readonly","",1,"input-field"],[1,"col-lg-12","col-md-12"],["type","text","readonly","","formControlName","documentrefNo",1,"input-field"],["type","text","readonly","","formControlName","source","readonly","",1,"input-field"],["name","","id","","formControlName","vendorCode",3,"readonly"],["type","text","readonly","","formControlName","vendorName","readonly","",1,"input-field"],["name","","id","","formControlName","pointName",3,"readonly"],["type","text","readonly","","formControlName","pointCharge",1,"input-field"],["type","text","formControlName","remarks","maxlength","150",1,"input-field"],[1,"col-lg-10","col-md-0"],["type","text","formControlName","paidByDetails",1,"input-field",3,"readonly"],["class","text-center",4,"ngIf"],[1,"text-center"],["src","assets/images/icons/trash.svg","alt","link",1,"me-2","pointer",3,"click"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onPressSave()}),s(5,"Save"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7," Cancel "),n()()(),o(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),s(14,"Location Code"),o(15,"span",10),s(16,"*"),n()(),o(17,"ng-select",11),g("change",function(p){return e.onChangeLocation(p)}),v(18,sF,2,2,"ng-option",12),n()()(),o(19,"div",13)(20,"div",8)(21,"label",9),s(22,"Transaction Type "),o(23,"span",10),s(24,"*"),n()(),o(25,"ng-select",14),g("change",function(p){return e.onOptionSelected(p)}),v(26,dF,2,3,"ng-option",12),n()()(),o(27,"div",7)(28,"div",8)(29,"label",9),s(30,"FRLR Number "),o(31,"span",10),s(32,"*"),n()(),o(33,"ng-select",15),g("change",function(p){return e.onFrlrNoSelectionChange(p)})("clear",function(){return e.onFrlrNoClear()}),v(34,cF,2,2,"ng-option",12),n()()(),o(35,"div",7)(36,"div",8)(37,"label",9),s(38,"Vehicle Number "),o(39,"span",10),s(40,"*"),n()(),o(41,"ng-select",16),g("change",function(p){return e.onVehicleChange(p)})("clear",function(){return e.onVehicleClear()}),v(42,pF,2,2,"ng-option",12),n()()(),o(43,"div",7)(44,"div",8)(45,"label",9),s(46,"Vehicle Size"),n(),E(47,"input",17),n()(),o(48,"div",13)(49,"div",8)(50,"label",9),s(51,"Transporter Code "),o(52,"span",10),s(53,"*"),n()(),o(54,"ng-select",18),g("change",function(p){return e.onTransporterChange(p)})("clear",function(){return e.onTransporterClear()}),v(55,mF,2,3,"ng-option",12),n()()(),o(56,"div",13)(57,"div",8)(58,"label",9),s(59,"Transporter Name"),n(),E(60,"input",19),n()(),o(61,"div",7)(62,"div",8)(63,"label",9),s(64,"Transporter Mode "),o(65,"span",10),s(66,"*"),n()(),o(67,"ng-select",20),g("change",function(p){return e.onChangeMode(p)}),v(68,uF,2,2,"ng-option",12),n()()(),v(69,hF,5,0,"div",21),o(70,"div",7)(71,"div",8)(72,"label",9),s(73,"Freight Code "),o(74,"span",10),s(75,"*"),n()(),o(76,"ng-select",22),g("change",function(p){return e.onFreightChange(p)})("clear",function(){return e.onFreightClear()}),v(77,gF,2,2,"ng-option",12),n()()(),o(78,"div",7)(79,"div",8)(80,"label",9),s(81,"Source"),n(),E(82,"input",23),n()(),o(83,"div",7)(84,"div",8)(85,"label",9),s(86,"Destination"),n(),E(87,"input",24),n()(),o(88,"div",7)(89,"div",8)(90,"label",9),s(91,"Freight Amount"),n(),E(92,"input",25),n()(),o(93,"div",7)(94,"div",8)(95,"label",9),s(96,"Loading Location "),o(97,"span",10),s(98,"*"),n()(),o(99,"ng-select",26),v(100,fF,2,2,"ng-option",12),n()()()(),o(101,"div",27)(102,"h4",28),s(103," Bilti Details "),n(),o(104,"div",29)(105,"button",2),g("click",function(){return e.onAdd()}),s(106,"Add RB TXN Data"),n(),o(107,"button",30),g("click",function(){return e.calculatePointCharge()}),s(108,"Calculate Point Charge"),n()()(),o(109,"div",31)(110,"table")(111,"thead")(112,"tr")(113,"th"),s(114,"Line#"),n(),o(115,"th"),s(116,"Transaction Type"),n(),o(117,"th"),s(118,"Doc. Ref. Number"),n(),o(119,"th"),s(120,"Source "),n(),o(121,"th"),s(122,"Vendor Code / Plant "),n(),o(123,"th"),s(124,"Vendor Name / Plant Name"),n(),o(125,"th"),s(126,"Point Name"),n(),o(127,"th"),s(128,"Point Charge"),n(),o(129,"th"),s(130,"Remarks"),n(),o(131,"th"),s(132,"Paid by details"),n(),o(133,"th"),s(134,"Action"),n()()(),o(135,"tbody",32),v(136,bF,44,7,"ng-container",33),n()()()()(),v(137,yF,2,0,"div",34)),i&2&&(d(2),Ce("",e.biltiId>0?"Edit":"Add"," Payment Mt"),d(2),m("disabled",e.disableSave()),d(5),m("formGroup",e.biltiForm),d(8),m("searchable",!0)("readonly",e.biltiId>0),d(),m("ngForOf",e.locationsDropdownData),d(7),m("readonly",e.biltiId>0),d(),m("ngForOf",e.filteredTransactionTypesLists),d(8),m("ngForOf",e.frmTransactionData),d(8),m("ngForOf",e.filteredVehicles),d(13),m("ngForOf",e.filteredTransporter),d(13),m("ngForOf",e.transporterMode),d(),m("ngIf",e.autobiltiRequiredFlag=="N"),d(8),m("ngForOf",e.freightListFiltered),d(23),m("ngForOf",e.filteredLoadinglocation),d(5),m("disabled",e.disabledonAdd()),d(2),m("disabled",e.disablePointCharge()),d(29),m("ngForOf",e.getVendorControls()),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,Ae,U,Qe,Ht,nt,ot,Ni,Fi],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}.input-with-icon[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.search-icon[_ngcontent-%COMP%]{position:absolute;right:var(--spacer-10);cursor:pointer}.biltiwidth[_ngcontent-%COMP%]{min-width:100px}"]});let a=r;return a})();function CF(a,r){if(a&1&&(o(0,"ng-option",30),s(1),n()),a&2){let l=r.$implicit;m("value",l.countryName),d(),Ce(" ",l.countryName," ")}}function SF(a,r){a&1&&(o(0,"div",31),s(1,` Loading...
`),n())}var S0=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.transactionTypesService=i,this.toastr=e,this.activatedRoute=c,this.countryService=p,this.queryData="",this.transactionTypeForm=new An({bankName:new J("",A.required),bankAddress1:new J("",A.required),bankAddress2:new J(null),city:new J(null),state:new J("",A.required),country:new J("",A.required),bankContactNo:new J(null),bankEmailId:new J(null),bankBranch:new J("",A.required),ifscCode:new J("",[A.pattern(/^[A-Z]{4}0[A-Z0-9]{6}$/)]),accountNumber:new J("",[A.required,A.pattern("^[1-9][0-9]{8,17}$")]),accountHolderName:new J("",A.required),accountType:new J("",A.required),status:new J("")}),this.countryList=[],this.loadSpinner=!0,this.glSubcategoryCode=[],this.transactionData=[],this.transactionTypeInterfaceData=[]}ngOnInit(){this.queryData=this.activatedRoute.snapshot.paramMap.get("bankId"),this.bankId=Number(this.activatedRoute.snapshot.paramMap.get("bankId"))||0,this.AllcountryList(),this.getTransactionData(this.queryData)}getTransactionData(t){this.transactionTypesService.getTransactionTypeData(t).subscribe(i=>{this.patchTransactionForm(i),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}AllcountryList(){var t={};this.countryService.getCountryData(t).subscribe(i=>{this.countryList=i.countrys,console.log(this.countryList),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}patchTransactionForm(t){this.transactionTypeForm.patchValue({bankName:t?.bankName,bankAddress1:t?.bankAddress1,bankAddress2:t?.bankAddress2,city:t?.city,state:t?.state,country:t?.country,bankContactNo:t?.bankContactNo,bankEmailId:t?.bankEmailId,bankBranch:t?.bankBranch,ifscCode:t?.ifscCode,accountNumber:t?.accountNumber,accountHolderName:t?.accountHolderName,accountType:t?.accountType,status:t.status})}onPressSave(){this.loadSpinner=!0;let t={bankName:this.transactionTypeForm.controls.bankName?.value,bankAddress1:this.transactionTypeForm.controls.bankAddress1?.value,bankAddress2:this.transactionTypeForm.controls.bankAddress2?.value,city:this.transactionTypeForm.controls.city?.value,state:this.transactionTypeForm.controls.state?.value,country:this.transactionTypeForm.controls.country?.value,bankContactNo:this.transactionTypeForm.controls.bankContactNo?.value,bankEmailId:this.transactionTypeForm.controls.bankEmailId?.value,bankBranch:this.transactionTypeForm.controls.bankBranch?.value,ifscCode:this.transactionTypeForm.controls.ifscCode?.value,accountNumber:this.transactionTypeForm.controls.accountNumber?.value,accountHolderName:this.transactionTypeForm.controls.accountHolderName?.value,accountType:this.transactionTypeForm.controls.accountType?.value,status:this.transactionTypeForm.controls.status?.value,actionBy:""};this.bankId==0?(this.loadSpinner=!0,this.transactionTypesService.createBankId(t).subscribe(i=>{this.transactionTypeInterfaceData=i,this.loadSpinner=!1,this.toastr.success("Bank Created Successfully"),this.router.navigate(["/master/bank"])},()=>{this.loadSpinner=!1})):this.transactionTypesService.updateTransaction(this.queryData,t).subscribe(i=>{this.transactionData=i,this.loadSpinner=!1,this.toastr.success("Transaction Updated Successfully"),this.router.navigate(["/master/bank"])},i=>{this.loadSpinner=!1})}onCancelPress(){this.router.navigate(["/master/bank"])}getGlSubCategoryDropdownData(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.transactionTypesService.getDropdownData(t,"GLSubCategory").subscribe(e=>{this.glSubcategoryCode=e.lookUps.filter(c=>c.status==="Active")})}getTransactionTypeInterfaceDropdownData(){let t={code:"",name:""};this.transactionTypesService.getTransactionTypeInterface(t).subscribe(i=>{this.transactionTypeInterfaceData=i.transactionTypeInterfaces})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(xi),D(Z),D(et),D(nn))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-transaction-type"]],decls:104,vars:5,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["type","text","formControlName","bankName",1,"input-field"],["type","text","formControlName","bankAddress1",1,"input-field"],[1,"col-lg-3","col-md-2"],["type","text","formControlName","bankAddress2",1,"input-field"],["type","text","formControlName","city",1,"input-field"],["type","text","formControlName","state",1,"input-field"],["formControlName","country",1,"input-field"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","bankContactNo",1,"input-field"],["type","text","formControlName","bankEmailId",1,"input-field"],["type","text","formControlName","bankBranch",1,"input-field"],["type","text","formControlName","ifscCode",1,"input-field"],["type","text","formControlName","accountNumber",1,"input-field"],["type","text","formControlName","accountHolderName",1,"input-field"],["name","","id","","formControlName","accountType"],["value",""],["value","Savings"],["value","Current"],["class","spinner",4,"ngIf"],[3,"value"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onPressSave()}),s(5,"Save"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7,"Cancel"),n()()(),o(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),s(14,"Bank Name "),o(15,"span",10),s(16,"*"),n()(),E(17,"input",11),n()(),o(18,"div",7)(19,"div",8)(20,"label",9),s(21,"Bank Address 1 "),o(22,"span",10),s(23,"*"),n()(),E(24,"input",12),n()(),o(25,"div",13)(26,"div",8)(27,"label",9),s(28,"Bank Address 2"),n(),E(29,"input",14),n()(),o(30,"div",7)(31,"div",8)(32,"label",9),s(33,"City"),n(),E(34,"input",15),n()()(),o(35,"div",6)(36,"div",7)(37,"div",8)(38,"label",9),s(39,"State "),o(40,"span",10),s(41,"*"),n()(),E(42,"input",16),n()(),o(43,"div",7)(44,"div",8)(45,"label",9),s(46,"Country"),o(47,"span",10),s(48,"*"),n()(),o(49,"ng-select",17),v(50,CF,2,2,"ng-option",18),n()()(),o(51,"div",7)(52,"div",8)(53,"label",9),s(54,"Bank Contact No"),n(),E(55,"input",19),n()(),o(56,"div",13)(57,"div",8)(58,"label",9),s(59,"Bank Email Id"),n(),E(60,"input",20),n()(),o(61,"div",7)(62,"div",8)(63,"label",9),s(64,"Branch "),o(65,"span",10),s(66,"*"),n()(),E(67,"input",21),n()()(),o(68,"div",6)(69,"div",7)(70,"div",8)(71,"label",9),s(72,"IFSC Code"),o(73,"span",10),s(74,"*"),n()(),E(75,"input",22),n()(),o(76,"div",7)(77,"div",8)(78,"label",9),s(79,"Account Number"),o(80,"span",10),s(81,"*"),n()(),E(82,"input",23),n()(),o(83,"div",7)(84,"div",8)(85,"label",9),s(86,"Acc Holder Name "),o(87,"span",10),s(88,"*"),n()(),E(89,"input",24),n()(),o(90,"div",6)(91,"div",7)(92,"div",8)(93,"label",9),s(94,"Account Type "),E(95,"span",10),n(),o(96,"select",25)(97,"option",26),s(98,"Select"),n(),o(99,"option",27),s(100,"Savings"),n(),o(101,"option",28),s(102,"Current"),n()()()()()()()(),v(103,SF,2,0,"div",29)),i&2&&(d(2),Ce("",e.bankId>0?"Edit Bank":"Create Bank"," Master"),d(2),m("disabled",!e.transactionTypeForm.valid),d(5),m("formGroup",e.transactionTypeForm),d(41),m("ngForOf",e.countryList),d(53),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,nt,ot],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}"]});let a=r;return a})();var Wa=Si(Tn());function xF(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function DF(a,r){if(a&1){let l=O();o(0,"div",22)(1,"label",7),s(2,"Location Code"),n(),o(3,"ng-select",23),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(4,xF,2,2,"ng-option",14),n()()}if(a&2){let l=S();d(3),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function EF(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function TF(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function wF(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function IF(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function NF(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function FF(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var x0=(()=>{let r=class r{constructor(t,i){this.toastr=t,this.lookupService=i,this.batchName=void 0,this.biltiNumber=void 0,this.today=ne(ht).getToday(),this.loadSpinner=!0,this.batchNumber=void 0,this.adviceType=void 0,this.status=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(e=>e.id),this.locations=j.commonLocationsList,this.filterSearchObj=new W,this.locationsData=new W,this.paidByDetails=void 0}ngOnInit(){}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;t==="fromDate"?this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString():this.selectedToDate=i.year+"-"+e.toString()+"-"+c.toString()}handleSearch(){let t={biltiNumber:this.biltiNumber||"",batchNumber:this.batchNumber||"",batchName:this.batchName||"",fromDate:this.selectedFromDate,toDate:this.selectedToDate,locationIds:this.locationIds,adviceType:this.adviceType||"",status:this.status||"",paidByDetails:this.paidByDetails};this.filterSearchObj.emit(t)}onClearFilter(){this.batchNumber=void 0,this.selectedFromDate=null,this.selectedToDate=null,this.fromDate=null,this.toDate=null,this.biltiNumber=void 0,this.batchName=void 0,this.adviceType=void 0,this.status=void 0,this.locationIds=this.locationIds,this.paidByDetails=void 0;let t={batchNumber:"",biltiNumber:"",batchaname:"",adviceType:"",status:"",locationIds:this.locationIds,paidByDetails:""};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(Z),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-bill-process-view-filter"]],inputs:{filters:"filters"},outputs:{filterSearchObj:"filterSearchObj",locationsData:"locationsData"},decls:69,vars:21,consts:[["fromDt","ngbDatepicker"],["toDt","ngbDatepicker"],[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["placeholder","yyyy-mm-dd","name","toDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Batch Name",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Bilti Number",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Advice Type",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"col-lg-4"],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3),v(2,DF,5,4,"div",4),o(3,"div",5)(4,"div",6)(5,"label",7),s(6,"From Date"),n(),o(7,"div",8)(8,"input",9,0),P("ngModelChange",function(h){return b(c),M(e.fromDate,h)||(e.fromDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("fromDate",h))}),n(),o(10,"button",10),g("click",function(){b(c);let h=R(9);return y(h.toggle())}),E(11,"img",11),n()()()(),o(12,"div",5)(13,"div",6)(14,"label",7),s(15,"To Date"),n(),o(16,"div",8)(17,"input",12,1),P("ngModelChange",function(h){return b(c),M(e.toDate,h)||(e.toDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("toDate",h))}),n(),o(19,"button",10),g("click",function(){b(c);let h=R(18);return y(h.toggle())}),E(20,"img",11),n()()()(),o(21,"div",5)(22,"div",6)(23,"label",7),s(24,"Batch Number"),n(),o(25,"ng-select",13),P("ngModelChange",function(h){return b(c),M(e.batchNumber,h)||(e.batchNumber=h),y(h)}),v(26,EF,2,2,"ng-option",14),n()()(),o(27,"div",5)(28,"div",6)(29,"label",7),s(30,"Batch Name"),n(),o(31,"ng-select",15),P("ngModelChange",function(h){return b(c),M(e.batchName,h)||(e.batchName=h),y(h)}),v(32,TF,2,2,"ng-option",14),n()()(),o(33,"div",5)(34,"div",6)(35,"label",7),s(36,"Bilti Number"),n(),o(37,"ng-select",16),P("ngModelChange",function(h){return b(c),M(e.biltiNumber,h)||(e.biltiNumber=h),y(h)}),v(38,wF,2,2,"ng-option",14),n()()(),o(39,"div",5)(40,"div",6)(41,"label",7),s(42,"Advice Type"),n(),o(43,"ng-select",17),P("ngModelChange",function(h){return b(c),M(e.adviceType,h)||(e.adviceType=h),y(h)}),v(44,IF,2,2,"ng-option",14),n()()(),o(45,"div",5)(46,"div",6)(47,"label"),s(48,"Paid By Details"),n(),o(49,"ng-select",18),P("ngModelChange",function(h){return b(c),M(e.paidByDetails,h)||(e.paidByDetails=h),y(h)}),v(50,NF,2,2,"ng-option",14),n()()(),o(51,"div",5)(52,"div",6)(53,"label"),s(54,"Status"),n(),o(55,"ng-select",18),P("ngModelChange",function(h){return b(c),M(e.status,h)||(e.status=h),y(h)}),v(56,FF,2,2,"ng-option",14),n()()(),o(57,"div",19)(58,"div",6)(59,"label",20),s(60,"\xA0"),n(),o(61,"button",21),g("click",function(){return b(c),y(e.handleSearch())}),s(62," Search "),n()()(),o(63,"div",19)(64,"div",6)(65,"label",20),s(66,"\xA0"),n(),o(67,"button",21),g("click",function(){return b(c),y(e.onClearFilter())}),s(68," Clear "),n()()()()()}i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(6),m("autoClose",!0),F("ngModel",e.fromDate),m("maxDate",e.today),d(9),m("autoClose",!0),F("ngModel",e.toDate),m("maxDate",e.today),d(8),F("ngModel",e.batchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BatchNumber),d(5),F("ngModel",e.batchName),d(),m("ngForOf",e.filters==null?null:e.filters.BatchName),d(5),F("ngModel",e.biltiNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BiltiNumber),d(5),F("ngModel",e.adviceType),d(),m("ngForOf",e.filters==null?null:e.filters.AdviceType),d(5),F("ngModel",e.paidByDetails),d(),m("ngForOf",e.filters==null?null:e.filters.PaidByDetails),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",e.locationIds.length==0&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.batchName&&!e.adviceType&&!e.status&&!e.paidByDetails),d(6),m("disabled",e.locationIds.length&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.batchName&&!e.adviceType&&!e.status&&!e.paidByDetails))},dependencies:[$,z,le,se,Ae,U,Y,Tt]});let a=r;return a})();function PF(a,r){if(a&1&&(o(0,"div",9)(1,"div",10)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",10)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",10)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",10)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function kF(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",3)(2,"span",4)(3,"u"),s(4),n()(),v(5,PF,23,10,"ng-template",null,0,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),K(11,"date"),n(),o(12,"td"),s(13),n(),o(14,"td"),s(15),n(),o(16,"td"),s(17),n(),o(18,"td"),s(19),n(),o(20,"td"),s(21),n(),o(22,"td"),s(23),n(),o(24,"td"),s(25),n(),o(26,"td")(27,"img",5),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewBiltiDetails(i))}),n()(),o(28,"td"),s(29),n(),o(30,"td"),s(31),n(),o(32,"td"),s(33),n(),o(34,"td",6)(35,"button",7),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onEditBilti(i))}),E(36,"img",8),n()()()}if(a&2){let l=r.$implicit,t=R(6),i=S();d(2),m("ngbTooltip",t),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.batchNumber),d(4),_(l==null?null:l.biltiNumber),d(2),_(ee(11,15,l==null?null:l.creationDate,"yyyy-MM-dd")),d(3),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.biltiBillProcessDate),d(2),_(l==null?null:l.frlrNumber),d(2),_(l==null||l.transporterModel==null?null:l.transporterModel.transporterName),d(2),_(l==null||l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l==null||l.freights==null?null:l.freights.freightAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.paidByAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.debitAmount),d(4),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.status),d(2),_((l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.remarks)||"-"),d(2),_((l==null||l.biltiBillChangeStatusDetails==null?null:l.biltiBillChangeStatusDetails.remarks)||"-"),d(2),m("disabled",i.disableEdit(l))}}var D0=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i,this.biltiBillProcessList=[],this.loadSpinner=!0,this.biltiBillProcess=[],this.refreshList=new W}onPreviewBiltiDetails(t){let i=this.modalService.open(Bi,{size:"xl",backdrop:"static"});i.componentInstance.biltiProcess=t,i.result.then(e=>{e==="save"&&(this.router.navigate(["transaction/biltiBillProcess"]),this.refreshList.emit())})}onEditBilti(t){this.router.navigate(["transaction/addEditBilti",t.id])}disableEdit(t){return t.status=="Bilti Bill Process Done"||t.status=="Bilti Bill Process Approved by Material Head"||t.status=="Bilti Bill Process Approved by Accounts Head"||t.status=="Bilti Bill Process Checked by Material Team"}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-bill-process-view-grid-table"]],inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{refreshList:"refreshList"},decls:36,vars:1,consts:[["tipContent",""],[1,"custom-table"],[4,"ngFor","ngForOf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link",1,"pointer",3,"click"],[1,"text-center"],["ngbTooltip","Edit","placement","top",1,"icon-button",3,"click","disabled"],["src","assets/images/icons/editPencil.svg","alt","edit"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Batch No"),n(),o(6,"th"),s(7,"Bilti#"),n(),o(8,"th"),s(9,"Bilti Date"),n(),o(10,"th"),s(11,"Bilti Bill Process Date"),n(),o(12,"th"),s(13,"FRLR#"),n(),o(14,"th"),s(15,"Transporter Name"),n(),o(16,"th"),s(17,"Vehicle Number"),n(),o(18,"th"),s(19,"Freight Amount"),n(),o(20,"th"),s(21,"Paid by Amount"),n(),o(22,"th"),s(23,"Debit Amount"),n(),o(24,"th"),s(25,"Bilti Bill Process Details"),n(),o(26,"th"),s(27,"Status"),n(),o(28,"th"),s(29,"Approval Remarks"),n(),o(30,"th"),s(31,"Change Status Remarks"),n(),o(32,"th"),s(33,"Action"),n()()(),o(34,"tbody"),v(35,kF,37,18,"tr",2),n()()()),i&2&&(d(35),m("ngForOf",e.biltiBillProcess))},dependencies:[$,be,Se]});let a=r;return a})();var OF=a=>({"d-none":a}),LF=a=>({isFilters:a});function BF(a,r){a&1&&(o(0,"div",15),s(1,` Loading...
`),n())}var E0=(()=>{let r=class r{constructor(t,i,e){this.router=t,this.biltiBIllProService=i,this.toastr=e,this.isFilters=!0,this.fromDate=null,this.biltiBillProcess=[],this.filteredBiltibillList=[],this.loadSpinner=!1,this.locationIds=j.commonLocationsList.map(c=>c.id),this.toDate=(0,Wa.default)().format("YYYY-MM-DD"),this.currentPage=1,this.count=10,this.totalBiltiBills=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.locations=[]}ngOnInit(){this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={screenCode:301,fromDate:e?.fromDate||null,toDate:e?.toDate||null,adviceType:e?.adviceType||"",batchNumber:e?.batchNumber||"",biltiNumber:e?.biltiNumber||"",batchName:e?.batchName||"",status:e?.status||"",locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id),paidByDetails:e?.paidByDetails};this.biltiBIllProService.getBiltiBillProcess(c,t,i).subscribe(p=>{this.loadSpinner=!1,p.biltiBillProcess.forEach(h=>{h.creationDate=Wa.default.utc(h.creationDate).local().format("YYYY-MM-DD"),h.biltiBillProcessModel&&(h.biltiBillProcessModel.biltiBillProcessDate=Wa.default.utc(h.biltiBillProcessModel.biltiBillProcessDate).local().format("YYYY-MM-DD"))}),this.biltiBillProcess=p.biltiBillProcess,this.totalBiltiBills=p.paging.total,this.filters=p.filters,this.filteredBiltibillList=[...new Set(p.biltiBillProcess.map(h=>h?.biltiBillProcessModel?.batchNumber))].map(h=>p.biltiBillProcess.find(w=>w.biltiBillProcessModel.batchNumber===h)),this.loadSpinner=!1},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onCreateBilti(){this.router.navigate(["transaction/biltiBillProcess"])}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(St),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-bill-process-view"]],decls:28,vars:21,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Bilti Bill Process"),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onCreateBilti()}),s(5,"Unprocessed Bilti Bill Process View"),n()()(),o(6,"div",3)(7,"app-bilti-bill-process-view-filter",4),g("filterSearchObj",function(p){return e.filteredData(p)}),n()(),o(8,"div",5)(9,"div",6)(10,"div",7),E(11,"app-bilti-bill-process-view-grid-table",8),n(),o(12,"div",9)(13,"ngb-pagination",10),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(14,"p",11),s(15," Items per page:"),n(),o(16,"select",12),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(17,"option",13),s(18,"10"),n(),o(19,"option",13),s(20,"20"),n(),o(21,"option",13),s(22,"50"),n(),o(23,"option",13),s(24,"100"),n(),o(25,"option",13),s(26,"500"),n()()()()(),v(27,BF,2,0,"div",14)),i&2&&(d(6),m("ngClass",ge(17,OF,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",ge(19,LF,e.isFilters)),d(3),m("biltiBillProcess",e.biltiBillProcess),d(2),m("collectionSize",e.totalBiltiBills),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,x0,D0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 312px)}"]});let a=r;return a})();var fd=Si(Tn());function VF(a,r){if(a&1&&(o(0,"ng-option",18),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function RF(a,r){if(a&1&&(o(0,"ng-option",18),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var T0=(()=>{let r=class r{constructor(t,i){this.adviceService=t,this.toastr=i,this.biltiNumber=void 0,this.today=ne(ht).getToday(),this.loadSpinner=!0,this.isBiltiNumberDisabled=!1,this.locations=j.commonLocationsList,this.filters=[],this.paidByDetails=void 0,this.filterSearchObj=new W}ngOnInit(){}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;t==="fromDate"?this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString():this.selectedToDate=i.year+"-"+e.toString()+"-"+c.toString()}handleSearch(){let t={biltiNumber:this.biltiNumber||"",fromDate:this.selectedFromDate,toDate:this.selectedToDate,paidByDetails:this.paidByDetails};this.filterSearchObj.emit(t)}onClearFilter(){this.biltiNumber=void 0,this.fromDate=null,this.toDate=null,this.selectedFromDate=null,this.selectedToDate=null,this.paidByDetails=void 0;let t={biltiNumber:"",paidByDetails:""};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(Gn),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-bill-process-filter"]],inputs:{filters:"filters"},outputs:{filterSearchObj:"filterSearchObj"},decls:44,vars:13,consts:[["fromDt","ngbDatepicker"],["toDt","ngbDatepicker"],[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["placeholder","yyyy-mm-dd","name","toDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["placeholder","Select Bilti Number",1,"input-field",3,"ngModelChange","ngModel","disabled"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[3,"value"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3)(2,"div",4)(3,"div",5)(4,"label",6),s(5,"From Date"),n(),o(6,"div",7)(7,"input",8,0),P("ngModelChange",function(h){return b(c),M(e.fromDate,h)||(e.fromDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("fromDate",h))}),n(),o(9,"button",9),g("click",function(){b(c);let h=R(8);return y(h.toggle())}),E(10,"img",10),n()()()(),o(11,"div",4)(12,"div",5)(13,"label",6),s(14,"To Date"),n(),o(15,"div",7)(16,"input",11,1),P("ngModelChange",function(h){return b(c),M(e.toDate,h)||(e.toDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("toDate",h))}),n(),o(18,"button",9),g("click",function(){b(c);let h=R(17);return y(h.toggle())}),E(19,"img",10),n()()()(),o(20,"div",4)(21,"div",5)(22,"label",6),s(23,"Bilti Number"),n(),o(24,"ng-select",12),P("ngModelChange",function(h){return b(c),M(e.biltiNumber,h)||(e.biltiNumber=h),y(h)}),v(25,VF,2,2,"ng-option",13),n()()(),o(26,"div",4)(27,"div",5)(28,"label"),s(29,"Paid By Details"),n(),o(30,"ng-select",14),P("ngModelChange",function(h){return b(c),M(e.paidByDetails,h)||(e.paidByDetails=h),y(h)}),v(31,RF,2,2,"ng-option",13),n()()(),o(32,"div",15)(33,"div",5)(34,"label",16),s(35,"\xA0"),n(),o(36,"button",17),g("click",function(){return b(c),y(e.handleSearch())}),s(37,"Search"),n()()(),o(38,"div",15)(39,"div",5)(40,"label",16),s(41,"\xA0"),n(),o(42,"button",17),g("click",function(){return b(c),y(e.onClearFilter())}),s(43," Clear "),n()()()()()}i&2&&(d(7),m("autoClose",!0),F("ngModel",e.fromDate),m("maxDate",e.today),d(9),m("autoClose",!0),F("ngModel",e.toDate),m("maxDate",e.today),d(8),F("ngModel",e.biltiNumber),m("disabled",e.isBiltiNumberDisabled),d(),m("ngForOf",e.filters==null?null:e.filters.BiltiNumber),d(5),F("ngModel",e.paidByDetails),d(),m("ngForOf",e.filters==null?null:e.filters.PaidByDetails),d(5),m("disabled",!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.paidByDetails),d(6),m("disabled",!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.paidByDetails))},dependencies:[$,le,se,Ae,U,Y,Tt],styles:[".datepicker[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:0 4px}.datepicker[_ngcontent-%COMP%]     ngb-datepicker.dropdown-menu{top:30px}"]});let a=r;return a})();function GF(a,r){if(a&1&&(o(0,"tr",25)(1,"td",18)(2,"div",26),E(3,"input",27),n()(),o(4,"td")(5,"div",26),E(6,"input",28),n()(),o(7,"td")(8,"div",26),E(9,"input",29),n()(),o(10,"td")(11,"div",26),E(12,"input",30),n()(),o(13,"td")(14,"div",26),E(15,"input",31),n()(),o(16,"td")(17,"div",26),E(18,"input",32),n()(),E(19,"input",33),n()),a&2){let l=r.index;m("formGroupName",l)}}function WF(a,r){a&1&&(o(0,"div",34),s(1,` Loading...
`),n())}var w0=(()=>{let r=class r{constructor(t,i,e,c,p,h){this.activeModal=t,this.formBuilder=i,this.biltiBillService=e,this.toastr=c,this.router=p,this.datePipe=h,this.loadSpinner=!1}ngOnInit(){this.initForm(),this.getBiltiBillProcessbyId()}initForm(){this.biltiBillDetails=this.formBuilder.group({biltiNumber:[""],creationDate:[""],adviceType:[""],vendorName:[""],freightAmount:[""],paidByDetails:[""],remarks:[""],debitRemarks:[""],debitAmount:[""],biltiCreationLineItemDetails:this.formBuilder.array([])})}get biltiCreationLineItemDetails(){return this.biltiBillDetails.get("biltiCreationLineItemDetails")}createLineItem(t){return this.formBuilder.group({paidByDetails:[t.paidByDetails||""],vendorName:[t?.vendorName||""],remarks:[this.biltiProcess?.loadingLocation?.value],id:[t.id],invoiceAmount:[t?.fRMTransactionModel?.invTotalAmount||0],debitAmount:[t?.biltiBillProcessChargesByVendor?.debitAmount||0],debitRemarks:[t?.biltiBillProcessChargesByVendor?.debitRemarks||"OK",A.required]})}getBiltiBillProcessbyId(){this.biltiBillService.getBiltiBillProcessbyId(this.biltiProcess.locationId,this.biltiProcess.id).subscribe(t=>{this.biltiBillDetailsData=t,this.populateForm()})}populateForm(){if(this.biltiBillDetailsData){let t=this.datePipe.transform(this.biltiBillDetailsData.creationDate,"yyyy-MM-dd");this.biltiBillDetails.patchValue({biltiNumber:this.biltiBillDetailsData.biltiNumber,creationDate:t,adviceType:this.biltiBillDetailsData.transactionTypeDetails?.name,freightAmount:this.biltiBillDetailsData.biltiBillProcessModel?.debitAmount});let i=this.biltiBillDetailsData.biltiCreationLineItemDetails;if(i){let e=this.biltiBillDetails.get("biltiCreationLineItemDetails");e.clear(),i.forEach(c=>{e.push(this.createLineItem(c))})}}}OnPressSave(){this.loadSpinner=!0;let i=this.biltiBillDetails.get("biltiCreationLineItemDetails").controls.map((p,h)=>({id:this.biltiBillDetailsData.biltiCreationLineItemDetails[h].biltiBillProcessChargesByVendor?.id,remarks:p.get("remarks")?.value||"",debitAmount:p.get("debitAmount")?.value||0,debitRemarks:p.get("debitRemarks")?.value||"",creationLineItemId:p.get("id")?.value,actionBy:localStorage.getItem("userId"),status:"Active",freightCharge:this.biltiBillDetailsData?.biltiCreationLineItemDetails[h]?.biltiBillProcessChargesByVendor?.freightCharge,pointCharge:this.biltiBillDetailsData?.biltiCreationLineItemDetails[h]?.biltiBillProcessChargesByVendor?.pointCharge,detentionCharge:this.biltiBillDetailsData?.biltiCreationLineItemDetails[h]?.biltiBillProcessChargesByVendor?.detentionCharge,overloadCharge:this.biltiBillDetailsData?.biltiCreationLineItemDetails[h]?.biltiBillProcessChargesByVendor?.overloadCharge,tollTax:this.biltiBillDetailsData?.biltiCreationLineItemDetails[h]?.biltiBillProcessChargesByVendor?.tollTax,unloadingCharge:this.biltiBillDetailsData?.biltiCreationLineItemDetails[h]?.biltiBillProcessChargesByVendor?.unloadingCharge,otherCharges:this.biltiBillDetailsData?.biltiCreationLineItemDetails[h]?.biltiBillProcessChargesByVendor?.otherCharges})),e={id:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.id,actionBy:localStorage.getItem("userId"),status:"Active",freightCharge:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.freightCharge,pointCharge:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.pointCharge,detentionCharge:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.detentionCharge,overloadCharge:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.overloadCharge,tollTax:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.tollTax,unloadingCharge:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.unloadingCharge,otherCharges:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.otherCharges,remarks:this.biltiBillDetailsData.biltiBillProcessModel?.biltiBillProcessChargesByLG?.remarks},c={id:this.biltiBillDetailsData.biltiBillProcessModel?.id,actionBy:localStorage.getItem("userId"),status:this.biltiBillDetailsData.biltiBillProcessModel?.status,chargesByVendorDetails:i,chargesByLGDetails:e,debitAmount:this.biltiBillDetailsData?.biltiBillProcessModel?.debitAmount,penaltyAmount:this.biltiBillDetailsData?.biltiBillProcessModel?.penaltyAmount,penaltyReason:this.biltiBillDetailsData?.biltiBillProcessModel?.penaltyReason,excessAmount:this.biltiBillDetailsData?.biltiBillProcessModel?.excessAmount,excessReason:this.biltiBillDetailsData?.biltiBillProcessModel?.excessReason,grandTotal:this.biltiBillDetailsData?.biltiBillProcessModel?.grandTotal,paidByAmount:this.biltiBillDetailsData?.biltiBillProcessModel?.grandTotal,batchName:this.biltiBillDetailsData?.transactionTypeDetails?.adviceTypeDetails?.batchName,maxBiltiNumber:this.biltiBillDetailsData?.transactionTypeDetails?.adviceTypeDetails?.maxBiltiNumber};this.biltiBillService.updateBiltiBillProcess(this.biltiProcess.locationId,this.biltiBillDetailsData.biltiBillProcessModel?.id,c).subscribe(p=>{this.toastr.success("Debit Note Updated Successfully"),this.loadSpinner=!1,this.activeModal.close("save")},p=>{this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(ut),D(mt),D(St),D(Z),D(X),D(Se))},r.\u0275cmp=k({type:r,selectors:[["app-debit-note-details-modal"]],inputs:{biltiProcess:"biltiProcess"},features:[Gt([Se])],decls:57,vars:4,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"float-right",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"clearfix"],[3,"formGroup"],[1,"ngmodal-body"],[1,"row"],[1,"col-lg-2","col-md-2"],[1,"custom-form-input"],["for",""],["type","text","readonly","","formControlName","biltiNumber",1,"input-field"],["type","text","readonly","","formControlName","creationDate",1,"input-field"],["type","text","readonly","","formControlName","adviceType",1,"input-field"],["type","text","readonly","","formControlName","freightAmount",1,"input-field"],[1,"modal-subTable"],[1,""],[1,"custom-table"],[1,"ps-0"],[1,"text-danger"],["formArrayName","biltiCreationLineItemDetails"],[3,"formGroupName",4,"ngFor","ngForOf"],[1,"ngmodal-footer","text-center","mt-5"],[1,"custom-button-regulr",3,"click","disabled"],["class","spinner",4,"ngIf"],[3,"formGroupName"],[1,"custom-form-input","mb-0"],["type","text","formControlName","paidByDetails","readonly","",1,"input-field"],["type","text","formControlName","vendorName","readonly","",1,"input-field"],["type","text","formControlName","remarks","readonly","","maxlength","150",1,"input-field"],["type","text","formControlName","invoiceAmount","readonly","",1,"input-field"],["type","text","formControlName","debitAmount","readonly","",1,"input-field"],["type","text","formControlName","debitRemarks","maxlength","150",1,"input-field"],["type","hidden","formControlName","id"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," Debit Note Details "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n(),E(6,"div",4),n()(),o(7,"form",5)(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",9)(12,"label",10),s(13,"Bilti Number"),n(),E(14,"input",11),n()(),o(15,"div",8)(16,"div",9)(17,"label",10),s(18,"Bilti Date"),n(),E(19,"input",12),n()(),o(20,"div",8)(21,"div",9)(22,"label",10),s(23,"Advice Type"),n(),E(24,"input",13),n()(),o(25,"div",8)(26,"div",9)(27,"label",10),s(28,"Freight Amount"),n(),E(29,"input",14),n()()(),o(30,"div",15)(31,"h4",16),s(32,"Charges by Vendor"),n()(),o(33,"div",17)(34,"table")(35,"thead")(36,"tr")(37,"th",18),s(38,"Paid By Details"),n(),o(39,"th"),s(40,"Supplier Name"),n(),o(41,"th"),s(42,"Loading Location"),n(),o(43,"th"),s(44,"Invoice Amount"),n(),o(45,"th"),s(46,"Debit Amount"),n(),o(47,"th"),s(48,"Debit Remarks "),o(49,"span",19),s(50,"*"),n()()()(),o(51,"tbody",20),v(52,GF,20,1,"tr",21),n()()()(),o(53,"div",22)(54,"button",23),g("click",function(){return e.OnPressSave()}),s(55,"Save"),n()()()(),v(56,WF,2,0,"div",24)),i&2&&(d(7),m("formGroup",e.biltiBillDetails),d(45),m("ngForOf",e.biltiCreationLineItemDetails.controls),d(2),m("disabled",e.biltiBillDetails.invalid),d(2),m("ngIf",e.loadSpinner))},dependencies:[$,z,Ze,Ae,U,Qe,Ht,nt,ot,Ni,Fi],styles:[".modal-subTable[_ngcontent-%COMP%]{margin-top:var(--spacer-30)}.modal-subTable[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:var(--spacer-16)!important;font-weight:600!important;margin-bottom:0;display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--spacer-15)}"]});let a=r;return a})();function UF(a,r){if(a&1&&(o(0,"div",10)(1,"div",11)(2,"span"),s(3,"Created On"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",11)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",11)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",11)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function HF(a,r){if(a&1){let l=O();o(0,"li",13),g("click",function(){b(l);let i=S(2).$implicit,e=R(25);return S().onOpenDebitNoteModal(i),y(e.close())}),s(1,"Debit Note Details"),n()}}function zF(a,r){if(a&1){let l=O();o(0,"div",12)(1,"ul")(2,"li",13),g("click",function(){b(l);let i=S().$implicit,e=R(25);return S().onOpenProcessModal(i),y(e.close())}),s(3,"Bilti Bill Process Details"),n(),v(4,HF,2,0,"li",14),n()()}if(a&2){let l=S().$implicit;d(4),m("ngIf",(l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.debitAmount)!=0&&l.biltiBillProcessModel!=null)}}function qF(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",7)(2,"span",8)(3,"u"),s(4),n()(),v(5,UF,23,10,"ng-template",null,0,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td",4)(24,"img",9,1),g("click",function(){b(l);let i=R(25);return y(i.open())}),n(),v(26,zF,5,1,"ng-template",null,2,te),n()()}if(a&2){let l=r.$implicit,t=R(6),i=R(27);d(2),m("ngbTooltip",t),d(2),_(l.biltiNumber),d(4),_(l.creationDate),d(2),_(l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.biltiBillProcessDate),d(2),_(l.frlrNumber),d(2),_(l.transporterModel==null?null:l.transporterModel.transporterName),d(2),_(l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l.freights==null?null:l.freights.freightAmount),d(2),_(l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.paidByAmount),d(2),_(l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.debitAmount),d(2),m("ngbPopover",i)("autoClose","outside")}}function YF(a,r){a&1&&(o(0,"tr")(1,"td",15),s(2,"No Bilti Bill Process Found"),n()())}var I0=(()=>{let r=class r{constructor(t,i,e){this.router=t,this.modalService=i,this.biltiBIllProService=e,this.biltiBillProcess=[],this.refreshList=new W}ngOnInit(){}onOpenProcessModal(t){let i=this.modalService.open(Bi,{size:"xl",backdrop:"static"});i.componentInstance.biltiProcess=t,i.result.then(e=>{e==="save"&&(this.router.navigate(["transaction/biltiBillProcess"]),this.refreshList.emit())})}onOpenDebitNoteModal(t){let i=this.modalService.open(w0,{size:"xl",backdrop:"static"});i.componentInstance.biltiProcess=t,i.result.then(e=>{e==="save"&&(this.router.navigate(["transaction/biltiBillProcess"]),this.refreshList.emit())})}onEditBilti(){this.router.navigate(["transaction/addEditBilti"])}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe),D(St))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-bill-process-grid-table"]],inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{refreshList:"refreshList"},decls:27,vars:2,consts:[["tipContent",""],["p","ngbPopover"],["popContent",""],[1,"custom-table"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/more.svg","alt","edit","triggers","manual",1,"me-3","pointer",3,"click","ngbPopover","autoClose"],[1,""],[1,"content-row"],[1,"popover-list"],[3,"click"],[3,"click",4,"ngIf"],["align","center","colspan","13"]],template:function(i,e){i&1&&(o(0,"div",3)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Bilti No."),n(),o(6,"th"),s(7,"Bilti Date"),n(),o(8,"th"),s(9,"Bill Bill Process Date"),n(),o(10,"th"),s(11,"FRLR Number"),n(),o(12,"th"),s(13,"Transporter Name"),n(),o(14,"th"),s(15,"Vehicle No."),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Paid By Amount"),n(),o(20,"th"),s(21,"Debit Amount"),n(),o(22,"th",4),s(23,"Actions"),n()()(),o(24,"tbody"),v(25,qF,28,12,"tr",5)(26,YF,3,0,"tr",6),n()()()),i&2&&(d(25),m("ngForOf",e.biltiBillProcess),d(),m("ngIf",e.biltiBillProcess.length==0))},dependencies:[$,z,be,ii,Se],styles:[".popover-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;margin:0}.popover-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;cursor:pointer;padding:5px 0}"]});let a=r;return a})();var QF=a=>({"d-none":a}),ZF=a=>({isFilters:a});function KF(a,r){a&1&&(o(0,"div",13),s(1," Loading... "),n())}var _d=(()=>{let r=class r{constructor(t,i,e){this.router=t,this.biltiBIllProService=i,this.toastr=e,this.isFilters=!0,this.fromDate=null,this.biltiBillProcess=[],this.loadSpinner=!0,this.toDate=new Date().getFullYear()+"-"+("0"+(new Date().getMonth()+1)).slice(-2)+"-"+("0"+(new Date().getDate()+1)).slice(-2),this.currentPage=1,this.count=10,this.totalBiltiBills=0,this.filters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={screenCode:302,fromDate:e?.fromDate||null,toDate:e?.toDate||null,adviceType:e?.adviceType||"",batchNumber:e?.batchNumber||"",biltiNumber:e?.biltiNumber||"",locationIds:j.commonLocationsList.map(p=>p.id),status:"",paidByDetails:e?.paidByDetails};this.biltiBIllProService.getBiltiBillProcess(c,t,i).subscribe(p=>{this.loadSpinner=!1,p.biltiBillProcess.forEach(h=>{h.creationDate=fd.utc(h.creationDate).local().format("YYYY-MM-DD"),h.biltiBillProcessModel&&(h.biltiBillProcessModel.biltiBillProcessDate=fd.utc(h.biltiBillProcessModel.biltiBillProcessDate).local().format("YYYY-MM-DD"))}),this.biltiBillProcess=p.biltiBillProcess,this.totalBiltiBills=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(St),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-bilti-bill-process"]],decls:25,vars:21,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"refreshList","biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Bilti Bill Process"),n()(),o(3,"div",1)(4,"app-bilti-bill-process-filter",2),g("filterSearchObj",function(p){return e.filteredData(p)}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-bilti-bill-process-grid-table",6),g("refreshList",function(){return e.getAllBiltiProcess()}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,KF,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(17,QF,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",ge(19,ZF,e.isFilters)),d(3),m("biltiBillProcess",e.biltiBillProcess),d(2),m("collectionSize",e.totalBiltiBills),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,T0,I0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();var vd=Si(Tn());ua();var N0=Si(ma());function JF(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),K(11,"date"),n(),o(12,"td"),s(13),n(),o(14,"td"),s(15),n(),o(16,"td"),s(17),n(),o(18,"td"),s(19),n(),o(20,"td"),s(21),n(),o(22,"td"),s(23),n(),o(24,"td"),s(25),n(),o(26,"td"),s(27),n(),o(28,"td"),s(29),n(),o(30,"td"),s(31),n(),o(32,"td"),s(33),n(),o(34,"td"),s(35),n()()),a&2){let l=r.$implicit,t=r.index;d(2),_(t+1),d(2),_(l==null?null:l.transporterCode),d(2),_(l==null?null:l.transporterName),d(2),_(l==null?null:l.biltiNumber),d(2),_(ee(11,17,l==null?null:l.creationDate,"yyyy-MM-dd")),d(3),_(l==null?null:l.basicFreightCharge),d(2),_(l==null?null:l.pointCharges),d(2),_(l==null?null:l.unloadingCharges),d(2),_(l==null?null:l.detentionCharges),d(2),_(l==null?null:l.overloadCharges),d(2),_(l==null?null:l.tollTaxCharges),d(2),_(l==null?null:l.netAmount),d(2),_(l==null?null:l.sgstAmount),d(2),_(l==null?null:l.cgstAmount),d(2),_(l==null?null:l.igstAmount),d(2),_(l==null?null:l.debitNoteAmount),d(2),_(l==null?null:l.grandTotal)}}function XF(a,r){a&1&&(o(0,"div",19),s(1,` Downloading...
`),n())}var Hn=(()=>{let r=class r{constructor(t,i,e){this.pdfService=t,this.activeModal=i,this.biltiService=e,this.approvalData=[],this.biltiData=[],this.title=[],this.loadSpinner=!1}ngOnInit(){this.getApprovalBiltiData(),this.getBiltiInfo()}downloadPDF(){this.loadSpinner=!0;let t=document.getElementById("download-button"),i=document.getElementById("icon-button");t&&(t.style.display="none"),i&&(i.style.display="none");let e=document.getElementById("approval-content");if(!e){console.error("Element not found: approval-content");return}(0,N0.default)(e,{scale:3,useCORS:!0}).then(p=>{let h=p.toDataURL("image/png",1),w=new fr("p","mm","a4"),N=210,L=295,V=p.height*N/p.width,I=V,G=0;for(;I>=0;)w.addImage(h,"PNG",0,G,N,V),I-=L,G-=L,I>=0&&w.addPage();w.save("approval"),this.onClose()})}getApprovalBiltiData(){let t={locationIds:j.commonLocationsList.map(i=>i.id),status:"",screenCode:0,fromDate:null,toDate:null,batchNumber:this.title=="report"?this.biltiData?.batchNumber:this.biltiData[0]?.biltiBillProcessModel?.batchNumber,adviceType:"",batchName:"",biltiNumber:""};this.biltiService.getBiltiApprovalData(t).subscribe(i=>{this.approvalData=i})}getBiltiInfo(){let t=this.biltiData[0]?.biltiBillProcessModel.batchNumber;t&&(this.adviceType=t.split("_")[0],this.batchName=t.split("_").slice(0,2).join("_"))}onClose(){this.activeModal.close(),this.loadSpinner=!1}};r.\u0275fac=function(i){return new(i||r)(D(wr),D(ut),D(St))},r.\u0275cmp=k({type:r,selectors:[["app-approval-pdf"]],inputs:{biltiData:"biltiData",title:"title"},decls:102,vars:12,consts:[["id","approval-content",1,"container-fluid"],[1,"d-flex","justify-content-end"],["id","download-button","src","assets/images/icons/download.svg","alt","Download PDF",1,"me-3","pointer",3,"click"],["id","icon-button","src","assets/images/icons/close.svg","alt","close",1,"pointer",3,"click"],[1,"row"],[1,"approval-header"],[1,"col-12"],[1,"header"],[1,"col-6"],[1,"custom-table"],["border","1","cellspacing","0","cellpadding","5"],["colspan","3"],["colspan","2"],["colspan","1"],[1,"custom-table","mt-5"],["colspan","5"],["colspan","4"],[4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"img",2),g("click",function(){return e.downloadPDF()}),n(),o(3,"img",3),g("click",function(){return e.onClose()}),n()(),o(4,"div",4)(5,"div",5)(6,"div",6)(7,"p",7),s(8,"LG Electronics India Pvt Ltd."),n()()()(),o(9,"div",4)(10,"div",8)(11,"div",9)(12,"table",10)(13,"tr")(14,"td"),s(15,"Payment Advise No :"),n(),o(16,"td"),s(17),n()(),o(18,"tr")(19,"td"),s(20,"Payment Advise Date:"),n(),o(21,"td"),s(22),K(23,"date"),n()(),o(24,"tr")(25,"td"),s(26,"Payment TTL(Grand TTL):"),n(),o(27,"td",11),s(28),n()()()()(),o(29,"div",8)(30,"div",9)(31,"table")(32,"thead")(33,"tr")(34,"th",12),s(35,"Material"),n(),o(36,"th",13),s(37,"Accounts"),n()(),o(38,"tr")(39,"th"),s(40,"Checked By Material"),n(),o(41,"th"),s(42,"Approved By"),n(),o(43,"th"),s(44,"Approved By"),n()()(),o(45,"tbody")(46,"tr")(47,"td"),s(48),n(),o(49,"td"),s(50),n(),o(51,"td"),s(52),n()()()()()()(),o(53,"div",14)(54,"table")(55,"thead")(56,"tr")(57,"th",12),s(58,"Payment Advise No:"),n(),o(59,"th",12),s(60),n(),o(61,"th",15),s(62,"Additions"),n(),E(63,"th",16),n(),o(64,"tr")(65,"th"),s(66,"No."),n(),o(67,"th"),s(68,"Supplier Code"),n(),o(69,"th"),s(70,"Supplier Name"),n(),o(71,"th"),s(72,"Bilti No."),n(),o(73,"th"),s(74,"Bilti Date"),n(),o(75,"th"),s(76,"Basic Freight Charges"),n(),o(77,"th"),s(78,"Point Charges"),n(),o(79,"th"),s(80,"Unloading Charges"),n(),o(81,"th"),s(82,"Detensio Charges"),n(),o(83,"th"),s(84,"Overload Charges"),n(),o(85,"th"),s(86,"Toll Tax"),n(),o(87,"th"),s(88,"Net Amt."),n(),o(89,"th"),s(90,"SGST Amt."),n(),o(91,"th"),s(92,"CGST Amt."),n(),o(93,"th"),s(94,"IGST Amt."),n(),o(95,"th"),s(96,"Debit Note Amt."),n(),o(97,"th"),s(98,"Grand Total"),n()()(),o(99,"tbody"),v(100,JF,36,20,"tr",17),n()()()(),v(101,XF,2,0,"div",18)),i&2&&(d(17),_(e.approvalData==null?null:e.approvalData.batchNumber),d(5),_(ee(23,9,e.approvalData==null?null:e.approvalData.biltiBillProcessDate,"yyyy-MM-dd")),d(6),_(e.approvalData==null?null:e.approvalData.paymentTotal),d(20),_((e.approvalData==null?null:e.approvalData.checkedByMaterial)||"-"),d(2),_((e.approvalData==null?null:e.approvalData.approvedByMaterialHead)||"-"),d(2),_((e.approvalData==null?null:e.approvalData.approvedByAccounts)||"-"),d(8),_(e.approvalData==null?null:e.approvalData.batchNumber),d(40),m("ngForOf",e.approvalData==null?null:e.approvalData.biltiDetails),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,Se],styles:[".container-fluid[_ngcontent-%COMP%]{padding:40px 20px}.header[_ngcontent-%COMP%]{font-weight:700;font-size:20px;text-decoration:underline;color:navy}.col-auto[_ngcontent-%COMP%]{padding-right:0;padding-bottom:0}.horizontal-line[_ngcontent-%COMP%]{width:100px}.custom-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{border-collapse:collapse;width:100%}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black!important;padding:8px;text-align:center;max-width:100px;word-wrap:break-word;white-space:normal;overflow:hidden}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2}"]});let a=r;return a})();function eM(a,r){if(a&1&&(o(0,"ng-option",21),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function tM(a,r){if(a&1){let l=O();o(0,"div",13)(1,"div",19)(2,"label",7),s(3,"Location Code"),n(),o(4,"ng-select",20),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,eM,2,2,"ng-option",15),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function iM(a,r){if(a&1&&(o(0,"ng-option",21),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var F0=(()=>{let r=class r{constructor(t){this.toastr=t,this.batchName=void 0,this.biltiNumber=void 0,this.batchNames=[],this.batchNumber="",this.filters=[],this.filterSearchObj=new W,this.today=ne(ht).getToday(),this.loadSpinner=!0,this.locations=j.ccommonLocationsList,this.locationIds=j.commonLocationsList.map(i=>i.id)}ngOnInit(){}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;t==="fromDate"?this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString():this.selectedToDate=i.year+"-"+e.toString()+"-"+c.toString()}handleSearch(){let t={biltiNumber:this.biltiNumber||"",batchNumber:this.batchNumber||"",fromDate:this.selectedFromDate,toDate:this.selectedToDate,locationIds:this.locationIds};this.filterSearchObj.emit(t)}onClearFilter(){this.batchNumber="",this.fromDate=null,this.toDate=null,this.selectedFromDate=null,this.selectedToDate=null,this.locationIds=this.locationIds;let t={batchNumber:"",locationIds:this.locationIds};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-checked-materials-team-filter"]],inputs:{filters:"filters"},outputs:{filterSearchObj:"filterSearchObj"},decls:39,vars:11,consts:[["fromDt","ngbDatepicker"],["toDt","ngbDatepicker"],[1,"filters-box"],[1,"row"],["class","col-lg-2",4,"ngIf"],[1,"col"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["placeholder","yyyy-mm-dd","name","toDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],[1,"col-lg-2"],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3),v(2,tM,6,4,"div",4),o(3,"div",5)(4,"div",6)(5,"label",7),s(6,"From Date"),n(),o(7,"div",8)(8,"input",9,0),P("ngModelChange",function(h){return b(c),M(e.fromDate,h)||(e.fromDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("fromDate",h))}),n(),o(10,"button",10),g("click",function(){b(c);let h=R(9);return y(h.toggle())}),E(11,"img",11),n()()()(),o(12,"div",5)(13,"div",6)(14,"label",7),s(15,"To Date"),n(),o(16,"div",8)(17,"input",12,1),P("ngModelChange",function(h){return b(c),M(e.toDate,h)||(e.toDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("toDate",h))}),n(),o(19,"button",10),g("click",function(){b(c);let h=R(18);return y(h.toggle())}),E(20,"img",11),n()()()(),o(21,"div",13)(22,"div",6)(23,"label",7),s(24,"Batch Number"),n(),o(25,"ng-select",14),P("ngModelChange",function(h){return b(c),M(e.batchNumber,h)||(e.batchNumber=h),y(h)}),v(26,iM,2,2,"ng-option",15),n()()(),o(27,"div",16)(28,"div",6)(29,"label",17),s(30,"\xA0"),n(),o(31,"button",18),g("click",function(){return b(c),y(e.handleSearch())}),s(32," Search "),n()()(),o(33,"div",16)(34,"div",6)(35,"label",17),s(36,"\xA0"),n(),o(37,"button",18),g("click",function(){return b(c),y(e.onClearFilter())}),s(38," Clear "),n()()()()()}i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(6),m("autoClose",!0),F("ngModel",e.fromDate),m("maxDate",e.today),d(9),m("autoClose",!0),F("ngModel",e.toDate),m("maxDate",e.today),d(8),F("ngModel",e.batchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BatchNumber),d(5),m("disabled",!e.batchNumber),d(6),m("disabled",!e.batchNumber&&!e.fromDate&&!e.toDate))},dependencies:[$,z,le,se,Ae,U,Y,Tt]});let a=r;return a})();function oM(a,r){if(a&1&&(o(0,"div",6)(1,"div",7)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",7)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",7)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",7)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function rM(a,r){if(a&1){let l=O();o(0,"tbody")(1,"tr")(2,"td",3)(3,"span",4)(4,"u"),s(5),n()(),v(6,oM,23,10,"ng-template",null,0,te),n(),o(8,"td"),s(9),K(10,"date"),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td")(26,"img",5),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewBiltiDetails(i))}),n()(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n()()()}if(a&2){let l=r.$implicit,t=R(7);d(3),m("ngbTooltip",t),d(2),_(l==null?null:l.biltiNumber),d(4),_(ee(10,12,l==null?null:l.creationDate,"yyyy-MM-dd")),d(3),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.biltiBillProcessDate),d(2),_(l==null?null:l.frlrNumber),d(2),_(l==null||l.transporterModel==null?null:l.transporterModel.transporterName),d(2),_(l==null||l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l==null||l.freights==null?null:l.freights.freightAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.paidByAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.debitAmount),d(4),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.status),d(2),_((l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.remarks)||"-")}}var M0=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i,this.biltiBillProcessList=[],this.loadSpinner=!0,this.biltiBillProcess=[],this.refreshList=new W,this.isFilters=!0}ngOnInit(){}onPreviewBiltiDetails(t){let i=this.modalService.open(Bi,{size:"xl",backdrop:"static"});i.componentInstance.biltiProcess=t,i.result.then(e=>{e==="save"&&(this.router.navigate(["transaction/checkedMaterialsTeam"]),this.refreshList.emit())},e=>{})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-checked-materials-team-grid-table"]],inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{refreshList:"refreshList"},decls:29,vars:1,consts:[["tipContent",""],[1,"custom-table"],[4,"ngFor","ngForOf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link",1,"pointer",3,"click"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Bilti#"),n(),o(6,"th"),s(7,"Bilti Date"),n(),o(8,"th"),s(9,"Bilti Bill Process Date"),n(),o(10,"th"),s(11,"FRLR#"),n(),o(12,"th"),s(13,"Transporter Name"),n(),o(14,"th"),s(15,"Vehicle Number"),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Paid by Amount"),n(),o(20,"th"),s(21,"Debit Amount"),n(),o(22,"th"),s(23,"Bilti Bill Process Details"),n(),o(24,"th"),s(25,"Status"),n(),o(26,"th"),s(27,"Remarks"),n()()(),v(28,rM,31,15,"tbody",2),n()()),i&2&&(d(28),m("ngForOf",e.biltiBillProcess))},dependencies:[$,be,Se]});let a=r;return a})();var P0=a=>({"d-none":a}),lM=a=>({isFilters:a});function sM(a,r){if(a&1){let l=O();o(0,"div",20),E(1,"textarea",21,5),n(),o(3,"button",22),g("click",function(){b(l);let i=R(2);S();let e=R(5),c=S();return y(c.updateStatus("Approved",i.value,e))}),s(4," Confirm Approve "),n()}}function dM(a,r){if(a&1){let l=O();o(0,"div",20),E(1,"textarea",21,6),n(),o(3,"button",15),g("click",function(){b(l);let i=R(2);S();let e=R(8),c=S();return y(c.updateStatus("Rejected",i.value,e))}),s(4," Confirm Reject "),n()}}function cM(a,r){a&1&&s(0,"Remarks")}function pM(a,r){if(a&1){let l=O();o(0,"div",13)(1,"div",14)(2,"button",15),g("click",function(){b(l);let i=S();return y(i.onPreviewPdf())}),s(3,"Approval PDF"),n()(),o(4,"button",16,0),g("click",function(){b(l);let i=R(5),e=S();return y(e.openPopover(i))}),s(6," Approve "),n(),o(7,"button",17,1),g("click",function(){b(l);let i=R(8),e=S();return y(e.openPopover(i))}),s(9," Reject "),n(),v(10,sM,5,0,"ng-template",18,2,te)(12,dM,5,0,"ng-template",19,3,te)(14,cM,1,0,"ng-template",null,4,te),n()}if(a&2){let l=R(11),t=R(13),i=R(15),e=S();m("ngClass",ge(7,P0,!e.isFilters)),d(4),m("ngbPopover",l)("popoverTitle",i)("autoClose","outside"),d(3),m("ngbPopover",t)("popoverTitle",i)("autoClose","outside")}}function mM(a,r){if(a&1){let l=O();o(0,"div",23)(1,"div",24)(2,"div",25)(3,"app-checked-materials-team-grid-table",26),g("refreshList",function(){b(l);let i=S();return y(i.getAllBiltiProcess())}),n()(),o(4,"div",27)(5,"ngb-pagination",28),P("pageChange",function(i){b(l);let e=S();return M(e.currentPage,i)||(e.currentPage=i),y(i)}),g("pageChange",function(i){b(l);let e=S();return y(e.onPageChange(i))}),n(),o(6,"p",29),s(7," Items per page:"),n(),o(8,"select",30),P("ngModelChange",function(i){b(l);let e=S();return M(e.count,i)||(e.count=i),y(i)}),g("ngModelChange",function(){b(l);let i=S();return y(i.onPageSizeChange(i.count))}),o(9,"option",31),s(10,"10"),n(),o(11,"option",31),s(12,"20"),n(),o(13,"option",31),s(14,"50"),n(),o(15,"option",31),s(16,"100"),n(),o(17,"option",31),s(18,"500"),n()()()()()}if(a&2){let l=S();m("ngClass",ge(14,lM,l.biltiBillProcess.length>0)),d(3),m("biltiBillProcess",l.biltiBillProcess),d(2),m("collectionSize",l.totalBiltis),F("page",l.currentPage),m("pageSize",l.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",l.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500)}}function uM(a,r){a&1&&(o(0,"div",32),s(1," Loading... "),n())}var k0=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.biltiProcessService=i,this.toastr=e,this.commonTransaction=c,this.modalService=p,this.isFilters=!0,this.fromDate=null,this.biltiBillProcess=[],this.filteredBiltibillList=[],this.loadSpinner=!1,this.toDate=new Date().getFullYear()+"-"+("0"+(new Date().getMonth()+1)).slice(-2)+"-"+("0"+(new Date().getDate()+1)).slice(-2),this.currentPage=1,this.count=10,this.totalBiltis=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.userName=""}ngOnInit(){let t=localStorage.getItem("logindata");if(t){let i=JSON.parse(t)}this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={screenCode:303,fromDate:e?.fromDate||null,toDate:e?.toDate||null,adviceType:"",batchNumber:e?.batchNumber||"",biltiNumber:"",locationIds:this.locationIds||j.commonLocationsList.map(p=>p.id)};this.biltiProcessService.getBiltiBillProcess(c,t,i).subscribe(p=>{this.loadSpinner=!1,p.biltiBillProcess.forEach(h=>{h.creationDate=vd.default.utc(h.creationDate).local().format("YYYY-MM-DD"),h.biltiBillProcessModel&&(h.biltiBillProcessModel.biltiBillProcessDate=vd.default.utc(h.biltiBillProcessModel.biltiBillProcessDate).local().format("YYYY-MM-DD"))}),this.biltiBillProcess=p.biltiBillProcess,this.totalBiltis=p.paging.total,this.filters=p.filters,this.filteredBiltibillList=[...new Set(p.biltiBillProcess.map(h=>h?.biltiBillProcessModel?.batchNumber))].map(h=>p.biltiBillProcess.find(w=>w.biltiBillProcessModel.batchNumber===h))},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.batchNumber=t.batchNumber,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}openPopover(t){t.open()}closePopover(t){t.close()}updateStatus(t,i,e){if(this.loadSpinner=!0,t==="Rejected"&&!i.trim()){this.toastr.error("Remarks are required for rejection"),this.loadSpinner=!1;return}let c={approvalLevel:"MaterialChecked",status:t,remarks:i,actionBy:localStorage.getItem("userId"),transactionCode:203,actionByName:this.userName};this.commonTransaction.updateBiltiApprovalStatus(this.biltiBillProcess[0]?.locationId,this.batchNumber,c).subscribe(p=>{this.toastr.success("Status Updated Successfully"),this.loadSpinner=!1,e&&e.close(),this.getAllBiltiProcess()},p=>{this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onPreviewPdf(){let t=this.modalService.open(Hn,{size:"xl",backdrop:"static",windowClass:"modal-width"});t.componentInstance.title="Approval",t.componentInstance.biltiData=this.biltiBillProcess,t.result.then(i=>{})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(St),D(Z),D(yi),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-checked-by-materials-team"]],viewQuery:function(i,e){if(i&1&&Le(Hn,5),i&2){let c;we(c=Ie())&&(e.approvalPdfComponent=c.first)}},decls:8,vars:7,consts:[["approvePopover","ngbPopover"],["rejectPopover","ngbPopover"],["approvePopContent",""],["rejectPopContent",""],["popTitle",""],["approveRemarks",""],["rejectRemarks",""],[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","filters"],["class","filter-section d-flex justify-content-end",3,"ngClass",4,"ngIf"],["class","content-section",3,"ngClass",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"filter-section","d-flex","justify-content-end",3,"ngClass"],[1,"action-buttons","me-2"],[1,"custom-button-regulr",3,"click"],["type","button","triggers","manual","placement","left",1,"custom-button-secondary-small","me-2",3,"click","ngbPopover","popoverTitle","autoClose"],["type","button","triggers","manual","placement","left",1,"custom-button-regulr-small",3,"click","ngbPopover","popoverTitle","autoClose"],["approveRemarks","ngbPopover"],["rejectRemarks","ngbPopover"],[1,"custom-form-input"],["name","","id","","rows","3","maxlength","150",1,"input-field"],[1,"custom-button-secondary",3,"click"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"refreshList","biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",7)(1,"h1"),s(2,"Checked by Material's Team"),n()(),o(3,"div",8)(4,"app-checked-materials-team-filter",9),g("filterSearchObj",function(p){return e.filteredData(p)}),n()(),v(5,pM,16,9,"div",10)(6,mM,19,16,"div",11)(7,uM,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(5,P0,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngIf",(e.searchedData==null?null:e.searchedData.batchNumber)&&(e.biltiBillProcess==null?null:e.biltiBillProcess.length)>0&&!e.loadSpinner||(e.searchedData==null?null:e.searchedData.toDate)&&(e.biltiBillProcess==null?null:e.biltiBillProcess.length)>0),d(),m("ngIf",(e.searchedData==null?null:e.searchedData.batchNumber)&&!e.loadSpinner),d(),m("ngIf",e.loadSpinner))},dependencies:[ae,z,ii,me,ue,pe,U,Y,Ne,F0,M0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 252px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 312px)}"]});let a=r;return a})();var Ua=Si(Tn());function hM(a,r){if(a&1&&(o(0,"ng-option",21),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function gM(a,r){if(a&1){let l=O();o(0,"div",13)(1,"div",19)(2,"label",7),s(3,"Location Code"),n(),o(4,"ng-select",20),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,hM,2,2,"ng-option",15),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function fM(a,r){if(a&1&&(o(0,"ng-option",21),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var A0=(()=>{let r=class r{constructor(t){this.toastr=t,this.batchName=void 0,this.biltiNumber=void 0,this.batchNames=[],this.today=ne(ht).getToday(),this.loadSpinner=!0,this.batchNumber="",this.locations=j.commonLocations,this.locationIds=j.commonLocationsList.map(i=>i.id),this.filters=[],this.filterSearchObj=new W}ngOnInit(){}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;t==="fromDate"?this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString():this.selectedToDate=i.year+"-"+e.toString()+"-"+c.toString()}handleSearch(){let t={biltiNumber:this.biltiNumber||"",batchNumber:this.batchNumber||"",fromDate:this.selectedFromDate,toDate:this.selectedToDate,locationIds:this.locationIds};this.filterSearchObj.emit(t)}onClearFilter(){this.batchNumber="",this.fromDate=null,this.toDate=null,this.selectedFromDate=null,this.selectedToDate=null;let t={batchNumber:"",locationIds:[]};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-approval-material-head-filter"]],inputs:{filters:"filters"},outputs:{filterSearchObj:"filterSearchObj"},decls:39,vars:11,consts:[["fromDt","ngbDatepicker"],["toDt","ngbDatepicker"],[1,"filters-box"],[1,"row"],["class","col-lg-2",4,"ngIf"],[1,"col"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["placeholder","yyyy-mm-dd","name","toDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],[1,"col-lg-2"],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3),v(2,gM,6,4,"div",4),o(3,"div",5)(4,"div",6)(5,"label",7),s(6,"From Date"),n(),o(7,"div",8)(8,"input",9,0),P("ngModelChange",function(h){return b(c),M(e.fromDate,h)||(e.fromDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("fromDate",h))}),n(),o(10,"button",10),g("click",function(){b(c);let h=R(9);return y(h.toggle())}),E(11,"img",11),n()()()(),o(12,"div",5)(13,"div",6)(14,"label",7),s(15,"To Date"),n(),o(16,"div",8)(17,"input",12,1),P("ngModelChange",function(h){return b(c),M(e.toDate,h)||(e.toDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("toDate",h))}),n(),o(19,"button",10),g("click",function(){b(c);let h=R(18);return y(h.toggle())}),E(20,"img",11),n()()()(),o(21,"div",13)(22,"div",6)(23,"label",7),s(24,"Batch Number"),n(),o(25,"ng-select",14),P("ngModelChange",function(h){return b(c),M(e.batchNumber,h)||(e.batchNumber=h),y(h)}),v(26,fM,2,2,"ng-option",15),n()()(),o(27,"div",16)(28,"div",6)(29,"label",17),s(30,"\xA0"),n(),o(31,"button",18),g("click",function(){return b(c),y(e.handleSearch())}),s(32," Search "),n()()(),o(33,"div",16)(34,"div",6)(35,"label",17),s(36,"\xA0"),n(),o(37,"button",18),g("click",function(){return b(c),y(e.onClearFilter())}),s(38," Clear "),n()()()()()}i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(6),m("autoClose",!0),F("ngModel",e.fromDate),m("maxDate",e.today),d(9),m("autoClose",!0),F("ngModel",e.toDate),m("maxDate",e.today),d(8),F("ngModel",e.batchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BatchNumber),d(5),m("disabled",!e.batchNumber&&!e.fromDate&&!e.toDate),d(6),m("disabled",!e.batchNumber&&!e.fromDate&&!e.toDate))},dependencies:[$,z,le,se,Ae,U,Y,Tt]});let a=r;return a})();function vM(a,r){if(a&1&&(o(0,"div",6)(1,"div",7)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",7)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",7)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",7)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function bM(a,r){if(a&1){let l=O();o(0,"tbody")(1,"tr")(2,"td",3)(3,"span",4)(4,"u"),s(5),n()(),v(6,vM,23,10,"ng-template",null,0,te),n(),o(8,"td"),s(9),K(10,"date"),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td")(26,"img",5),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewBiltiDetails(i))}),n()(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n()()()}if(a&2){let l=r.$implicit,t=R(7);d(3),m("ngbTooltip",t),d(2),_(l==null?null:l.biltiNumber),d(4),_(ee(10,12,l==null?null:l.creationDate,"yyyy-MM-dd")),d(3),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.biltiBillProcessDate),d(2),_(l==null?null:l.frlrNumber),d(2),_(l==null||l.transporterModel==null?null:l.transporterModel.transporterName),d(2),_(l==null||l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l==null||l.freights==null?null:l.freights.freightAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.paidByAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.debitAmount),d(4),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.status),d(2),_((l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.remarks)||"-")}}var O0=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i,this.biltiBillProcessList=[],this.loadSpinner=!0,this.biltiBillProcess=[],this.refreshList=new W}ngOnInit(){}onPreviewBiltiDetails(t){let i=this.modalService.open(Bi,{size:"xl",backdrop:"static"});i.componentInstance.biltiProcess=t,i.result.then(e=>{e==="save"&&(this.router.navigate(["transaction/approvalMaterialHead"]),this.refreshList.emit())})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-approval-material-head-grid-table"]],inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{refreshList:"refreshList"},decls:29,vars:1,consts:[["tipContent",""],[1,"custom-table"],[4,"ngFor","ngForOf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link",1,"pointer",3,"click"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Bilti#"),n(),o(6,"th"),s(7,"Bilti Date"),n(),o(8,"th"),s(9,"Bilti Bill Process Date"),n(),o(10,"th"),s(11,"FRLR#"),n(),o(12,"th"),s(13,"Transporter Name"),n(),o(14,"th"),s(15,"Vehicle Number"),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Paid by Amount"),n(),o(20,"th"),s(21,"Debit Amount"),n(),o(22,"th"),s(23,"Bilti Bill Process Details"),n(),o(24,"th"),s(25,"Status"),n(),o(26,"th"),s(27,"Remarks"),n()()(),v(28,bM,31,15,"tbody",2),n()()),i&2&&(d(28),m("ngForOf",e.biltiBillProcess))},dependencies:[$,be,Se]});let a=r;return a})();var L0=a=>({"d-none":a}),CM=a=>({isFilters:a});function SM(a,r){if(a&1){let l=O();o(0,"div",20),E(1,"textarea",21,5),n(),o(3,"button",22),g("click",function(){b(l);let i=R(2);S();let e=R(5),c=S();return y(c.updateStatus("Approved",i.value,e))}),s(4," Confirm Approve "),n()}}function xM(a,r){if(a&1){let l=O();o(0,"div",20),E(1,"textarea",21,6),n(),o(3,"button",15),g("click",function(){b(l);let i=R(2);S();let e=R(8),c=S();return y(c.updateStatus("Rejected",i.value,e))}),s(4," Confirm Reject "),n()}}function DM(a,r){a&1&&s(0,"Remarks")}function EM(a,r){if(a&1){let l=O();o(0,"div",13)(1,"div",14)(2,"button",15),g("click",function(){b(l);let i=S();return y(i.onPreviewPdf())}),s(3,"Approval PDF"),n()(),o(4,"button",16,0),g("click",function(){b(l);let i=R(5),e=S();return y(e.openPopover(i))}),s(6," Approve "),n(),o(7,"button",17,1),g("click",function(){b(l);let i=R(8),e=S();return y(e.openPopover(i))}),s(9," Reject "),n(),v(10,SM,5,0,"ng-template",18,2,te)(12,xM,5,0,"ng-template",19,3,te)(14,DM,1,0,"ng-template",null,4,te),n()}if(a&2){let l=R(11),t=R(13),i=R(15),e=S();m("ngClass",ge(7,L0,!e.isFilters)),d(4),m("ngbPopover",l)("popoverTitle",i)("autoClose","outside"),d(3),m("ngbPopover",t)("popoverTitle",i)("autoClose","outside")}}function TM(a,r){if(a&1){let l=O();o(0,"div",23)(1,"div",24)(2,"div",25)(3,"app-approval-material-head-grid-table",26),g("refreshList",function(){b(l);let i=S();return y(i.getAllBiltiProcess())}),n()(),o(4,"div",27)(5,"ngb-pagination",28),P("pageChange",function(i){b(l);let e=S();return M(e.currentPage,i)||(e.currentPage=i),y(i)}),g("pageChange",function(i){b(l);let e=S();return y(e.onPageChange(i))}),n(),o(6,"p",29),s(7," Items per page:"),n(),o(8,"select",30),P("ngModelChange",function(i){b(l);let e=S();return M(e.count,i)||(e.count=i),y(i)}),g("ngModelChange",function(){b(l);let i=S();return y(i.onPageSizeChange(i.count))}),o(9,"option",31),s(10,"10"),n(),o(11,"option",31),s(12,"20"),n(),o(13,"option",31),s(14,"50"),n(),o(15,"option",31),s(16,"100"),n(),o(17,"option",31),s(18,"500"),n()()()()()}if(a&2){let l=S();m("ngClass",ge(14,CM,(l.biltiBillProcess==null?null:l.biltiBillProcess.length)>0)),d(3),m("biltiBillProcess",l.biltiBillProcess),d(2),m("collectionSize",l.totalBiltis),F("page",l.currentPage),m("pageSize",l.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",l.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500)}}function wM(a,r){a&1&&(o(0,"div",32),s(1,` Loading...
`),n())}var B0=(()=>{let r=class r{constructor(t,i,e,c){this.biltiProcessService=t,this.toastr=i,this.commonTransaction=e,this.modalService=c,this.isFilters=!0,this.fromDate=null,this.locationIds=[],this.biltiBillProcess=[],this.filteredBiltibillList=[],this.loadSpinner=!1,this.toDate=(0,Ua.default)().format("YYYY-MM-DD"),this.currentPage=1,this.count=10,this.totalBiltis=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.userName=""}ngOnInit(){let t=localStorage.getItem("logindata");if(t){let i=JSON.parse(t)}this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={screenCode:304,fromDate:e?.fromDate||null,toDate:e?.toDate||null,adviceType:"",batchNumber:e?.batchNumber,biltiNumber:"",locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id)};this.biltiProcessService.getBiltiBillProcess(c,t,i).subscribe(p=>{p.biltiBillProcess.forEach(h=>{h.creationDate=Ua.default.utc(h.creationDate).local().format("YYYY-MM-DD"),h.biltiBillProcessModel&&(h.biltiBillProcessModel.biltiBillProcessDate=Ua.default.utc(h.biltiBillProcessModel.biltiBillProcessDate).local().format("YYYY-MM-DD"))}),this.biltiBillProcess=p.biltiBillProcess,this.totalBiltis=p.paging.total,this.filters=p.filters,this.loadSpinner=!1,this.filteredBiltibillList=[...new Set(p.biltiBillProcess.map(h=>h?.biltiBillProcessModel?.batchNumber))].map(h=>p.biltiBillProcess.find(w=>w.biltiBillProcessModel.batchNumber===h))},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.batchNumber=t.batchNumber,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}openPopover(t){t.open()}closePopover(t){t.close()}updateStatus(t,i,e){if(this.loadSpinner=!0,t==="Rejected"&&!i.trim()){this.toastr.error("Remarks are required for rejection"),this.loadSpinner=!1;return}let c={approvalLevel:"Material",status:t,remarks:i,actionBy:localStorage.getItem("userId"),transactionCode:203,actionByName:this.userName};this.commonTransaction.updateBiltiApprovalStatus(this.biltiBillProcess[0]?.locationId,this.batchNumber,c).subscribe(p=>{this.toastr.success("Status Updated Successfully"),this.loadSpinner=!1,e&&e.close(),this.getAllBiltiProcess()},p=>{this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onPreviewPdf(){let t=this.modalService.open(Hn,{size:"xl",backdrop:"static",windowClass:"modal-width"});t.componentInstance.title="Approval",t.componentInstance.biltiData=this.biltiBillProcess,t.result.then(i=>{},i=>{})}};r.\u0275fac=function(i){return new(i||r)(D(St),D(Z),D(yi),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-approval-material-head"]],viewQuery:function(i,e){if(i&1&&Le(Hn,5),i&2){let c;we(c=Ie())&&(e.approvalPdfComponent=c.first)}},decls:8,vars:7,consts:[["approvePopover","ngbPopover"],["rejectPopover","ngbPopover"],["approvePopContent",""],["rejectPopContent",""],["popTitle",""],["approveRemarks",""],["rejectRemarks",""],[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","filters"],["class","filter-section d-flex justify-content-end",3,"ngClass",4,"ngIf"],["class","content-section",3,"ngClass",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"filter-section","d-flex","justify-content-end",3,"ngClass"],[1,"action-buttons","me-2"],[1,"custom-button-regulr",3,"click"],["type","button","triggers","manual","placement","left",1,"custom-button-secondary-small","me-2",3,"click","ngbPopover","popoverTitle","autoClose"],["type","button","triggers","manual","placement","left",1,"custom-button-regulr-small",3,"click","ngbPopover","popoverTitle","autoClose"],["approveRemarks","ngbPopover"],["rejectRemarks","ngbPopover"],[1,"custom-form-input"],["name","","id","","rows","3","maxlength","150",1,"input-field"],[1,"custom-button-secondary",3,"click"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"refreshList","biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",7)(1,"h1"),s(2,"Approval by Material's Head"),n()(),o(3,"div",8)(4,"app-approval-material-head-filter",9),g("filterSearchObj",function(p){return e.filteredData(p)}),n()(),v(5,EM,16,9,"div",10)(6,TM,19,16,"div",11)(7,wM,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(5,L0,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngIf",(e.searchedData==null?null:e.searchedData.batchNumber)&&(e.biltiBillProcess==null?null:e.biltiBillProcess.length)>0&&!e.loadSpinner||(e.searchedData==null?null:e.searchedData.toDate)&&(e.biltiBillProcess==null?null:e.biltiBillProcess.length)>0),d(),m("ngIf",(e.searchedData==null?null:e.searchedData.batchNumber)&&!e.loadSpinner),d(),m("ngIf",e.loadSpinner))},dependencies:[ae,z,ii,me,ue,pe,U,Y,Ne,A0,O0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 252px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 312px)}"]});let a=r;return a})();var bd=Si(Tn());var Ha=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t}changeBitltiStatus(t){return this.baseService.post(j.basePath+Mp(this.locationIds),t)}getNocPdf(t){return this.get(kp(this.locationIds,t))}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function IM(a,r){a&1&&(o(0,"div",16),s(1," Loading... "),n())}var R0=(()=>{let r=class r{constructor(t,i,e){this.activeModal=t,this.toastr=i,this.changeBiltiStatusService=e,this.nocFileBase64="",this.remarks="",this.nocFileName="",this.loadSpinner=!1}ngOnInit(){}onUploadNoc(t){let i=t.target.files[0];this.nocFileName=i.name;let e=new FileReader;e.readAsDataURL(i),e.onload=()=>{let c=e.result;this.nocFileBase64=c,this.toastr.success("NOC selected successfully","Success")}}onSubmit(){this.loadSpinner=!0;let t={id:0,actionBy:localStorage.getItem("userId"),status:"Active",biltiCreationId:this.biltiData?.id,nocFileName:this.nocFileName,nocFileData:this.nocFileBase64||"",remarks:this.remarks};this.changeBiltiStatusService.changeBitltiStatus(t).subscribe(i=>{this.activeModal.close("save"),this.toastr.success("Bilti Status Updated Succesfully","Success"),this.loadSpinner=!1},i=>{this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(ut),D(Z),D(Ha))},r.\u0275cmp=k({type:r,selectors:[["app-change-bilti-status"]],inputs:{biltiData:"biltiData"},decls:27,vars:4,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"float-right",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"ngmodal-body"],[1,"row"],[1,"col-lg-12","col-md-12"],[1,"custom-form-input"],["for",""],["type","text","disabled","","name","biltiNumber",1,"input-field",3,"ngModelChange","ngModel"],["name","","id","","cols","10","rows","3","placeholder","Enter Remarks","name","remarks","maxlength","150",3,"ngModelChange","ngModel"],["for","debitNoteUpload",1,"custom-file-upload","custom-button-regulr","mt-2","pointer","text-center"],["type","file","accept",".pdf","id","debitNoteUpload",3,"change"],[1,"ngmodal-footer","text-center","mt-5"],[1,"custom-button-regulr",3,"click","disabled"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," Change Bilti Status "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n()()(),o(6,"form")(7,"div",4)(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),s(12,"Bilti Number"),n(),o(13,"input",9),P("ngModelChange",function(p){return M(e.biltiData.biltiNumber,p)||(e.biltiData.biltiNumber=p),p}),n()()()(),o(14,"div",5)(15,"div",6)(16,"div",7)(17,"label",8),s(18,"Remarks"),n(),o(19,"textarea",10),P("ngModelChange",function(p){return M(e.remarks,p)||(e.remarks=p),p}),n()()()(),o(20,"label",11),s(21,"Upload NOC"),n(),o(22,"input",12),g("change",function(p){return e.onUploadNoc(p)}),n()(),o(23,"div",13)(24,"button",14),g("click",function(){return e.onSubmit()}),s(25,"Save"),n()()()(),v(26,IM,2,0,"div",15)),i&2&&(d(13),F("ngModel",e.biltiData.biltiNumber),d(6),F("ngModel",e.remarks),d(5),m("disabled",!e.nocFileBase64),d(2),m("ngIf",e.loadSpinner))},dependencies:[z,Ze,Ae,U,Qe,Ht,Y,ga],styles:["input[type=file][_ngcontent-%COMP%]{display:none}"]});let a=r;return a})();function NM(a,r){if(a&1&&(o(0,"div",12)(1,"div",13)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",13)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",13)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",13)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function FM(a,r){if(a&1){let l=O();o(0,"tbody")(1,"tr")(2,"td",4)(3,"span",5)(4,"u"),s(5),n()(),v(6,NM,23,10,"ng-template",null,0,te),n(),o(8,"td"),s(9),K(10,"date"),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"div",6)(22,"button",7),g("click",function(){let i=b(l).$implicit,e=S();return y(e.openPDF(i.id))}),o(23,"div",8),E(24,"img",9),n()()(),o(25,"td"),s(26),n(),o(27,"td")(28,"button",10),g("click",function(){let i=b(l).$implicit,e=S();return y(e.changeBiltiStatus(i))}),E(29,"img",11),n()()()()}if(a&2){let l=r.$implicit,t=R(7);d(3),m("ngbTooltip",t),d(2),_(l==null?null:l.biltiNumber),d(4),_(ee(10,11,l==null?null:l.creationDate,"yyyy-MM-dd")),d(3),_(l==null?null:l.frlrNumber),d(2),_(l==null||l.transporterModel==null?null:l.transporterModel.transporterName),d(2),_(l==null||l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l==null||l.freights==null?null:l.freights.freightAmount),d(2),_(l==null?null:l.status),d(2),m("disabled",(l==null?null:l.status)!=="Removed Successfully"),d(4),_((l==null||l.biltiBillChangeStatusDetails==null?null:l.biltiBillChangeStatusDetails.remarks)||"-"),d(2),m("disabled",(l==null?null:l.status)=="Removed Successfully")}}var j0=(()=>{let r=class r{constructor(t,i){this.modalService=t,this.changeBiltiStatusService=i,this.biltiBillProcessList=[],this.loadSpinner=!0,this.biltiBillProcess=[],this.refreshList=new W}ngOnInit(){}changeBiltiStatus(t){let i=this.modalService.open(R0,{size:"md",backdrop:"static"});i.componentInstance.biltiData=t,i.result.then(e=>{e=="save"&&this.refreshList.emit()},e=>{})}openPDF(t){this.changeBiltiStatusService.getNocPdf(t).subscribe(i=>{let e=i.nocFileData,c=this.base64ToBlob(e,"application/pdf"),p=URL.createObjectURL(c);window.open(p,"_blank")})}base64ToBlob(t,i){let e=atob(t),c=[];for(let p=0;p<e.length;p+=512){let h=e.slice(p,p+512),w=new Array(h.length);for(let L=0;L<h.length;L++)w[L]=h.charCodeAt(L);let N=new Uint8Array(w);c.push(N)}return new Blob(c,{type:i})}};r.\u0275fac=function(i){return new(i||r)(D(qe),D(Ha))},r.\u0275cmp=k({type:r,selectors:[["app-change-bilti-status-grid-table"]],inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{refreshList:"refreshList"},decls:27,vars:1,consts:[["tipContent",""],[1,"custom-table"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,"d-flex","justify-content-center"],["ngbTooltip","Bilti Link","placement","top",1,"icon-button","mt-2",3,"click","disabled"],[1,"img-container"],["src","assets/images/icons/link.svg","alt","link",1,"me-2","pointer"],["ngbTooltip","Change Status","placement","top",1,"icon-button",3,"click","disabled"],["src","assets/images/icons/editPencil.svg","alt","edit"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Bilti Number"),n(),o(6,"th"),s(7,"Bilti Date"),n(),o(8,"th"),s(9,"Batch Number"),n(),o(10,"th"),s(11,"FRLR#"),n(),o(12,"th"),s(13,"Transporter Name"),n(),o(14,"th"),s(15,"Vehile Number"),n(),o(16,"th"),s(17,"Freight Amount"),n(),o(18,"th"),s(19,"Status"),n(),o(20,"th",2),s(21,"Attachment"),n(),o(22,"th"),s(23,"Remarks"),n(),o(24,"th"),s(25,"Action"),n()()(),v(26,FM,30,14,"tbody",3),n()()),i&2&&(d(26),m("ngForOf",e.biltiBillProcess))},dependencies:[$,be,Se]});let a=r;return a})();function PM(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function kM(a,r){if(a&1){let l=O();o(0,"div",20)(1,"div",21)(2,"label",7),s(3,"Location Code"),n(),o(4,"ng-select",22),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(5,PM,2,2,"ng-option",14),n()()()}if(a&2){let l=S();d(4),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function AM(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function OM(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function LM(a,r){if(a&1&&(o(0,"ng-option",23),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var G0=(()=>{let r=class r{constructor(t){this.lookupService=t,this.batchName=void 0,this.biltiNumber=void 0,this.batchNames=[],this.today=ne(ht).getToday(),this.loadSpinner=!0,this.batchNumber=void 0,this.status=void 0,this.filters=[],this.commonLocations=[],this.locationIds=j.commonLocationsList.map(i=>i.id),this.locations=j.commonLocationsList,this.filterSearchObj=new W,this.locationsData=new W}ngOnInit(){}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;t==="fromDate"?this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString():this.selectedToDate=i.year+"-"+e.toString()+"-"+c.toString()}handleSearch(){let t={biltiNumber:this.biltiNumber||"",batchNumber:this.batchNumber||"",fromDate:this.selectedFromDate,toDate:this.selectedToDate,locationIds:this.locationIds,status:this.status};this.filterSearchObj.emit(t)}onClearFilter(){this.batchNumber=void 0,this.fromDate=null,this.toDate=null,this.biltiNumber=void 0,this.selectedFromDate=null,this.selectedToDate=null,this.status=void 0,this.locationIds=this.locationIds;let t={batchNumber:"",biltiNumber:"",locationIds:this.locationIds,status:""};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-change-bilti-status-filter"]],inputs:{filters:"filters"},outputs:{filterSearchObj:"filterSearchObj",locationsData:"locationsData"},decls:51,vars:15,consts:[["fromDt","ngbDatepicker"],["toDt","ngbDatepicker"],[1,"filters-box"],[1,"row"],["class","col-lg-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["placeholder","yyyy-mm-dd","name","toDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Bilti Number",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"col-lg-4"],[1,""],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3),v(2,kM,6,4,"div",4),o(3,"div",5)(4,"div",6)(5,"label",7),s(6,"From Date"),n(),o(7,"div",8)(8,"input",9,0),P("ngModelChange",function(h){return b(c),M(e.fromDate,h)||(e.fromDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("fromDate",h))}),n(),o(10,"button",10),g("click",function(){b(c);let h=R(9);return y(h.toggle())}),E(11,"img",11),n()()()(),o(12,"div",5)(13,"div",6)(14,"label",7),s(15,"To Date"),n(),o(16,"div",8)(17,"input",12,1),P("ngModelChange",function(h){return b(c),M(e.toDate,h)||(e.toDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("toDate",h))}),n(),o(19,"button",10),g("click",function(){b(c);let h=R(18);return y(h.toggle())}),E(20,"img",11),n()()()(),o(21,"div",5)(22,"div",6)(23,"label",7),s(24,"Batch Number"),n(),o(25,"ng-select",13),P("ngModelChange",function(h){return b(c),M(e.batchNumber,h)||(e.batchNumber=h),y(h)}),v(26,AM,2,2,"ng-option",14),n()()(),o(27,"div",5)(28,"div",6)(29,"label"),s(30,"Bilti Number"),n(),o(31,"ng-select",15),P("ngModelChange",function(h){return b(c),M(e.biltiNumber,h)||(e.biltiNumber=h),y(h)}),v(32,OM,2,2,"ng-option",14),n()()(),o(33,"div",5)(34,"div",6)(35,"label"),s(36,"Status"),n(),o(37,"ng-select",16),P("ngModelChange",function(h){return b(c),M(e.status,h)||(e.status=h),y(h)}),v(38,LM,2,2,"ng-option",14),n()()(),o(39,"div",17)(40,"div",6)(41,"label",18),s(42,"\xA0"),n(),o(43,"button",19),g("click",function(){return b(c),y(e.handleSearch())}),s(44," Search "),n()()(),o(45,"div",17)(46,"div",6)(47,"label",18),s(48,"\xA0"),n(),o(49,"button",19),g("click",function(){return b(c),y(e.onClearFilter())}),s(50," Clear "),n()()()()()}i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(6),m("autoClose",!0),F("ngModel",e.fromDate),m("maxDate",e.today),d(9),m("autoClose",!0),F("ngModel",e.toDate),m("maxDate",e.today),d(8),F("ngModel",e.batchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BatchNumber),d(5),F("ngModel",e.biltiNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BiltiNumber),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",e.locationIds.length==0&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.status),d(6),m("disabled",e.locationIds.length&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.status))},dependencies:[$,z,le,se,Ae,U,Y,Tt]});let a=r;return a})();var VM=a=>({"d-none":a}),RM=a=>({isFilters:a});function jM(a,r){a&1&&(o(0,"div",13),s(1," Loading... "),n())}var W0=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.modalService=i,this.toastr=e,this.biltiProcessService=c,this.isFilters=!0,this.fromDate=null,this.locationIds=[],this.biltiBillProcess=[],this.filteredBiltibillList=[],this.loadSpinner=!1,this.toDate=new Date().getFullYear()+"-"+("0"+(new Date().getMonth()+1)).slice(-2)+"-"+("0"+(new Date().getDate()+1)).slice(-2),this.currentPage=1,this.count=10,this.totalBiltis=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.locations=[]}ngOnInit(){this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={screenCode:306,fromDate:e?.fromDate||null,toDate:e?.toDate||null,adviceType:"",batchNumber:e?.batchNumber||"",biltiNumber:e?.biltiNumber||"",status:e?.status,locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id)};this.biltiProcessService.getBiltiBillProcess(c,t,i).subscribe(p=>{this.loadSpinner=!1,p.biltiBillProcess.forEach(h=>{h.creationDate=bd.default.utc(h.creationDate).local().format("YYYY-MM-DD"),h.biltiBillProcessModel&&(h.biltiBillProcessModel.biltiBillProcessDate=bd.default.utc(h.biltiBillProcessModel.biltiBillProcessDate).local().format("YYYY-MM-DD"))}),this.biltiBillProcess=p.biltiBillProcess,this.totalBiltis=p.paging.total,this.filters=p.filters,this.filteredBiltibillList=[...new Set(p.biltiBillProcess.map(h=>h?.biltiBillProcessModel?.batchNumber))].map(h=>p?.biltiBillProcess.find(w=>w.biltiBillProcessModel?.batchNumber===h))},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe),D(Z),D(St))},r.\u0275cmp=k({type:r,selectors:[["app-change-bilti-status"]],decls:25,vars:21,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"refreshList","biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Change Bilti Status Listing"),n()(),o(3,"div",1)(4,"app-change-bilti-status-filter",2),g("filterSearchObj",function(p){return e.filteredData(p)}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-change-bilti-status-grid-table",6),g("refreshList",function(){return e.getAllBiltiProcess()}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,jM,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(17,VM,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",ge(19,RM,e.isFilters)),d(3),m("biltiBillProcess",e.biltiBillProcess),d(2),m("collectionSize",e.totalBiltis),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,j0,G0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}"]});let a=r;return a})();var GM=["table"],WM=(a,r)=>r.id;function UM(a,r){if(a&1&&(o(0,"div",9)(1,"div",10)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",10)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",10)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",10)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function HM(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",6)(2,"span",7)(3,"u"),s(4),n()(),v(5,UM,23,10,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td",5)(16,"img",8),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onGoToEditLookup(i))}),n()()()}if(a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l==null?null:l.lookUpType.type),d(4),_(l.code),d(2),_(l.value),d(2),_(l.description),d(2),_(l.status)}}function zM(a,r){a&1&&(o(0,"tr")(1,"td",11),s(2,"No MasterData Found"),n()())}var U0=(()=>{let r=class r{constructor(t){this.router=t,this.exportHeader=new W,this.lookupsList=[],this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.lookupsList&&this.emitHeaders()}onGoToEditLookup(t){this.router.navigate(["master/addEditLookup",t.id])}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.lookupsList)}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-lookup-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(GM,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{lookupsList:"lookupsList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:21,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"text-center"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/editPencil.svg","alt","edit",1,"pointer",3,"click"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"table",3,0)(3,"thead")(4,"tr")(5,"th",4),g("click",function(){return b(c),y(e.sortData("lookUpType.type"))}),s(6,"Type"),n(),o(7,"th",4),g("click",function(){return b(c),y(e.sortData("code"))}),s(8,"Code"),n(),o(9,"th",4),g("click",function(){return b(c),y(e.sortData("value"))}),s(10,"Value"),n(),o(11,"th",4),g("click",function(){return b(c),y(e.sortData("description"))}),s(12,"Description"),n(),o(13,"th",4),g("click",function(){return b(c),y(e.sortData("status"))}),s(14,"Status"),n(),o(15,"th",5),s(16,"Action"),n()()(),o(17,"tbody"),We(18,HM,17,6,"tr",null,WM,!1,zM,3,0,"tr"),n()()()}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(17),Ue(e.lookupsList))},dependencies:[ae,be,Se]});let a=r;return a})();function YM(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function $M(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function QM(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function ZM(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var H0=(()=>{let r=class r{constructor(){this.filters=[],this.lookupCode=void 0,this.lookupType=void 0,this.status=void 0,this.value=void 0,this.getData=new W}ngOnInit(){}onLookupSearch(){let t={code:this.lookupCode||"",lookUpType:this.lookupType||"",status:this.status||"",value:this.value||""};this.getData.emit(t)}onClearFilter(){this.lookupCode=void 0,this.lookupType=void 0,this.status=void 0,this.value=void 0;let t={code:void 0,lookupType:void 0,status:void 0,value:void 0};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-lookup-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData"},decls:34,vars:9,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select lookup type",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select lookup code",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Value",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Master Type"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.lookupType,p)||(e.lookupType=p),p}),v(7,YM,2,2,"ng-option",6),n()()(),o(8,"div",2)(9,"div",3)(10,"label",4),s(11,"Master Code"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.lookupCode,p)||(e.lookupCode=p),p}),v(13,$M,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label",4),s(17,"Value"),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.value,p)||(e.value=p),p}),v(19,QM,2,2,"ng-option",6),n()()(),o(20,"div",2)(21,"div",3)(22,"label"),s(23,"Status"),n(),o(24,"ng-select",9),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(25,ZM,2,2,"ng-option",6),n()()(),o(26,"div",10)(27,"div",3)(28,"label",11),s(29,"\xA0"),n(),o(30,"button",12),g("click",function(){return e.onLookupSearch()}),s(31,"Search"),n(),o(32,"button",13),g("click",function(){return e.onClearFilter()}),s(33,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.lookupType),d(),m("ngForOf",e.filters==null?null:e.filters.LookUpType),d(5),F("ngModel",e.lookupCode),d(),m("ngForOf",e.filters==null?null:e.filters.Code),d(5),F("ngModel",e.value),d(),m("ngForOf",e.filters==null?null:e.filters.Value),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",!e.lookupCode&&!e.lookupType&&!e.status&&!e.value))},dependencies:[$,le,se,U,Y]});let a=r;return a})();var JM=(a,r)=>({isFilters:a,fullScreen:r});function XM(a,r){a&1&&s(0," Full Screen ")}function eP(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function tP(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var z0=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.lookupService=i,this.toastr=e,this.xlsxService=c,this.isFilters=!0,this.lookupsList=[],this.fullScreen=!1,this.loadSpinner=!0,this.headers=[],this.currentPage=1,this.count=10,this.totalLookups=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getAllLookupsList()}getAllLookupsList(t=0,i=this.count,e=this.appliedFilters){let c={code:e?.code||"",lookUpType:e?.lookUpType||"",value:e?.value,status:e?.status||""};this.lookupService.getLookupsType(c,t,i).subscribe(p=>{this.lookupsList=p.lookUps,console.log(this.lookupsList),this.totalLookups=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getAllLookupsList(0,this.count,this.appliedFilters)}onCreateLookup(){this.router.navigate(["master/addEditLookup","0"])}onExportHeader(t){this.headers=t}exportData(t="Lookup"){let i={code:this.appliedFilters?.code||"",lookUpType:this.appliedFilters?.lookUpType||"",value:"",status:this.appliedFilters?.status||""};this.lookupService.getLookups(i,0,this.totalLookups).subscribe(e=>{let p=e.lookUps.map(h=>({lookUpType:h.lookUpType?.value,code:h.code,value:h.value,description:h.description,attribute1:h.attribute1,attribute2:h.attribute2,attribute3:h.attribute3,attribute4:h.attribute4,status:h.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllLookupsList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllLookupsList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(ye),D(Z),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-lookup"]],decls:36,vars:21,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","lookupsList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"MasterData"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateLookup())}),s(8,"Create MasterData"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,XM,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-lookup-filter",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,eP,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-lookup-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,tP,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(4),m("filters",e.filters),d(),m("ngClass",$e(18,JM,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("lookupsList",e.lookupsList),d(2),m("collectionSize",e.totalLookups),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,U0,H0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();function iP(a,r){a&1&&(o(0,"span",13),s(1,"*"),n())}function nP(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.type)}}function oP(a,r){if(a&1){let l=O();o(0,"ng-select",22),g("click",function(i){b(l);let e=S();return y(e.selecetLookupType(i))}),v(1,nP,2,2,"ng-option",23),n()}if(a&2){let l=S();m("readonly",!0),d(),m("ngForOf",l.lookupTypes)}}function rP(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.type)}}function aP(a,r){if(a&1){let l=O();o(0,"ng-select",25),g("click",function(i){b(l);let e=S();return y(e.selecetLookupType(i))}),v(1,rP,2,2,"ng-option",23),n()}if(a&2){let l=S();d(),m("ngForOf",l.lookupTypes)}}function lP(a,r){a&1&&E(0,"input",26)}function sP(a,r){a&1&&E(0,"input",27)}function dP(a,r){a&1&&(o(0,"div",7)(1,"div",8)(2,"label",9),s(3,"Status "),o(4,"span",13),s(5,"*"),n()(),o(6,"select",28)(7,"option",29),s(8,"Active"),n(),o(9,"option",30),s(10,"Inactive"),n()()()())}function cP(a,r){a&1&&(o(0,"div",31)(1,"h4",32),s(2,"Filled Details"),n()())}function pP(a,r){if(a&1&&(o(0,"div",33)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Type"),n(),o(6,"th"),s(7,"Code"),n(),o(8,"th"),s(9,"Value"),n(),o(10,"th"),s(11,"Description"),n(),o(12,"th"),s(13,"Status"),n()()(),o(14,"tbody")(15,"tr")(16,"td"),s(17),n(),o(18,"td"),s(19),n(),o(20,"td"),s(21),n(),o(22,"td"),s(23),n(),o(24,"td"),s(25),n()()()()()),a&2){let l=S();d(17),_(l.filledDetails==null?null:l.filledDetails.typeId),d(2),_(l.filledDetails==null?null:l.filledDetails.code),d(2),_(l.filledDetails==null?null:l.filledDetails.value),d(2),_(l.filledDetails==null?null:l.filledDetails.description),d(2),_(l.filledDetails==null?null:l.filledDetails.status)}}function mP(a,r){a&1&&(o(0,"div",34),s(1," Loading... "),n())}var q0=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.lookupService=i,this.toastr=e,this.formBuilder=c,this.activatedRoute=p,this.lookupId=0,this.loadSpinner=!0,this.showFilledDetails=!1,this.lookupForm=this.formBuilder.group({typeId:["",A.required],code:["",A.required],value:["",A.required],description:["",A.required],status:["Active",A.required]})}ngOnInit(){this.lookupId=Number(this.activatedRoute.snapshot.paramMap.get("lookupId")),console.log(this.lookupId),this.lookupId=this.lookupId==0?0:this.lookupId,this.lookupId!=0?this.getLookupData(this.lookupId):this.getLookupTypes()}getLookupTypes(){let t={type:""};this.lookupService.getLookupTypeDrop(t).subscribe(i=>{this.lookupId==0&&(this.lookupTypes=i.lookUpTypes,console.log("uday")),this.loadSpinner=!1},i=>{this.toastr.error(i.statusText,i.status),this.loadSpinner=!1})}getLookupData(t){this.lookupService.getLookupDatas(t).subscribe(i=>{this.selectedLookupType=i?.lookUpType?.type,this.lookupForm.patchValue({typeId:i.typeId,code:i.code,value:i.value,description:i.description,status:i.status}),this.lookupTypes=[i.lookUpType],this.selectedLookupType=i?.lookUpType?.value,this.loadSpinner=!1},i=>{this.loadSpinner=!1})}onPressSubmit(){this.loadSpinner=!0;let t={typeId:Number(this.lookupForm.controls.typeId.value),code:this.lookupForm.controls.code.value,value:this.lookupForm.controls.value.value,description:this.lookupForm.controls.description.value,status:this.lookupForm.controls.status.value,actionBy:""};this.lookupId>0?this.updateLookup(t):this.createNewLookup(t)}updateLookup(t){this.lookupService.updateLookup(this.lookupId,t).subscribe(i=>{this.lookupData=i,this.loadSpinner=!1,this.toastr.success("Lookup Updated Successfully"),this.router.navigate(["/master/lookup"])},i=>{this.loadSpinner=!1})}createNewLookup(t){this.lookupService.createLookup(t).subscribe(i=>{this.lookupData=i,this.loadSpinner=!1,this.toastr.success("Lookup Created Successfully"),this.router.navigate(["/master/lookup"])},i=>{this.loadSpinner=!1})}onSaveButtonClick(){this.updateFilledDetails(),this.showFilledDetails=!0}updateFilledDetails(){let t=this.lookupForm.controls.typeId.value,i=this.lookupTypes.find(e=>e.id===t);this.filledDetails={typeId:i?i.type:"",code:this.lookupForm.controls.code.value,value:this.lookupForm.controls.value.value,description:this.lookupForm.controls.description.value,status:this.lookupForm.controls.status.value}}onCancelPress(){this.router.navigate(["/master/lookup"])}selecetLookupType(t){this.selectedLookupType=t?.target?.innerText}};r.\u0275fac=function(i){return new(i||r)(D(X),D(ye),D(Z),D(mt),D(et))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-lookup"]],decls:44,vars:12,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-form-input"],["for",""],["class","text-danger",4,"ngIf"],["class","input-field","formControlName","typeId",3,"readonly","click",4,"ngIf"],["class","input-field","formControlName","typeId",3,"click",4,"ngIf"],[1,"text-danger"],["type","text","class","input-field","formControlName","code","readonly","",4,"ngIf"],["type","text","class","input-field","formControlName","code",4,"ngIf"],["type","text","formControlName","value",1,"input-field"],["type","text","formControlName","description","maxlength","100",1,"input-field"],["class","col-lg-3 col-md-3",4,"ngIf"],["class","edit-screen-subTable",4,"ngIf"],["class","custom-table",4,"ngIf"],["class","spinner",4,"ngIf"],["formControlName","typeId",1,"input-field",3,"click","readonly"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["formControlName","typeId",1,"input-field",3,"click"],["type","text","formControlName","code","readonly","",1,"input-field"],["type","text","formControlName","code",1,"input-field"],["name","","id","","formControlName","status"],["value","Active"],["value","Inactive"],[1,"edit-screen-subTable"],[1,""],[1,"custom-table"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onPressSubmit()}),s(5,"Submit"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7,"Cancel"),n()()(),o(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),s(14,"Type "),v(15,iP,2,0,"span",10),n(),v(16,oP,2,2,"ng-select",11)(17,aP,2,1,"ng-select",12),n()(),o(18,"div",7)(19,"div",8)(20,"label",9),s(21,"Code "),o(22,"span",13),s(23,"*"),n()(),v(24,lP,1,0,"input",14)(25,sP,1,0,"input",15),n()(),o(26,"div",7)(27,"div",8)(28,"label",9),s(29,"Value "),o(30,"span",13),s(31,"*"),n()(),E(32,"input",16),n()(),o(33,"div",7)(34,"div",8)(35,"label",9),s(36,"Description "),o(37,"span",13),s(38,"*"),n()(),E(39,"input",17),n()(),v(40,dP,11,0,"div",18),n()(),v(41,cP,3,0,"div",19)(42,pP,26,5,"div",20),n(),v(43,mP,2,0,"div",21)),i&2&&(d(2),Ce("",e.lookupId>0?"Edit":"Create"," Master Data"),d(2),m("disabled",!e.lookupForm.valid),d(5),m("formGroup",e.lookupForm),d(6),m("ngIf",e.lookupId==0),d(),m("ngIf",e.lookupId>0),d(),m("ngIf",e.lookupId==0),d(7),m("ngIf",e.lookupId>0),d(),m("ngIf",e.lookupId==0),d(15),m("ngIf",e.lookupId>0),d(),m("ngIf",e.showFilledDetails),d(),m("ngIf",e.showFilledDetails),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,Ht,nt,ot],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}"]});let a=r;return a})();var Y0=(()=>{let r=class r{constructor(){this.userData=localStorage.getItem("logindata"),this.userName="",this.isFilters=!1}ngOnInit(){}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-master"]],decls:8,vars:0,consts:[[1,"welcome-intro"],["src","assets/images/icons/hello.png","alt","","width","40px"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Hey "),E(3,"img",1),n(),o(4,"h2"),s(5,"Welcome Ennoble IP"),n(),o(6,"p"),s(7,"Please select any Master or Transaction from Sidebar to continue"),n()())},styles:[".welcome-intro[_ngcontent-%COMP%]{width:500px;margin:150px auto 0;text-align:center}.welcome-intro[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:27px;font-weight:600;color:#738193}.welcome-intro[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:27px;font-weight:600;margin-top:15px;margin-bottom:15px;color:#4e4e4e}.welcome-intro[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:17px;line-height:24px;color:var(--gray1)}"]});let a=r;return a})();var za=Si(Tn());var uP=["batchNameInput"];function hP(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),_(l.value)}}function gP(a,r){if(a&1){let l=O();o(0,"div",22)(1,"label",7),s(2,"Location Code"),n(),o(3,"ng-select",23),P("ngModelChange",function(i){b(l);let e=S();return M(e.locationIds,i)||(e.locationIds=i),y(i)}),v(4,hP,2,2,"ng-option",14),n()()}if(a&2){let l=S();d(3),m("searchable",!0),F("ngModel",l.locationIds),m("multiple",!0),d(),m("ngForOf",l.locations)}}function fP(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function _P(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function vP(a,r){if(a&1&&(o(0,"ng-option",24),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var $0=(()=>{let r=class r{constructor(t,i){this.toastr=t,this.lookupService=i,this.selectedFromDate="",this.selectedToDate="",this.batchName=void 0,this.biltiNumber=void 0,this.batchNames=[],this.today=ne(ht).getToday(),this.loadSpinner=!0,this.batchNumber=void 0,this.status=void 0,this.exportData=new W,this.commonLocations=[],this.locationIds=j.commonLocationsList.map(e=>e.id),this.locations=j.commonLocationsList,this.locationsData=new W,this.filters=[],this.filterSearchObj=new W}ngOnInit(){}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;t==="fromDate"?this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString():this.selectedToDate=i.year+"-"+e.toString()+"-"+c.toString()}handleSearch(){let t={biltiNumber:this.biltiNumber||"",batchNumber:this.batchNumber||"",fromDate:this.selectedFromDate||"2000-01-01",toDate:this.selectedToDate||new Date().getFullYear()+"-"+("0"+(new Date().getMonth()+1)).slice(-2)+"-"+("0"+new Date().getDate()).slice(-2),locationIds:this.locationIds,status:this.status||""};this.filterSearchObj.emit(t)}onClearFilter(){this.batchNumber=void 0,this.fromDate=null,this.toDate=null,this.biltiNumber=void 0,this.locationIds=this.locationIds,this.status=void 0;let t={batchNumber:"",biltiNumber:"",locationIds:this.locationIds,status:""};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(Z),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-rejection-bilti-detail-report-filter"]],viewQuery:function(i,e){if(i&1&&Le(uP,5),i&2){let c;we(c=Ie())&&(e.batchNameInput=c.first)}},inputs:{filters:"filters"},outputs:{exportData:"exportData",locationsData:"locationsData",filterSearchObj:"filterSearchObj"},decls:57,vars:16,consts:[["fromDt","ngbDatepicker"],["toDt","ngbDatepicker"],[1,"filters-box"],[1,"row"],["class","col-4",4,"ngIf"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["placeholder","yyyy-mm-dd","name","toDt","ngbDatepicker","","readonly","",1,"form-control",3,"ngModelChange","dateSelect","autoClose","ngModel","maxDate"],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Bilti Number",1,"input-field",3,"ngModelChange","ngModel","disabled"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"col-lg-auto"],[1,"custom-button-export","excel-button",3,"click"],[1,"col-4"],["placeholder","Select location",3,"ngModelChange","searchable","ngModel","multiple"],[3,"value"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"div",3),v(2,gP,5,4,"div",4),o(3,"div",5)(4,"div",6)(5,"label",7),s(6,"From Date"),n(),o(7,"div",8)(8,"input",9,0),P("ngModelChange",function(h){return b(c),M(e.fromDate,h)||(e.fromDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("fromDate",h))}),n(),o(10,"button",10),g("click",function(){b(c);let h=R(9);return y(h.toggle())}),E(11,"img",11),n()()()(),o(12,"div",5)(13,"div",6)(14,"label",7),s(15,"To Date"),n(),o(16,"div",8)(17,"input",12,1),P("ngModelChange",function(h){return b(c),M(e.toDate,h)||(e.toDate=h),y(h)}),g("dateSelect",function(h){return b(c),y(e.onDateSelect("toDate",h))}),n(),o(19,"button",10),g("click",function(){b(c);let h=R(18);return y(h.toggle())}),E(20,"img",11),n()()()(),o(21,"div",5)(22,"div",6)(23,"label",7),s(24,"Batch Number"),n(),o(25,"ng-select",13),P("ngModelChange",function(h){return b(c),M(e.batchNumber,h)||(e.batchNumber=h),y(h)}),v(26,fP,2,2,"ng-option",14),n()()(),o(27,"div",5)(28,"div",6)(29,"label"),s(30,"Bilti Number"),n(),o(31,"ng-select",15),P("ngModelChange",function(h){return b(c),M(e.biltiNumber,h)||(e.biltiNumber=h),y(h)}),v(32,_P,2,2,"ng-option",14),n()()(),o(33,"div",5)(34,"div",6)(35,"label"),s(36,"Status"),n(),o(37,"ng-select",16),P("ngModelChange",function(h){return b(c),M(e.status,h)||(e.status=h),y(h)}),v(38,vP,2,2,"ng-option",14),n()()(),o(39,"div",17)(40,"div",6)(41,"label",18),s(42,"\xA0"),n(),o(43,"button",19),g("click",function(){return b(c),y(e.handleSearch())}),s(44," Search "),n()()(),o(45,"div",17)(46,"div",6)(47,"label",18),s(48,"\xA0"),n(),o(49,"button",19),g("click",function(){return b(c),y(e.onClearFilter())}),s(50," Clear "),n()()(),o(51,"div",20)(52,"div",6)(53,"label",18),s(54,"\xA0"),n(),o(55,"button",21),g("click",function(){return b(c),y(e.exportData.emit())}),s(56," Export "),n()()()()()}i&2&&(d(2),m("ngIf",e.locations&&e.locations.length>1),d(6),m("autoClose",!0),F("ngModel",e.fromDate),m("maxDate",e.today),d(9),m("autoClose",!0),F("ngModel",e.toDate),m("maxDate",e.today),d(8),F("ngModel",e.batchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BatchNumber),d(5),F("ngModel",e.biltiNumber),m("disabled",e.batchName),d(),m("ngForOf",e.filters==null?null:e.filters.BiltiNumber),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",e.locationIds.length==0&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.status),d(6),m("disabled",e.locationIds.length&&!e.batchNumber&&!e.fromDate&&!e.toDate&&!e.biltiNumber&&!e.status))},dependencies:[$,z,le,se,Ae,U,Y,Tt],styles:[".excel-button[_ngcontent-%COMP%]{height:30px}"]});let a=r;return a})();var yP=["table"];function CP(a,r){if(a&1&&(o(0,"div",7)(1,"div",8)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",8)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",8)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",8)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function SP(a,r){if(a&1){let l=O();o(0,"tr")(1,"td",4)(2,"span",5)(3,"u"),s(4),n()(),v(5,CP,23,10,"ng-template",null,1,te),n(),o(7,"td"),s(8),K(9,"date"),n(),o(10,"td"),s(11),n(),o(12,"td"),s(13),n(),o(14,"td"),s(15),n(),o(16,"td"),s(17),n(),o(18,"td"),s(19),n(),o(20,"td"),s(21),n(),o(22,"td"),s(23),n(),o(24,"td")(25,"img",6),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewBiltiDetails(i))}),n()(),o(26,"td"),s(27),n(),o(28,"td"),s(29),n()()}if(a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l==null?null:l.biltiNumber),d(4),_(ee(9,12,l==null?null:l.creationDate,"yyyy-MM-dd")),d(3),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.biltiBillProcessDate),d(2),_(l==null?null:l.frlrNumber),d(2),_(l==null||l.transporterModel==null?null:l.transporterModel.transporterName),d(2),_(l==null||l.vehicles==null?null:l.vehicles.vehicleNumber),d(2),_(l==null||l.freights==null?null:l.freights.freightAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.paidByAmount),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.debitAmount),d(4),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.status),d(2),_((l==null||l.biltiBillChangeStatusDetails==null?null:l.biltiBillChangeStatusDetails.remarks)||"-")}}var Q0=(()=>{let r=class r{constructor(t,i){this.router=t,this.modalService=i,this.biltiBillProcessList=[],this.loadSpinner=!0,this.biltiBillProcess=[],this.refreshList=new W,this.exportHeader=new W}onPreviewBiltiDetails(t){let i=this.modalService.open(Bi,{size:"xl",backdrop:"static"});i.componentInstance.biltiProcess=t,i.result.then(e=>{e==="save"&&(this.router.navigate(["transaction/biltiBillProcess"]),this.refreshList.emit())})}onEditBilti(){this.router.navigate(["transaction/addEditBilti"])}ngOnChanges(t){t.biltiBillProcess&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Bilti Details"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-rejection-bilti-detail-report-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(yP,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{refreshList:"refreshList",exportHeader:"exportHeader"},features:[Be],decls:31,vars:1,consts:[["table",""],["tipContent",""],[1,"custom-table"],[4,"ngFor","ngForOf"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],["src","assets/images/icons/link.svg","alt","link",1,"pointer",3,"click"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",2)(1,"table",null,0)(3,"thead")(4,"tr")(5,"th"),s(6,"Bilti#"),n(),o(7,"th"),s(8,"Bilti Date"),n(),o(9,"th"),s(10,"Bilti Bill Process Date"),n(),o(11,"th"),s(12,"FRLR#"),n(),o(13,"th"),s(14,"Transporter Name"),n(),o(15,"th"),s(16,"Vehicle Number"),n(),o(17,"th"),s(18,"Freight Amount"),n(),o(19,"th"),s(20,"Paid by Amount"),n(),o(21,"th"),s(22,"Debit Amount"),n(),o(23,"th"),s(24,"Bilti Details"),n(),o(25,"th"),s(26,"Status"),n(),o(27,"th"),s(28,"Remarks"),n()()(),o(29,"tbody"),v(30,SP,30,15,"tr",3),n()()()),i&2&&(d(30),m("ngForOf",e.biltiBillProcess))},dependencies:[$,be,Se]});let a=r;return a})();var DP=a=>({"d-none":a}),EP=a=>({isFilters:a});function TP(a,r){a&1&&(o(0,"div",13),s(1,` Loading...
`),n())}var Z0=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.biltiBIllProService=i,this.toastr=e,this.xlsxService=c,this.isFilters=!0,this.fromDate="2000-01-01",this.biltiBillProcess=[],this.filteredBiltibillList=[],this.loadSpinner=!1,this.locationIds=j.commonLocationsList.map(p=>p.id),this.toDate=(0,za.default)().format("YYYY-MM-DD"),this.currentPage=1,this.count=10,this.totalBiltiBills=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.headers=[],this.locations=[]}ngOnInit(){this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={screenCode:307,fromDate:e?.fromDate||null,toDate:e?.toDate||null,adviceType:e?.adviceType||"",batchNumber:e?.batchNumber||"",biltiNumber:e?.biltiNumber||"",locationIds:e?.locationIds||j.commonLocationsList.map(p=>p.id),status:e?.status};this.biltiBIllProService.getBiltiBillProcess(c,t,i).subscribe(p=>{this.loadSpinner=!1,p.biltiBillProcess.forEach(h=>{h.creationDate=za.default.utc(h.creationDate).local().format("YYYY-MM-DD"),h.biltiBillProcessModel&&(h.biltiBillProcessModel.biltiBillProcessDate=za.default.utc(h.biltiBillProcessModel.biltiBillProcessDate).local().format("YYYY-MM-DD"))}),this.biltiBillProcess=p.biltiBillProcess,this.totalBiltiBills=p.paging.total,this.filters=p.filters,this.filteredBiltibillList=[...new Set(p.biltiBillProcess.map(h=>h?.biltiBillProcessModel?.batchNumber))].map(h=>p.biltiBillProcess.find(w=>w.biltiBillProcessModel.batchNumber===h)),this.loadSpinner=!1},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.batchNumber=t.batchNumber,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onCreateBilti(){this.router.navigate(["transaction/biltiBillProcess"])}onExportHeader(t){this.headers=t}exportData(t="Rejection"){let i={fromDate:this.searchedData?.fromDate||null,toDate:this.searchedData?.toDate||null,batchNumber:this.searchedData?.batchNumber||"",biltiNumber:this.searchedData?.biltiNumber||"",status:this.searchedData?.status,screenCode:307,adviceType:this.searchedData?.adviceType||"",locationIds:this.searchedData?.locationIds||j.commonLocationsList.map(e=>e.id)};this.totalBiltiBills===0&&this.toastr.error("Can not export with 0 rows!"),this.biltiBIllProService.getBiltiBillProcess(i,0,this.totalBiltiBills).subscribe(e=>{let p=e.biltiBillProcess.map(h=>({biltiNumber:h?.biltiNumber,creationDate:h?.creationDate,biltiBillProcessDate:h?.biltiBillProcessModel?.biltiBillProcessDate,frlrNumber:h?.frlrNumber,transporterName:h?.transporterModel?.transporterName,vehicleNumber:h?.vehicles?.vehicleNumber,freightAmount:h?.freights?.freightAmount,paidByAmount:h?.biltiBillProcessModel?.paidByAmount,debitAmount:h?.biltiBillProcessModel?.debitAmount,status:h?.biltiBillProcessModel?.status,remarks:h?.biltiBillChangeStatusDetails?.remarks||"-"}));this.xlsxService.xlsxExport(p,this.headers,t)},e=>{})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(St),D(Z),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-rejection-bilti-detail-report"]],decls:25,vars:21,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","exportData","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Rejection Bilti Detail Report"),n()(),o(3,"div",1)(4,"app-rejection-bilti-detail-report-filter",2),g("filterSearchObj",function(p){return e.filteredData(p)})("exportData",function(){return e.exportData()}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-rejection-bilti-detail-report-grid-table",6),g("exportHeader",function(p){return e.onExportHeader(p)}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,TP,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(17,DP,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",ge(19,EP,e.isFilters)),d(3),m("biltiBillProcess",e.biltiBillProcess),d(2),m("collectionSize",e.totalBiltiBills),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,$0,Q0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 312px)}"]});let a=r;return a})();var zn=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getErrorLogging(t,i=0,e=this.maxCount){return this.post(Op(i,e),t)}getDebitNote(t,i=0,e=this.maxCount){return this.post(Lp(i,e),t)}getProvisionReport(t,i=0,e=this.maxCount){return this.post(Bp(i,e),t)}getOutboundData(t,i=0,e=this.maxCount){return this.post(Ap(i,e),t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var K0=(()=>{let r=class r{constructor(t){this.toastr=t,this.filters=[],this.getData=new W,this.exportData=new W,this.today=ne(ht).getToday(),this.messageSource=void 0,this.messageName=void 0,this.responseCode=void 0}handleSearch(){if(!this.fromDate||!this.toDate){this.toastr.error("Filter is Mandatory");return}this.getData.emit({fromDate:this.fromDate,toDate:this.toDate})}onClearFilter(){this.fromDate=null,this.toDate=null,this.getData.emit({fromDate:"",toDate:""})}};r.\u0275fac=function(i){return new(i||r)(D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-error-logging-report-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData",exportData:"exportData"},decls:25,vars:2,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["type","date","placeholder","yyyy-mm-dd","name","fromDate",1,"form-control",3,"ngModelChange","ngModel"],["type","date","placeholder","yyyy-mm-dd","name","toDate",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-lg-3"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click"],[1,"custom-button-filters","ms-4",3,"click"],[1,"custom-button-export","ms-3","specific-padding-export",3,"click"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"From Date"),n(),o(6,"div",5)(7,"input",6),P("ngModelChange",function(p){return M(e.fromDate,p)||(e.fromDate=p),p}),n()()()(),o(8,"div",2)(9,"div",3)(10,"label",4),s(11,"To Date"),n(),o(12,"div",5)(13,"input",7),P("ngModelChange",function(p){return M(e.toDate,p)||(e.toDate=p),p}),n()()()(),o(14,"div",8)(15,"div",3)(16,"label",9),s(17,"\xA0"),n(),o(18,"div",10)(19,"button",11),g("click",function(){return e.handleSearch()}),s(20,"Search"),n(),o(21,"button",12),g("click",function(){return e.onClearFilter()}),s(22,"Clear"),n(),o(23,"button",13),g("click",function(){return e.exportData.emit()}),s(24," Export "),n()()()()()()),i&2&&(d(7),F("ngModel",e.fromDate),d(6),F("ngModel",e.toDate))},dependencies:[Ae,U,Y]});let a=r;return a})();var IP=["table"];function NP(a,r){if(a&1&&(o(0,"div",6)(1,"div",7)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,1,l.creationDate,"yyyy-MM-dd"))}}function FP(a,r){if(a&1&&(o(0,"tr")(1,"td",4)(2,"span",5)(3,"u"),s(4),n()(),v(5,NP,7,4,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n()()),a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l.responseCode),d(4),_(l.messageSource),d(2),_(l.methodName),d(2),_(l.description),d(2),_(l.detailDescriptions)}}var J0=(()=>{let r=class r{constructor(){this.errorLoggings=[],this.exportHeader=new W}ngOnChanges(t){t.errorLoggings&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-error-logging-report-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(IP,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{errorLoggings:"errorLoggings"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:17,vars:1,consts:[["table",""],["tipContent",""],["id","exportableTable",1,"custom-table"],[4,"ngFor","ngForOf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",2)(1,"table",null,0)(3,"thead")(4,"tr")(5,"th"),s(6,"Response Code"),n(),o(7,"th"),s(8,"Message Source"),n(),o(9,"th"),s(10,"Method Name"),n(),o(11,"th"),s(12,"Description"),n(),o(13,"th"),s(14,"Detailed Description"),n()()(),o(15,"tbody"),v(16,FP,15,6,"tr",3),n()()()),i&2&&(d(16),m("ngForOf",e.errorLoggings))},dependencies:[$,be,Se],styles:[".custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{max-width:200px;word-wrap:break-word;white-space:normal;overflow-wrap:break-word}"]});let a=r;return a})();var PP=a=>({isFilters:a});function kP(a,r){a&1&&(o(0,"div",13),s(1,` Loading...
`),n())}var X0=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.reportService=i,this.exportService=e,this.xlsxService=c,this.toastr=p,this.errorLoggings=[],this.isFilters=!0,this.currentPage=1,this.count=10,this.totalReports=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.appliedFilters={},this.headers=[],this.loadSpinner=!0}ngOnInit(){this.getReports()}getReports(t=0,i=this.count,e=this.filters){let c={fromDate:e?.fromDate||null,toDate:e?.toDate||null};this.reportService.getErrorLogging(c,t,i).subscribe(p=>{this.errorLoggings=p.errorLoggings.map(h=>zi(di({},h),{detailDescriptions:h.detailDescriptions.join(",")})),this.totalReports=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.filters=t,this.appliedFilters=t,this.currentPage=1,this.getReports(0,this.count,this.filters)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getReports(i,this.count,this.filters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getReports(0,this.count,this.filters)}onExportHeader(t){this.headers=t}exportData(t="Error Loggings"){let i={fromDate:this.appliedFilters?.fromDate||null,toDate:this.appliedFilters?.toDate||null};this.totalReports===0&&this.toastr.error("Can not export with 0 rows!"),this.reportService.getErrorLogging(i,0,this.totalReports).subscribe(e=>{let p=e.errorLoggings.map(h=>({responseCode:h?.responseCode,messageSource:h?.messageSource,methodName:h?.methodName,description:h?.description,detailDescriptions:h?.detailDescriptions||[]}));this.xlsxService.xlsxExport(p,this.headers,t)},e=>{})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(zn),D(io),D(Je),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-error-logging-report"]],decls:25,vars:18,consts:[[1,"page-title"],[1,"filter-section"],[3,"getData","exportData","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","errorLoggings"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Error Logging Reports"),n()(),o(3,"div",1)(4,"app-error-logging-report-filter",2),g("getData",function(p){return e.getData(p)})("exportData",function(){return e.exportData()}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-error-logging-report-grid-table",6),g("exportHeader",function(p){return e.onExportHeader(p)}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,kP,2,0,"div",12)),i&2&&(d(4),m("filters",e.filters),d(),m("ngClass",ge(16,PP,e.isFilters)),d(3),m("errorLoggings",e.errorLoggings),d(2),m("collectionSize",e.totalReports),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,K0,J0],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var eh=(()=>{let r=class r{constructor(t){this.toastr=t,this.getData=new W,this.exportData=new W}handleSearch(){if(!this.fromDate||!this.toDate){this.toastr.error("Filter is Mandatory");return}this.getData.emit({fromDate:this.fromDate,toDate:this.toDate})}onClearFilter(){this.fromDate=null,this.toDate=null,this.getData.emit({fromDate:"",toDate:""})}};r.\u0275fac=function(i){return new(i||r)(D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-provision-report-filter"]],outputs:{getData:"getData",exportData:"exportData"},decls:29,vars:2,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],[1,"input-group","datepicker"],["type","date","placeholder","yyyy-mm-dd","name","fromDate",1,"form-control",3,"ngModelChange","ngModel"],["type","date","placeholder","yyyy-mm-dd","name","toDate",1,"form-control",3,"ngModelChange","ngModel"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click"],[1,"custom-button-filters","ms-4",3,"click"],[1,"col-lg-auto","ms-auto","d-flex","align-items-center"],[1,"custom-button-export","specific-padding-export",3,"click"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"From Date"),n(),o(6,"div",5)(7,"input",6),P("ngModelChange",function(p){return M(e.fromDate,p)||(e.fromDate=p),p}),n()()()(),o(8,"div",2)(9,"div",3)(10,"label",4),s(11,"To Date"),n(),o(12,"div",5)(13,"input",7),P("ngModelChange",function(p){return M(e.toDate,p)||(e.toDate=p),p}),n()()()(),o(14,"div",2)(15,"div",3)(16,"label",8),s(17,"\xA0"),n(),o(18,"div",9)(19,"button",10),g("click",function(){return e.handleSearch()}),s(20,"Search"),n(),o(21,"button",11),g("click",function(){return e.onClearFilter()}),s(22,"Clear"),n()()()(),o(23,"div",12)(24,"div",3)(25,"label",8),s(26,"\xA0"),n(),o(27,"button",13),g("click",function(){return e.exportData.emit()}),s(28," Export "),n()()()()()),i&2&&(d(7),F("ngModel",e.fromDate),d(6),F("ngModel",e.toDate))},dependencies:[Ae,U,Y]});let a=r;return a})();var OP=["table"];function LP(a,r){if(a&1&&(o(0,"div",6)(1,"div",7)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",7)(8,"span"),s(9,"Last Update Date"),n(),o(10,"span"),s(11),K(12,"date"),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,2,l.creationDate,"yyyy-MM-dd")),d(6),_(ee(12,5,l.lastUpdateOn,"yyyy-MM-dd"))}}function BP(a,r){if(a&1&&(o(0,"tr")(1,"td",4)(2,"span",5)(3,"u"),s(4),n()(),v(5,LP,13,8,"ng-template",null,1,te),n(),o(7,"td"),s(8),K(9,"date"),n(),o(10,"td"),s(11),n(),o(12,"td"),s(13),n(),o(14,"td"),s(15),n(),o(16,"td"),s(17),n(),o(18,"td"),s(19),K(20,"date"),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n()()),a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l.accountingType),d(4),_(ee(9,10,l.accountingDate,"yyyy-MM-dd")),d(3),_(l.branch),d(2),_(l.documentNo),d(2),_(l.invoiceCurrencyCode),d(2),_(l.invoiceNo),d(2),_(ee(20,13,l.invoiceDate,"yyyy-MM-dd")),d(3),_(l.sourceName),d(2),_(l.status)}}var th=(()=>{let r=class r{constructor(){this.provisionalReport=[],this.exportHeader=new W}ngOnChanges(t){t.provisionalReport&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-provision-report-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(OP,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{provisionalReport:"provisionalReport"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:25,vars:1,consts:[["table",""],["tipContent",""],["id","exportableTable",1,"custom-table"],[4,"ngFor","ngForOf"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,""],[1,"content-row"]],template:function(i,e){i&1&&(o(0,"div",2)(1,"table",null,0)(3,"thead")(4,"tr")(5,"th"),s(6,"Accounting Type"),n(),o(7,"th"),s(8,"Accounting Date"),n(),o(9,"th"),s(10,"Branch"),n(),o(11,"th"),s(12,"Document No"),n(),o(13,"th"),s(14,"Invoice Currency Code"),n(),o(15,"th"),s(16,"Invoice No"),n(),o(17,"th"),s(18,"Invoice Date"),n(),o(19,"th"),s(20,"Source Name"),n(),o(21,"th"),s(22,"Status"),n()()(),o(23,"tbody"),v(24,BP,25,16,"tr",3),n()()()),i&2&&(d(24),m("ngForOf",e.provisionalReport))},dependencies:[$,be,Se]});let a=r;return a})();var RP=a=>({isFilters:a});function jP(a,r){a&1&&(o(0,"div",13),s(1," Loading... "),n())}var ih=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.exportService=i,this.reportService=e,this.xlsxService=c,this.toastr=p,this.provisionalReport=[],this.isFilters=!0,this.currentPage=1,this.count=10,this.totalReports=0,this.filters=[],this.appliedFilters={},this.headers=[],this.loadSpinner=!0}ngOnInit(){this.getReports()}getReports(t=0,i=this.count,e=this.filters){let c={fromDate:e?.fromDate||null,toDate:e?.toDate||null};this.reportService.getProvisionReport(c,t,i).subscribe(p=>{this.provisionalReport=p.provisionalReport,this.totalReports=p.paging.total,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}onExportHeader(t){this.headers=t}exportData(t="Provision"){let i={fromDate:this.appliedFilters?.fromDate||null,toDate:this.appliedFilters?.toDate||null};this.totalReports===0&&this.toastr.error("Can not export with 0 rows!"),this.reportService.getProvisionReport(i,0,this.totalReports).subscribe(e=>{let p=e.provisionalReport.map(h=>({accountingType:h?.accountingType,accountingDate:h?.accountingDate,branch:h?.branch,documentNo:h?.documentNo,invoiceCurrencyCode:h?.invoiceCurrencyCode,invoiceNo:h?.invoiceNo,invoiceDate:h?.invoiceDate,sourceName:h?.sourceName,status:h?.status}));this.xlsxService.xlsxExport(p,this.headers,t)},e=>{})}getData(t){this.filters=t,this.appliedFilters=t,this.currentPage=1,this.getReports(0,this.count,this.filters)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getReports(i,this.count,this.filters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getReports(0,this.count,this.filters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(io),D(zn),D(Je),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-provision-report"]],decls:25,vars:17,consts:[[1,"page-title"],[1,"filter-section"],[3,"getData","exportData"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","provisionalReport"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Provisional Report"),n()(),o(3,"div",1)(4,"app-provision-report-filter",2),g("getData",function(p){return e.getData(p)})("exportData",function(){return e.exportData()}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-provision-report-grid-table",6),g("exportHeader",function(p){return e.onExportHeader(p)}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,jP,2,0,"div",12)),i&2&&(d(5),m("ngClass",ge(15,RP,e.isFilters)),d(3),m("provisionalReport",e.provisionalReport),d(2),m("collectionSize",e.totalReports),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,eh,th],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 253px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();function GP(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function WP(a,r){if(a&1){let l=O();o(0,"div",15),g("click",function(){b(l);let i=S();return y(i.onExportPDF())}),s(1,"View PDF"),n(),o(2,"div",15),g("click",function(){b(l);let i=S();return y(i.onExportExcel())}),s(3,"Export Excel"),n()}}var nh=(()=>{let r=class r{constructor(t){this.toastr=t,this.getData=new W,this.exportExcel=new W,this.exportPdf=new W,this.reportFilter=[]}handleSearch(){this.getData.emit({batchNumber:this.batchNumber})}onClearFilter(){this.batchNumber="",this.getData.emit({batchNumber:""})}onExportPDF(){this.exportPdf.emit()}onExportExcel(){this.exportExcel.emit()}};r.\u0275fac=function(i){return new(i||r)(D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-debit-note-report-filter"]],inputs:{reportFilter:"reportFilter"},outputs:{getData:"getData",exportExcel:"exportExcel",exportPdf:"exportPdf"},decls:25,vars:5,consts:[["popoverContent",""],[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["for","",1,"d-block"],[1,"d-flex"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-4",3,"click","disabled"],[1,"col-lg-auto","ms-auto","d-flex","align-items-center"],["popoverTitle","Export Options","placement","left",1,"custom-button-export","specific-padding-export",3,"ngbPopover"],[3,"value"],[1,"popover-options",3,"click"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"label",5),s(5,"Batch Number"),n(),o(6,"ng-select",6),P("ngModelChange",function(h){return b(c),M(e.batchNumber,h)||(e.batchNumber=h),y(h)}),v(7,GP,2,2,"ng-option",7),n()()(),o(8,"div",3)(9,"div",4)(10,"label",8),s(11,"\xA0"),n(),o(12,"div",9)(13,"button",10),g("click",function(){return b(c),y(e.handleSearch())}),s(14,"Search"),n(),o(15,"button",11),g("click",function(){return b(c),y(e.onClearFilter())}),s(16,"Clear"),n()()()(),o(17,"div",12)(18,"div",4)(19,"label",8),s(20,"\xA0"),n(),o(21,"button",13),s(22," Export "),n(),v(23,WP,4,0,"ng-template",null,0,te),n()()()()}if(i&2){let c=R(24);d(6),F("ngModel",e.batchNumber),d(),m("ngForOf",e.reportFilter),d(6),m("disabled",!e.batchNumber),d(2),m("disabled",!e.batchNumber),d(6),m("ngbPopover",c)}},dependencies:[$,ii,le,se,U,Y],styles:[".popover-options[_ngcontent-%COMP%]{cursor:pointer;padding:8px;border-bottom:1px solid #ddd;font-size:var(--spacer-14);font-weight:600}.popover-options[_ngcontent-%COMP%]:hover{background-color:#f1f1f1}"]});let a=r;return a})();var HP=["table"];function zP(a,r){if(a&1&&(o(0,"th",4),s(1),n()),a&2){let l=r.$implicit;m("hidden",!l.visible),d(),_(l.header)}}function qP(a,r){if(a&1&&(o(0,"td",4),s(1),n()),a&2){let l=r.$implicit,t=S().$implicit;m("hidden",!l.visible),d(),_(t[l.field])}}function YP(a,r){if(a&1&&(o(0,"tr"),v(1,qP,2,2,"td",2),n()),a&2){let l=S();d(),m("ngForOf",l.columns)}}var oh=(()=>{let r=class r{constructor(){this.billTiBillReport=[],this.columns=[],this.exportHeader=new W}ngOnChanges(t){t.billTiBillReport&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-debit-note-report-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(HP,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{billTiBillReport:"billTiBillReport",columns:"columns"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:8,vars:2,consts:[["table",""],["id","exportableTable",1,"custom-table"],[3,"hidden",4,"ngFor","ngForOf"],[4,"ngFor","ngForOf"],[3,"hidden"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table",null,0)(3,"thead")(4,"tr"),v(5,zP,2,2,"th",2),n()(),o(6,"tbody"),v(7,YP,2,1,"tr",3),n()()()),i&2&&(d(5),m("ngForOf",e.columns),d(2),m("ngForOf",e.billTiBillReport))},dependencies:[$]});let a=r;return a})();function QP(a,r){if(a&1){let l=O();o(0,"div")(1,"input",2),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.visible,i)||(e.visible=i),y(i)}),g("change",function(){let i=b(l).$implicit,e=S();return y(e.onColumnVisibilityChange(i))}),n(),s(2),n()}if(a&2){let l=r.$implicit;d(),F("ngModel",l.visible),d(),Ce(" ",l.header," ")}}var rh=(()=>{let r=class r{constructor(){this.columns=[],this.columnVisibilityChange=new W}onColumnVisibilityChange(t){this.columnVisibilityChange.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-table-columns-settings"]],inputs:{columns:"columns"},outputs:{columnVisibilityChange:"columnVisibilityChange"},decls:5,vars:1,consts:[[1,"column-settings"],[4,"ngFor","ngForOf"],["type","checkbox",3,"ngModelChange","change","ngModel"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"p")(2,"b"),s(3,"Select Columns to Add"),n()(),v(4,QP,3,2,"div",1),n()),i&2&&(d(4),m("ngForOf",e.columns))},dependencies:[$,Ii,U,Y],styles:[".column-settings[_ngcontent-%COMP%]{padding:10px}.column-settings[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-bottom:5px}"]});let a=r;return a})();var KP=a=>({isFilters:a});function JP(a,r){if(a&1){let l=O();o(0,"app-table-columns-settings",17),g("columnVisibilityChange",function(i){b(l);let e=S();return y(e.onColumnVisibilityChange(i))}),n()}if(a&2){let l=S();m("columns",l.columns)}}function XP(a,r){a&1&&(o(0,"div",18),s(1,` Loading...
`),n())}var ah=(()=>{let r=class r{constructor(t,i,e,c,p){this.reportService=t,this.exportService=i,this.xlsxService=e,this.toastr=c,this.modalService=p,this.billTiBillReport=[],this.isFilters=!0,this.reportFilter=[],this.currentPage=1,this.count=10,this.totalReports=0,this.filters=[],this.maxCount=Number.MAX_VALUE,this.searchedData=[],this.appliedFilters={},this.headers=[],this.loadSpinner=!0,this.columns=[{header:"Supplier Code",field:"supplierCode",visible:!0},{header:"Supplier Name",field:"supplierName",visible:!0},{header:"Total Basic Freight Charges",field:"totalBasicFreightCharges",visible:!0},{header:"Total Cgst Amount",field:"totalCgstAmount",visible:!0},{header:"Total Debit Note Amount",field:"totalDebitNoteAmount",visible:!0},{header:"Total Detention Charges",field:"totalDetentionCharges",visible:!0},{header:"Total Grand Total Amount",field:"totalGrandTotalAmount",visible:!1},{header:"Total Igst Amount",field:"totalIgstAmount",visible:!1},{header:"Total Net Amount",field:"totalNetAmount",visible:!1},{header:"Total OverLoad Charges",field:"totalOverLoadCharges",visible:!1},{header:"Total Point Charges",field:"totalPointCharges",visible:!1},{header:"Total Sgst Amount",field:"totalSgstAmount",visible:!1},{header:"Payment Advice No",field:"paymentAdviceNo",visible:!1},{header:"Payment TTL",field:"paymentTTL",visible:!1}]}ngOnInit(){this.getReports()}getReports(t=0,i=this.count,e=this.searchedData){let c={batchNumber:e?.batchNumber||"",screenCode:309};this.reportService.getDebitNote(c,t,i).subscribe(p=>{this.billTiBillReport=p.billTiBillReport,this.reportFilter=p.filters.BatchNumber,this.totalReports=p.paging.total,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.searchedData=t,this.appliedFilters=t,this.currentPage=1,this.getReports(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getReports(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getReports(0,this.count,this.searchedData)}onColumnVisibilityChange(t){this.columns=this.columns.map(i=>i.field===t.field?t:i)}onExportHeader(t){this.headers=t}exportExcel(t="Debit Report"){let i={batchNumber:this.appliedFilters?.batchNumber||null};this.totalReports===0&&this.toastr.error("Can not export with 0 rows!"),this.reportService.getDebitNote(i,0,this.totalReports).subscribe(e=>{let p=e.billTiBillReport.map(h=>({supplierCode:h?.supplierCode,supplierName:h?.supplierName,totalBasicFreightCharges:h?.totalBasicFreightCharges,totalCgstAmount:h?.totalCgstAmount,totalDebitNoteAmount:h?.totalDebitNoteAmount,totalDetentionCharges:h?.totalDetentionCharges,totalGrandTotalAmount:h?.totalGrandTotalAmount,totalIgstAmount:h?.totalIgstAmount,totalNetAmount:h?.totalNetAmount,totalOverLoadCharges:h?.totalOverLoadCharges,totalPointCharges:h?.totalPointCharges,totalSgstAmount:h?.totalSgstAmount,paymentAdviceNo:h?.paymentAdviceNo,paymentTTL:h?.paymentTTL}));this.xlsxService.xlsxExport(p,this.headers,t)},e=>{})}exportPdf(){let t=this.modalService.open(Hn,{size:"xl",backdrop:"static",windowClass:"modal-width"});t.componentInstance.title="report",t.componentInstance.biltiData=this.searchedData,t.result.then(i=>{},i=>{})}};r.\u0275fac=function(i){return new(i||r)(D(zn),D(io),D(Je),D(Z),D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-debit-note-report"]],decls:30,vars:21,consts:[["p","ngbPopover"],["popContent",""],[1,"page-title"],["placement","bottom-right","triggers","manual",1,"icon-button","me-4",3,"ngbPopover","autoClose"],["src","assets/images/icons/settings.svg","alt","settings",3,"click"],[1,"filter-section"],[3,"getData","exportExcel","exportPdf","reportFilter"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","billTiBillReport","columns"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[3,"columnVisibilityChange","columns"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"h1"),s(2,"Debit Note Report"),n(),o(3,"button",3,0)(5,"img",4),g("click",function(){b(c);let h=R(4);return y(h.toggle())}),n()(),v(6,JP,1,1,"ng-template",null,1,te),n(),o(8,"div",5)(9,"app-debit-note-report-filter",6),g("getData",function(h){return b(c),y(e.getData(h))})("exportExcel",function(){return b(c),y(e.exportExcel())})("exportPdf",function(){return b(c),y(e.exportPdf())}),n()(),o(10,"div",7)(11,"div",8)(12,"div",9)(13,"app-debit-note-report-grid-table",10),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(14,"div",11)(15,"ngb-pagination",12),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(16,"p",13),s(17," Items per page:"),n(),o(18,"select",14),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(19,"option",15),s(20,"10"),n(),o(21,"option",15),s(22,"20"),n(),o(23,"option",15),s(24,"50"),n(),o(25,"option",15),s(26,"100"),n(),o(27,"option",15),s(28,"500"),n()()()()(),v(29,XP,2,0,"div",16)}if(i&2){let c=R(7);d(3),m("ngbPopover",c)("autoClose","outside"),d(6),m("reportFilter",e.reportFilter),d(),m("ngClass",ge(19,KP,e.isFilters)),d(3),m("billTiBillReport",e.billTiBillReport)("columns",e.columns),d(2),m("collectionSize",e.totalReports),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,ii,me,ue,pe,U,Y,Ne,nh,oh,rh],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 253px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();function Ya(a,r=0){return ek(a)?Number(a):r}function ek(a){return!isNaN(parseFloat(a))&&!isNaN(Number(a))}function lh(a){return Array.isArray(a)?a:[a]}function ri(a){return a instanceof It?a.nativeElement:a}var Cd;try{Cd=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Cd=!1}var Sd=(()=>{let r=class r{constructor(t){this._platformId=t,this.isBrowser=this._platformId?kl(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Cd)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}};r.\u0275fac=function(i){return new(i||r)(Me(Ml))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var Ir;function tk(){if(Ir==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ir=!0}))}finally{Ir=Ir||!1}return Ir}function Nr(a){return tk()?a:!!a.capture}var yd;function ik(){if(yd==null){let a=typeof document<"u"?document.head:null;yd=!!(a&&(a.createShadowRoot||a.attachShadow))}return yd}function xd(a){if(ik()){let r=a.getRootNode?a.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&r instanceof ShadowRoot)return r}return null}function Fr(a){return a.composedPath?a.composedPath()[0]:a.target}var ok=new tn("cdk-dir-doc",{providedIn:"root",factory:rk});function rk(){return ne(Wt)}var ak=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function lk(a){let r=a?.toLowerCase()||"";return r==="auto"&&typeof navigator<"u"&&navigator?.language?ak.test(navigator.language)?"rtl":"ltr":r==="rtl"?"rtl":"ltr"}var Dd=(()=>{let r=class r{constructor(t){if(this.value="ltr",this.change=new W,t){let i=t.body?t.body.dir:null,e=t.documentElement?t.documentElement.dir:null;this.value=lk(i||e||"ltr")}}ngOnDestroy(){this.change.complete()}};r.\u0275fac=function(i){return new(i||r)(Me(ok,8))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var dk=20,sh=(()=>{let r=class r{constructor(t,i,e){this._ngZone=t,this._platform=i,this._scrolled=new Ye,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=e}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){let i=this.scrollContainers.get(t);i&&(i.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=dk){return this._platform.isBrowser?new gn(i=>{this._globalSubscription||this._addGlobalListener();let e=t>0?this._scrolled.pipe(Fl(t)).subscribe(i):this._scrolled.subscribe(i);return this._scrolledCount++,()=>{e.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Eo()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,i)=>this.deregister(i)),this._scrolled.complete()}ancestorScrolled(t,i){let e=this.getAncestorScrollContainers(t);return this.scrolled(i).pipe(Ti(c=>!c||e.indexOf(c)>-1))}getAncestorScrollContainers(t){let i=[];return this.scrollContainers.forEach((e,c)=>{this._scrollableContainsElement(c,t)&&i.push(c)}),i}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,i){let e=ri(i),c=t.getElementRef().nativeElement;do if(e==c)return!0;while(e=e.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{let t=this._getWindow();return Xt(t.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}};r.\u0275fac=function(i){return new(i||r)(Me(ti),Me(Sd),Me(Wt,8))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var ck=20,dh=(()=>{let r=class r{constructor(t,i,e){this._platform=t,this._change=new Ye,this._changeListener=c=>{this._change.next(c)},this._document=e,i.runOutsideAngular(()=>{if(t.isBrowser){let c=this._getWindow();c.addEventListener("resize",this._changeListener),c.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){let t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){let t=this.getViewportScrollPosition(),{width:i,height:e}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+e,right:t.left+i,height:e,width:i}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let t=this._document,i=this._getWindow(),e=t.documentElement,c=e.getBoundingClientRect(),p=-c.top||t.body.scrollTop||i.scrollY||e.scrollTop||0,h=-c.left||t.body.scrollLeft||i.scrollX||e.scrollLeft||0;return{top:p,left:h}}change(t=ck){return t>0?this._change.pipe(Fl(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}};r.\u0275fac=function(i){return new(i||r)(Me(Sd),Me(ti),Me(Wt,8))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var ch=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({});let a=r;return a})();function ph(a){return a.buttons===0||a.detail===0}function mh(a){let r=a.touches&&a.touches[0]||a.changedTouches&&a.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}function Nh(a){let r=a.cloneNode(!0),l=r.querySelectorAll("[id]"),t=a.nodeName.toLowerCase();r.removeAttribute("id");for(let i=0;i<l.length;i++)l[i].removeAttribute("id");return t==="canvas"?gh(a,r):(t==="input"||t==="select"||t==="textarea")&&hh(a,r),uh("canvas",a,r,gh),uh("input, textarea, select",a,r,hh),r}function uh(a,r,l,t){let i=r.querySelectorAll(a);if(i.length){let e=l.querySelectorAll(a);for(let c=0;c<i.length;c++)t(i[c],e[c])}}var mk=0;function hh(a,r){r.type!=="file"&&(r.value=a.value),r.type==="radio"&&r.name&&(r.name=`mat-clone-${r.name}-${mk++}`)}function gh(a,r){let l=r.getContext("2d");if(l)try{l.drawImage(a,0,0)}catch{}}function Md(a){let r=a.getBoundingClientRect();return{top:r.top,right:r.right,bottom:r.bottom,left:r.left,width:r.width,height:r.height,x:r.x,y:r.y}}function Td(a,r,l){let{top:t,bottom:i,left:e,right:c}=a;return l>=t&&l<=i&&r>=e&&r<=c}function Pr(a,r,l){a.top+=r,a.bottom=a.top+a.height,a.left+=l,a.right=a.left+a.width}function fh(a,r,l,t){let{top:i,right:e,bottom:c,left:p,width:h,height:w}=a,N=h*r,L=w*r;return t>i-L&&t<c+L&&l>p-N&&l<e+N}var Ka=class{constructor(r){this._document=r,this.positions=new Map}clear(){this.positions.clear()}cache(r){this.clear(),this.positions.set(this._document,{scrollPosition:this.getViewportScrollPosition()}),r.forEach(l=>{this.positions.set(l,{scrollPosition:{top:l.scrollTop,left:l.scrollLeft},clientRect:Md(l)})})}handleScroll(r){let l=Fr(r),t=this.positions.get(l);if(!t)return null;let i=t.scrollPosition,e,c;if(l===this._document){let w=this.getViewportScrollPosition();e=w.top,c=w.left}else e=l.scrollTop,c=l.scrollLeft;let p=i.top-e,h=i.left-c;return this.positions.forEach((w,N)=>{w.clientRect&&l!==N&&l.contains(N)&&Pr(w.clientRect,p,h)}),i.top=e,i.left=c,{top:p,left:h}}getViewportScrollPosition(){return{top:window.scrollY,left:window.scrollX}}};function Fh(a,r){let l=a.rootNodes;if(l.length===1&&l[0].nodeType===r.ELEMENT_NODE)return l[0];let t=r.createElement("div");return l.forEach(i=>t.appendChild(i)),t}function Pd(a,r,l){for(let t in r)if(r.hasOwnProperty(t)){let i=r[t];i?a.setProperty(t,i,l?.has(t)?"important":""):a.removeProperty(t)}return a}function qo(a,r){let l=r?"":"none";Pd(a.style,{"touch-action":r?"":"none","-webkit-user-drag":r?"":"none","-webkit-tap-highlight-color":r?"":"transparent","user-select":l,"-ms-user-select":l,"-webkit-user-select":l,"-moz-user-select":l})}function _h(a,r,l){Pd(a.style,{position:r?"":"fixed",top:r?"":"0",opacity:r?"":"0",left:r?"":"-999em"},l)}function Ja(a,r){return r&&r!="none"?a+" "+r:a}function vh(a,r){a.style.width=`${r.width}px`,a.style.height=`${r.height}px`,a.style.transform=Xa(r.left,r.top)}function Xa(a,r){return`translate3d(${Math.round(a)}px, ${Math.round(r)}px, 0)`}function bh(a){let r=a.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(a)*r}function uk(a){let r=getComputedStyle(a),l=Ed(r,"transition-property"),t=l.find(p=>p==="transform"||p==="all");if(!t)return 0;let i=l.indexOf(t),e=Ed(r,"transition-duration"),c=Ed(r,"transition-delay");return bh(e[i])+bh(c[i])}function Ed(a,r){return a.getPropertyValue(r).split(",").map(t=>t.trim())}var hk=new Set(["position"]),wd=class{constructor(r,l,t,i,e,c,p,h,w){this._document=r,this._rootElement=l,this._direction=t,this._initialDomRect=i,this._previewTemplate=e,this._previewClass=c,this._pickupPositionOnPage=p,this._initialTransform=h,this._zIndex=w}attach(r){this._preview=this._createPreview(),r.appendChild(this._preview),"showPopover"in this._preview&&this._preview.showPopover()}destroy(){this._preview.remove(),this._previewEmbeddedView?.destroy(),this._preview=this._previewEmbeddedView=null}setTransform(r){this._preview.style.transform=r}getBoundingClientRect(){return this._preview.getBoundingClientRect()}addClass(r){this._preview.classList.add(r)}getTransitionDuration(){return uk(this._preview)}addEventListener(r,l){this._preview.addEventListener(r,l)}removeEventListener(r,l){this._preview.removeEventListener(r,l)}_createPreview(){let r=this._previewTemplate,l=this._previewClass,t=r?r.template:null,i;if(t&&r){let e=r.matchSize?this._initialDomRect:null,c=r.viewContainer.createEmbeddedView(t,r.context);c.detectChanges(),i=Fh(c,this._document),this._previewEmbeddedView=c,r.matchSize?vh(i,e):i.style.transform=Xa(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else i=Nh(this._rootElement),vh(i,this._initialDomRect),this._initialTransform&&(i.style.transform=this._initialTransform);return Pd(i.style,{"pointer-events":"none",margin:"0",position:"fixed",top:"0",left:"0","z-index":this._zIndex+""},hk),qo(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("popover","manual"),i.setAttribute("dir",this._direction),l&&(Array.isArray(l)?l.forEach(e=>i.classList.add(e)):i.classList.add(l)),i}},yh=Nr({passive:!0}),$a=Nr({passive:!1}),Ch=Nr({passive:!1,capture:!0}),gk=800,Sh=new Set(["position"]),Id=class{get disabled(){return this._disabled||!!(this._dropContainer&&this._dropContainer.disabled)}set disabled(r){r!==this._disabled&&(this._disabled=r,this._toggleNativeDragInteractions(),this._handles.forEach(l=>qo(l,r)))}constructor(r,l,t,i,e,c){this._config=l,this._document=t,this._ngZone=i,this._viewportRuler=e,this._dragDropRegistry=c,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._hasStartedDragging=oa(!1),this._moveEvents=new Ye,this._pointerMoveSubscription=Jn.EMPTY,this._pointerUpSubscription=Jn.EMPTY,this._scrollSubscription=Jn.EMPTY,this._resizeSubscription=Jn.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new Ye,this.started=new Ye,this.released=new Ye,this.ended=new Ye,this.entered=new Ye,this.exited=new Ye,this.dropped=new Ye,this.moved=this._moveEvents,this._pointerDown=p=>{if(this.beforeStarted.next(),this._handles.length){let h=this._getTargetHandle(p);h&&!this._disabledHandles.has(h)&&!this.disabled&&this._initializeDragSequence(h,p)}else this.disabled||this._initializeDragSequence(this._rootElement,p)},this._pointerMove=p=>{let h=this._getPointerPositionOnPage(p);if(!this._hasStartedDragging()){let N=Math.abs(h.x-this._pickupPositionOnPage.x),L=Math.abs(h.y-this._pickupPositionOnPage.y);if(N+L>=this._config.dragStartThreshold){let I=Date.now()>=this._dragStartTime+this._getDragStartDelay(p),G=this._dropContainer;if(!I){this._endDragSequence(p);return}(!G||!G.isDragging()&&!G.isReceiving())&&(p.cancelable&&p.preventDefault(),this._hasStartedDragging.set(!0),this._ngZone.run(()=>this._startDragSequence(p)))}return}p.cancelable&&p.preventDefault();let w=this._getConstrainedPointerPosition(h);if(this._hasMoved=!0,this._lastKnownPointerPosition=h,this._updatePointerDirectionDelta(w),this._dropContainer)this._updateActiveDropContainer(w,h);else{let N=this.constrainPosition?this._initialDomRect:this._pickupPositionOnPage,L=this._activeTransform;L.x=w.x-N.x+this._passiveTransform.x,L.y=w.y-N.y+this._passiveTransform.y,this._applyRootElementTransform(L.x,L.y)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:w,event:p,distance:this._getDragDistance(w),delta:this._pointerDirectionDelta})})},this._pointerUp=p=>{this._endDragSequence(p)},this._nativeDragStart=p=>{if(this._handles.length){let h=this._getTargetHandle(p);h&&!this._disabledHandles.has(h)&&!this.disabled&&p.preventDefault()}else this.disabled||p.preventDefault()},this.withRootElement(r).withParent(l.parentDragRef||null),this._parentPositions=new Ka(t),c.registerDragItem(this)}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(r){this._handles=r.map(t=>ri(t)),this._handles.forEach(t=>qo(t,this.disabled)),this._toggleNativeDragInteractions();let l=new Set;return this._disabledHandles.forEach(t=>{this._handles.indexOf(t)>-1&&l.add(t)}),this._disabledHandles=l,this}withPreviewTemplate(r){return this._previewTemplate=r,this}withPlaceholderTemplate(r){return this._placeholderTemplate=r,this}withRootElement(r){let l=ri(r);return l!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{l.addEventListener("mousedown",this._pointerDown,$a),l.addEventListener("touchstart",this._pointerDown,yh),l.addEventListener("dragstart",this._nativeDragStart,$a)}),this._initialTransform=void 0,this._rootElement=l),typeof SVGElement<"u"&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(r){return this._boundaryElement=r?ri(r):null,this._resizeSubscription.unsubscribe(),r&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}withParent(r){return this._parentDragRef=r,this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&this._rootElement?.remove(),this._anchor?.remove(),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeListeners(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=this._parentDragRef=null}isDragging(){return this._hasStartedDragging()&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(r){!this._disabledHandles.has(r)&&this._handles.indexOf(r)>-1&&(this._disabledHandles.add(r),qo(r,!0))}enableHandle(r){this._disabledHandles.has(r)&&(this._disabledHandles.delete(r),qo(r,this.disabled))}withDirection(r){return this._direction=r,this}_withDropContainer(r){this._dropContainer=r}getFreeDragPosition(){let r=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:r.x,y:r.y}}setFreeDragPosition(r){return this._activeTransform={x:0,y:0},this._passiveTransform.x=r.x,this._passiveTransform.y=r.y,this._dropContainer||this._applyRootElementTransform(r.x,r.y),this}withPreviewContainer(r){return this._previewContainer=r,this}_sortFromLastPointerPosition(){let r=this._lastKnownPointerPosition;r&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(r),r)}_removeListeners(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe(),this._getShadowRoot()?.removeEventListener("selectstart",Dh,Ch)}_destroyPreview(){this._preview?.destroy(),this._preview=null}_destroyPlaceholder(){this._placeholder?.remove(),this._placeholderRef?.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(r){if(this._dragDropRegistry.isDragging(this)&&(this._removeListeners(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),!!this._hasStartedDragging()))if(this.released.next({source:this,event:r}),this._dropContainer)this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(r),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)});else{this._passiveTransform.x=this._activeTransform.x;let l=this._getPointerPositionOnPage(r);this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(l),dropPoint:l,event:r})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)}}_startDragSequence(r){Mr(r)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();let l=this._getShadowRoot(),t=this._dropContainer;if(l&&this._ngZone.runOutsideAngular(()=>{l.addEventListener("selectstart",Dh,Ch)}),t){let i=this._rootElement,e=i.parentNode,c=this._placeholder=this._createPlaceholderElement(),p=this._anchor=this._anchor||this._document.createComment("");e.insertBefore(p,i),this._initialTransform=i.style.transform||"",this._preview=new wd(this._document,this._rootElement,this._direction,this._initialDomRect,this._previewTemplate||null,this.previewClass||null,this._pickupPositionOnPage,this._initialTransform,this._config.zIndex||1e3),this._preview.attach(this._getPreviewInsertionPoint(e,l)),_h(i,!1,Sh),this._document.body.appendChild(e.replaceChild(c,i)),this.started.next({source:this,event:r}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this,event:r}),this._initialContainer=this._initialIndex=void 0;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(r,l){this._parentDragRef&&l.stopPropagation();let t=this.isDragging(),i=Mr(l),e=!i&&l.button!==0,c=this._rootElement,p=Fr(l),h=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+gk>Date.now(),w=i?mh(l):ph(l);if(p&&p.draggable&&l.type==="mousedown"&&l.preventDefault(),t||e||h||w)return;if(this._handles.length){let V=c.style;this._rootElementTapHighlight=V.webkitTapHighlightColor||"",V.webkitTapHighlightColor="transparent"}this._hasMoved=!1,this._hasStartedDragging.set(this._hasMoved),this._removeListeners(),this._initialDomRect=this._rootElement.getBoundingClientRect(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(V=>this._updateOnScroll(V)),this._boundaryElement&&(this._boundaryRect=Md(this._boundaryElement));let N=this._previewTemplate;this._pickupPositionInElement=N&&N.template&&!N.matchSize?{x:0,y:0}:this._getPointerPositionInElement(this._initialDomRect,r,l);let L=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(l);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:L.x,y:L.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,l)}_cleanupDragArtifacts(r){_h(this._rootElement,!0,Sh),this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._initialDomRect=this._boundaryRect=this._previewRect=this._initialTransform=void 0,this._ngZone.run(()=>{let l=this._dropContainer,t=l.getItemIndex(this),i=this._getPointerPositionOnPage(r),e=this._getDragDistance(i),c=l._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:e,dropPoint:i,event:r}),this.dropped.next({item:this,currentIndex:t,previousIndex:this._initialIndex,container:l,previousContainer:this._initialContainer,isPointerOverContainer:c,distance:e,dropPoint:i,event:r}),l.drop(this,t,this._initialIndex,this._initialContainer,c,e,i,r),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:r,y:l},{x:t,y:i}){let e=this._initialContainer._getSiblingContainerFromPosition(this,r,l);!e&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(r,l)&&(e=this._initialContainer),e&&e!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=e,this._dropContainer.enter(this,r,l,e===this._initialContainer&&e.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:e,currentIndex:e.getItemIndex(this)})}),this.isDragging()&&(this._dropContainer._startScrollingIfNecessary(t,i),this._dropContainer._sortItem(this,r,l,this._pointerDirectionDelta),this.constrainPosition?this._applyPreviewTransform(r,l):this._applyPreviewTransform(r-this._pickupPositionInElement.x,l-this._pickupPositionInElement.y))}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();let r=this._placeholder.getBoundingClientRect();this._preview.addClass("cdk-drag-animating"),this._applyPreviewTransform(r.left,r.top);let l=this._preview.getTransitionDuration();return l===0?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(t=>{let i=c=>{(!c||Fr(c)===this._preview&&c.propertyName==="transform")&&(this._preview?.removeEventListener("transitionend",i),t(),clearTimeout(e))},e=setTimeout(i,l*1.5);this._preview.addEventListener("transitionend",i)}))}_createPlaceholderElement(){let r=this._placeholderTemplate,l=r?r.template:null,t;return l?(this._placeholderRef=r.viewContainer.createEmbeddedView(l,r.context),this._placeholderRef.detectChanges(),t=Fh(this._placeholderRef,this._document)):t=Nh(this._rootElement),t.style.pointerEvents="none",t.classList.add("cdk-drag-placeholder"),t}_getPointerPositionInElement(r,l,t){let i=l===this._rootElement?null:l,e=i?i.getBoundingClientRect():r,c=Mr(t)?t.targetTouches[0]:t,p=this._getViewportScrollPosition(),h=c.pageX-e.left-p.left,w=c.pageY-e.top-p.top;return{x:e.left-r.left+h,y:e.top-r.top+w}}_getPointerPositionOnPage(r){let l=this._getViewportScrollPosition(),t=Mr(r)?r.touches[0]||r.changedTouches[0]||{pageX:0,pageY:0}:r,i=t.pageX-l.left,e=t.pageY-l.top;if(this._ownerSVGElement){let c=this._ownerSVGElement.getScreenCTM();if(c){let p=this._ownerSVGElement.createSVGPoint();return p.x=i,p.y=e,p.matrixTransform(c.inverse())}}return{x:i,y:e}}_getConstrainedPointerPosition(r){let l=this._dropContainer?this._dropContainer.lockAxis:null,{x:t,y:i}=this.constrainPosition?this.constrainPosition(r,this,this._initialDomRect,this._pickupPositionInElement):r;if(this.lockAxis==="x"||l==="x"?i=this._pickupPositionOnPage.y-(this.constrainPosition?this._pickupPositionInElement.y:0):(this.lockAxis==="y"||l==="y")&&(t=this._pickupPositionOnPage.x-(this.constrainPosition?this._pickupPositionInElement.x:0)),this._boundaryRect){let{x:e,y:c}=this.constrainPosition?{x:0,y:0}:this._pickupPositionInElement,p=this._boundaryRect,{width:h,height:w}=this._getPreviewRect(),N=p.top+c,L=p.bottom-(w-c),V=p.left+e,I=p.right-(h-e);t=xh(t,V,I),i=xh(i,N,L)}return{x:t,y:i}}_updatePointerDirectionDelta(r){let{x:l,y:t}=r,i=this._pointerDirectionDelta,e=this._pointerPositionAtLastDirectionChange,c=Math.abs(l-e.x),p=Math.abs(t-e.y);return c>this._config.pointerDirectionChangeThreshold&&(i.x=l>e.x?1:-1,e.x=l),p>this._config.pointerDirectionChangeThreshold&&(i.y=t>e.y?1:-1,e.y=t),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;let r=this._handles.length>0||!this.isDragging();r!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=r,qo(this._rootElement,r))}_removeRootElementListeners(r){r.removeEventListener("mousedown",this._pointerDown,$a),r.removeEventListener("touchstart",this._pointerDown,yh),r.removeEventListener("dragstart",this._nativeDragStart,$a)}_applyRootElementTransform(r,l){let t=Xa(r,l),i=this._rootElement.style;this._initialTransform==null&&(this._initialTransform=i.transform&&i.transform!="none"?i.transform:""),i.transform=Ja(t,this._initialTransform)}_applyPreviewTransform(r,l){let t=this._previewTemplate?.template?void 0:this._initialTransform,i=Xa(r,l);this._preview.setTransform(Ja(i,t))}_getDragDistance(r){let l=this._pickupPositionOnPage;return l?{x:r.x-l.x,y:r.y-l.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:r,y:l}=this._passiveTransform;if(r===0&&l===0||this.isDragging()||!this._boundaryElement)return;let t=this._rootElement.getBoundingClientRect(),i=this._boundaryElement.getBoundingClientRect();if(i.width===0&&i.height===0||t.width===0&&t.height===0)return;let e=i.left-t.left,c=t.right-i.right,p=i.top-t.top,h=t.bottom-i.bottom;i.width>t.width?(e>0&&(r+=e),c>0&&(r-=c)):r=0,i.height>t.height?(p>0&&(l+=p),h>0&&(l-=h)):l=0,(r!==this._passiveTransform.x||l!==this._passiveTransform.y)&&this.setFreeDragPosition({y:l,x:r})}_getDragStartDelay(r){let l=this.dragStartDelay;return typeof l=="number"?l:Mr(r)?l.touch:l?l.mouse:0}_updateOnScroll(r){let l=this._parentPositions.handleScroll(r);if(l){let t=Fr(r);this._boundaryRect&&t!==this._boundaryElement&&t.contains(this._boundaryElement)&&Pr(this._boundaryRect,l.top,l.left),this._pickupPositionOnPage.x+=l.left,this._pickupPositionOnPage.y+=l.top,this._dropContainer||(this._activeTransform.x-=l.left,this._activeTransform.y-=l.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){return this._parentPositions.positions.get(this._document)?.scrollPosition||this._parentPositions.getViewportScrollPosition()}_getShadowRoot(){return this._cachedShadowRoot===void 0&&(this._cachedShadowRoot=xd(this._rootElement)),this._cachedShadowRoot}_getPreviewInsertionPoint(r,l){let t=this._previewContainer||"global";if(t==="parent")return r;if(t==="global"){let i=this._document;return l||i.fullscreenElement||i.webkitFullscreenElement||i.mozFullScreenElement||i.msFullscreenElement||i.body}return ri(t)}_getPreviewRect(){return(!this._previewRect||!this._previewRect.width&&!this._previewRect.height)&&(this._previewRect=this._preview?this._preview.getBoundingClientRect():this._initialDomRect),this._previewRect}_getTargetHandle(r){return this._handles.find(l=>r.target&&(r.target===l||l.contains(r.target)))}};function xh(a,r,l){return Math.max(r,Math.min(l,a))}function Mr(a){return a.type[0]==="t"}function Dh(a){a.preventDefault()}function kd(a,r,l){let t=Eh(r,a.length-1),i=Eh(l,a.length-1);if(t===i)return;let e=a[t],c=i<t?-1:1;for(let p=t;p!==i;p+=c)a[p]=a[p+c];a[i]=e}function Eh(a,r){return Math.max(0,Math.min(r,a))}var Nd=class{constructor(r,l){this._element=r,this._dragDropRegistry=l,this._itemPositions=[],this.orientation="vertical",this._previousSwap={drag:null,delta:0,overlaps:!1}}start(r){this.withItems(r)}sort(r,l,t,i){let e=this._itemPositions,c=this._getItemIndexFromPointerPosition(r,l,t,i);if(c===-1&&e.length>0)return null;let p=this.orientation==="horizontal",h=e.findIndex(q=>q.drag===r),w=e[c],N=e[h].clientRect,L=w.clientRect,V=h>c?1:-1,I=this._getItemOffsetPx(N,L,V),G=this._getSiblingOffsetPx(h,e,V),oe=e.slice();return kd(e,h,c),e.forEach((q,de)=>{if(oe[de]===q)return;let xe=q.drag===r,fe=xe?I:G,ce=xe?r.getPlaceholderElement():q.drag.getRootElement();q.offset+=fe,p?(ce.style.transform=Ja(`translate3d(${Math.round(q.offset)}px, 0, 0)`,q.initialTransform),Pr(q.clientRect,0,fe)):(ce.style.transform=Ja(`translate3d(0, ${Math.round(q.offset)}px, 0)`,q.initialTransform),Pr(q.clientRect,fe,0))}),this._previousSwap.overlaps=Td(L,l,t),this._previousSwap.drag=w.drag,this._previousSwap.delta=p?i.x:i.y,{previousIndex:h,currentIndex:c}}enter(r,l,t,i){let e=i==null||i<0?this._getItemIndexFromPointerPosition(r,l,t):i,c=this._activeDraggables,p=c.indexOf(r),h=r.getPlaceholderElement(),w=c[e];if(w===r&&(w=c[e+1]),!w&&(e==null||e===-1||e<c.length-1)&&this._shouldEnterAsFirstChild(l,t)&&(w=c[0]),p>-1&&c.splice(p,1),w&&!this._dragDropRegistry.isDragging(w)){let N=w.getRootElement();N.parentElement.insertBefore(h,N),c.splice(e,0,r)}else ri(this._element).appendChild(h),c.push(r);h.style.transform="",this._cacheItemPositions()}withItems(r){this._activeDraggables=r.slice(),this._cacheItemPositions()}withSortPredicate(r){this._sortPredicate=r}reset(){this._activeDraggables.forEach(r=>{let l=r.getRootElement();if(l){let t=this._itemPositions.find(i=>i.drag===r)?.initialTransform;l.style.transform=t||""}}),this._itemPositions=[],this._activeDraggables=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1}getActiveItemsSnapshot(){return this._activeDraggables}getItemIndex(r){return(this.orientation==="horizontal"&&this.direction==="rtl"?this._itemPositions.slice().reverse():this._itemPositions).findIndex(t=>t.drag===r)}updateOnScroll(r,l){this._itemPositions.forEach(({clientRect:t})=>{Pr(t,r,l)}),this._itemPositions.forEach(({drag:t})=>{this._dragDropRegistry.isDragging(t)&&t._sortFromLastPointerPosition()})}_cacheItemPositions(){let r=this.orientation==="horizontal";this._itemPositions=this._activeDraggables.map(l=>{let t=l.getVisibleElement();return{drag:l,offset:0,initialTransform:t.style.transform||"",clientRect:Md(t)}}).sort((l,t)=>r?l.clientRect.left-t.clientRect.left:l.clientRect.top-t.clientRect.top)}_getItemOffsetPx(r,l,t){let i=this.orientation==="horizontal",e=i?l.left-r.left:l.top-r.top;return t===-1&&(e+=i?l.width-r.width:l.height-r.height),e}_getSiblingOffsetPx(r,l,t){let i=this.orientation==="horizontal",e=l[r].clientRect,c=l[r+t*-1],p=e[i?"width":"height"]*t;if(c){let h=i?"left":"top",w=i?"right":"bottom";t===-1?p-=c.clientRect[h]-e[w]:p+=e[h]-c.clientRect[w]}return p}_shouldEnterAsFirstChild(r,l){if(!this._activeDraggables.length)return!1;let t=this._itemPositions,i=this.orientation==="horizontal";if(t[0].drag!==this._activeDraggables[0]){let c=t[t.length-1].clientRect;return i?r>=c.right:l>=c.bottom}else{let c=t[0].clientRect;return i?r<=c.left:l<=c.top}}_getItemIndexFromPointerPosition(r,l,t,i){let e=this.orientation==="horizontal",c=this._itemPositions.findIndex(({drag:p,clientRect:h})=>{if(p===r)return!1;if(i){let w=e?i.x:i.y;if(p===this._previousSwap.drag&&this._previousSwap.overlaps&&w===this._previousSwap.delta)return!1}return e?l>=Math.floor(h.left)&&l<Math.floor(h.right):t>=Math.floor(h.top)&&t<Math.floor(h.bottom)});return c===-1||!this._sortPredicate(c,r)?-1:c}},Th=.05,Mh=.05,Vi=function(a){return a[a.NONE=0]="NONE",a[a.UP=1]="UP",a[a.DOWN=2]="DOWN",a}(Vi||{}),ui=function(a){return a[a.NONE=0]="NONE",a[a.LEFT=1]="LEFT",a[a.RIGHT=2]="RIGHT",a}(ui||{}),Fd=class{constructor(r,l,t,i,e){this._dragDropRegistry=l,this._ngZone=i,this._viewportRuler=e,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.autoScrollStep=2,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.beforeStarted=new Ye,this.entered=new Ye,this.exited=new Ye,this.dropped=new Ye,this.sorted=new Ye,this.receivingStarted=new Ye,this.receivingStopped=new Ye,this._isDragging=!1,this._draggables=[],this._siblings=[],this._activeSiblings=new Set,this._viewportScrollSubscription=Jn.EMPTY,this._verticalScrollDirection=Vi.NONE,this._horizontalScrollDirection=ui.NONE,this._stopScrollTimers=new Ye,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),Ic(0,Il).pipe(xt(this._stopScrollTimers)).subscribe(()=>{let c=this._scrollNode,p=this.autoScrollStep;this._verticalScrollDirection===Vi.UP?c.scrollBy(0,-p):this._verticalScrollDirection===Vi.DOWN&&c.scrollBy(0,p),this._horizontalScrollDirection===ui.LEFT?c.scrollBy(-p,0):this._horizontalScrollDirection===ui.RIGHT&&c.scrollBy(p,0)})},this.element=ri(r),this._document=t,this.withScrollableParents([this.element]),l.registerDropContainer(this),this._parentPositions=new Ka(t),this._sortStrategy=new Nd(this.element,l),this._sortStrategy.withSortPredicate((c,p)=>this.sortPredicate(c,p,this))}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this.receivingStarted.complete(),this.receivingStopped.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){this._draggingStarted(),this._notifyReceivingSiblings()}enter(r,l,t,i){this._draggingStarted(),i==null&&this.sortingDisabled&&(i=this._draggables.indexOf(r)),this._sortStrategy.enter(r,l,t,i),this._cacheParentPositions(),this._notifyReceivingSiblings(),this.entered.next({item:r,container:this,currentIndex:this.getItemIndex(r)})}exit(r){this._reset(),this.exited.next({item:r,container:this})}drop(r,l,t,i,e,c,p,h={}){this._reset(),this.dropped.next({item:r,currentIndex:l,previousIndex:t,container:this,previousContainer:i,isPointerOverContainer:e,distance:c,dropPoint:p,event:h})}withItems(r){let l=this._draggables;return this._draggables=r,r.forEach(t=>t._withDropContainer(this)),this.isDragging()&&(l.filter(i=>i.isDragging()).every(i=>r.indexOf(i)===-1)?this._reset():this._sortStrategy.withItems(this._draggables)),this}withDirection(r){return this._sortStrategy.direction=r,this}connectedTo(r){return this._siblings=r.slice(),this}withOrientation(r){return this._sortStrategy.orientation=r,this}withScrollableParents(r){let l=ri(this.element);return this._scrollableElements=r.indexOf(l)===-1?[l,...r]:r.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(r){return this._isDragging?this._sortStrategy.getItemIndex(r):this._draggables.indexOf(r)}isReceiving(){return this._activeSiblings.size>0}_sortItem(r,l,t,i){if(this.sortingDisabled||!this._domRect||!fh(this._domRect,Th,l,t))return;let e=this._sortStrategy.sort(r,l,t,i);e&&this.sorted.next({previousIndex:e.previousIndex,currentIndex:e.currentIndex,container:this,item:r})}_startScrollingIfNecessary(r,l){if(this.autoScrollDisabled)return;let t,i=Vi.NONE,e=ui.NONE;if(this._parentPositions.positions.forEach((c,p)=>{p===this._document||!c.clientRect||t||fh(c.clientRect,Th,r,l)&&([i,e]=fk(p,c.clientRect,this._sortStrategy.direction,r,l),(i||e)&&(t=p))}),!i&&!e){let{width:c,height:p}=this._viewportRuler.getViewportSize(),h={width:c,height:p,top:0,right:c,bottom:p,left:0};i=Ph(h,l),e=kh(h,r),t=window}t&&(i!==this._verticalScrollDirection||e!==this._horizontalScrollDirection||t!==this._scrollNode)&&(this._verticalScrollDirection=i,this._horizontalScrollDirection=e,this._scrollNode=t,(i||e)&&t?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_draggingStarted(){let r=ri(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=r.msScrollSnapType||r.scrollSnapType||"",r.scrollSnapType=r.msScrollSnapType="none",this._sortStrategy.start(this._draggables),this._cacheParentPositions(),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}_cacheParentPositions(){let r=ri(this.element);this._parentPositions.cache(this._scrollableElements),this._domRect=this._parentPositions.positions.get(r).clientRect}_reset(){this._isDragging=!1;let r=ri(this.element).style;r.scrollSnapType=r.msScrollSnapType=this._initialScrollSnap,this._siblings.forEach(l=>l._stopReceiving(this)),this._sortStrategy.reset(),this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_isOverContainer(r,l){return this._domRect!=null&&Td(this._domRect,r,l)}_getSiblingContainerFromPosition(r,l,t){return this._siblings.find(i=>i._canReceive(r,l,t))}_canReceive(r,l,t){if(!this._domRect||!Td(this._domRect,l,t)||!this.enterPredicate(r,this))return!1;let i=this._getShadowRoot().elementFromPoint(l,t);if(!i)return!1;let e=ri(this.element);return i===e||e.contains(i)}_startReceiving(r,l){let t=this._activeSiblings;!t.has(r)&&l.every(i=>this.enterPredicate(i,this)||this._draggables.indexOf(i)>-1)&&(t.add(r),this._cacheParentPositions(),this._listenToScrollEvents(),this.receivingStarted.next({initiator:r,receiver:this,items:l}))}_stopReceiving(r){this._activeSiblings.delete(r),this._viewportScrollSubscription.unsubscribe(),this.receivingStopped.next({initiator:r,receiver:this})}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scrolled(this._getShadowRoot()).subscribe(r=>{if(this.isDragging()){let l=this._parentPositions.handleScroll(r);l&&this._sortStrategy.updateOnScroll(l.top,l.left)}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){let r=xd(ri(this.element));this._cachedShadowRoot=r||this._document}return this._cachedShadowRoot}_notifyReceivingSiblings(){let r=this._sortStrategy.getActiveItemsSnapshot().filter(l=>l.isDragging());this._siblings.forEach(l=>l._startReceiving(this,r))}};function Ph(a,r){let{top:l,bottom:t,height:i}=a,e=i*Mh;return r>=l-e&&r<=l+e?Vi.UP:r>=t-e&&r<=t+e?Vi.DOWN:Vi.NONE}function kh(a,r){let{left:l,right:t,width:i}=a,e=i*Mh;return r>=l-e&&r<=l+e?ui.LEFT:r>=t-e&&r<=t+e?ui.RIGHT:ui.NONE}function fk(a,r,l,t,i){let e=Ph(r,i),c=kh(r,t),p=Vi.NONE,h=ui.NONE;if(e){let w=a.scrollTop;e===Vi.UP?w>0&&(p=Vi.UP):a.scrollHeight-w>a.clientHeight&&(p=Vi.DOWN)}if(c){let w=a.scrollLeft;l==="rtl"?c===ui.RIGHT?w<0&&(h=ui.RIGHT):a.scrollWidth+w>a.clientWidth&&(h=ui.LEFT):c===ui.LEFT?w>0&&(h=ui.LEFT):a.scrollWidth-w>a.clientWidth&&(h=ui.RIGHT)}return[p,h]}var Qa=Nr({passive:!1,capture:!0}),Za=new Set,_k=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["ng-component"]],hostAttrs:["cdk-drag-resets-container",""],standalone:!0,features:[fi],decls:0,vars:0,template:function(i,e){},styles:["@layer cdk-resets{.cdk-drag-preview{background:none;border:none;padding:0;color:inherit}}"],encapsulation:2,changeDetection:0});let a=r;return a})(),vk=(()=>{let r=class r{constructor(t,i){this._ngZone=t,this._appRef=ne(ur),this._environmentInjector=ne(sr),this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=oa([]),this._globalListeners=new Map,this._draggingPredicate=e=>e.isDragging(),this.pointerMove=new Ye,this.pointerUp=new Ye,this.scroll=new Ye,this._preventDefaultWhileDragging=e=>{this._activeDragInstances().length>0&&e.preventDefault()},this._persistentTouchmoveListener=e=>{this._activeDragInstances().length>0&&(this._activeDragInstances().some(this._draggingPredicate)&&e.preventDefault(),this.pointerMove.next(e))},this._document=i}registerDropContainer(t){this._dropInstances.has(t)||this._dropInstances.add(t)}registerDragItem(t){this._dragInstances.add(t),this._dragInstances.size===1&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._persistentTouchmoveListener,Qa)})}removeDropContainer(t){this._dropInstances.delete(t)}removeDragItem(t){this._dragInstances.delete(t),this.stopDragging(t),this._dragInstances.size===0&&this._document.removeEventListener("touchmove",this._persistentTouchmoveListener,Qa)}startDragging(t,i){if(!(this._activeDragInstances().indexOf(t)>-1)&&(this._loadResets(),this._activeDragInstances.update(e=>[...e,t]),this._activeDragInstances().length===1)){let e=i.type.startsWith("touch");this._globalListeners.set(e?"touchend":"mouseup",{handler:c=>this.pointerUp.next(c),options:!0}).set("scroll",{handler:c=>this.scroll.next(c),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Qa}),e||this._globalListeners.set("mousemove",{handler:c=>this.pointerMove.next(c),options:Qa}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((c,p)=>{this._document.addEventListener(p,c.handler,c.options)})})}}stopDragging(t){this._activeDragInstances.update(i=>{let e=i.indexOf(t);return e>-1?(i.splice(e,1),[...i]):i}),this._activeDragInstances().length===0&&this._clearGlobalListeners()}isDragging(t){return this._activeDragInstances().indexOf(t)>-1}scrolled(t){let i=[this.scroll];return t&&t!==this._document&&i.push(new gn(e=>this._ngZone.runOutsideAngular(()=>{let p=h=>{this._activeDragInstances().length&&e.next(h)};return t.addEventListener("scroll",p,!0),()=>{t.removeEventListener("scroll",p,!0)}}))),To(...i)}ngOnDestroy(){this._dragInstances.forEach(t=>this.removeDragItem(t)),this._dropInstances.forEach(t=>this.removeDropContainer(t)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((t,i)=>{this._document.removeEventListener(i,t.handler,t.options)}),this._globalListeners.clear()}_loadResets(){if(!Za.has(this._appRef)){Za.add(this._appRef);let t=Fo(_k,{environmentInjector:this._environmentInjector});this._appRef.onDestroy(()=>{Za.delete(this._appRef),Za.size===0&&t.destroy()})}}};r.\u0275fac=function(i){return new(i||r)(Me(ti),Me(Wt))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),bk={dragStartThreshold:5,pointerDirectionChangeThreshold:5},Ad=(()=>{let r=class r{constructor(t,i,e,c){this._document=t,this._ngZone=i,this._viewportRuler=e,this._dragDropRegistry=c}createDrag(t,i=bk){return new Id(t,i,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(t){return new Fd(t,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}};r.\u0275fac=function(i){return new(i||r)(Me(Wt),Me(ti),Me(dh),Me(vk))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})(),wh=new tn("CDK_DRAG_PARENT");var yk=new tn("CdkDragHandle");var Ah=new tn("CDK_DRAG_CONFIG"),Ck="cdk-drag",Oh=new tn("CdkDropList"),Lh=(()=>{let r=class r{get disabled(){return this._disabled||this.dropContainer&&this.dropContainer.disabled}set disabled(t){this._disabled=t,this._dragRef.disabled=this._disabled}constructor(t,i,e,c,p,h,w,N,L,V,I){this.element=t,this.dropContainer=i,this._ngZone=c,this._viewContainerRef=p,this._dir=w,this._changeDetectorRef=L,this._selfHandle=V,this._parentDrag=I,this._destroyed=new Ye,this._handles=new wl([]),this.started=new W,this.released=new W,this.ended=new W,this.entered=new W,this.exited=new W,this.dropped=new W,this.moved=new gn(G=>{let oe=this._dragRef.moved.pipe(Pn(q=>({source:this,pointerPosition:q.pointerPosition,event:q.event,delta:q.delta,distance:q.distance}))).subscribe(G);return()=>{oe.unsubscribe()}}),this._injector=ne(_n),this._dragRef=N.createDrag(t,{dragStartThreshold:h&&h.dragStartThreshold!=null?h.dragStartThreshold:5,pointerDirectionChangeThreshold:h&&h.pointerDirectionChangeThreshold!=null?h.pointerDirectionChangeThreshold:5,zIndex:h?.zIndex}),this._dragRef.data=this,r._dragInstances.push(this),h&&this._assignDefaults(h),i&&(this._dragRef._withDropContainer(i._dropListRef),i.addItem(this)),this._syncInputs(this._dragRef),this._handleEvents(this._dragRef)}getPlaceholderElement(){return this._dragRef.getPlaceholderElement()}getRootElement(){return this._dragRef.getRootElement()}reset(){this._dragRef.reset()}getFreeDragPosition(){return this._dragRef.getFreeDragPosition()}setFreeDragPosition(t){this._dragRef.setFreeDragPosition(t)}ngAfterViewInit(){Ac(()=>{this._updateRootElement(),this._setupHandlesListener(),this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)},{injector:this._injector})}ngOnChanges(t){let i=t.rootElementSelector,e=t.freeDragPosition;i&&!i.firstChange&&this._updateRootElement(),e&&!e.firstChange&&this.freeDragPosition&&this._dragRef.setFreeDragPosition(this.freeDragPosition)}ngOnDestroy(){this.dropContainer&&this.dropContainer.removeItem(this);let t=r._dragInstances.indexOf(this);t>-1&&r._dragInstances.splice(t,1),this._ngZone.runOutsideAngular(()=>{this._handles.complete(),this._destroyed.next(),this._destroyed.complete(),this._dragRef.dispose()})}_addHandle(t){let i=this._handles.getValue();i.push(t),this._handles.next(i)}_removeHandle(t){let i=this._handles.getValue(),e=i.indexOf(t);e>-1&&(i.splice(e,1),this._handles.next(i))}_setPreviewTemplate(t){this._previewTemplate=t}_resetPreviewTemplate(t){t===this._previewTemplate&&(this._previewTemplate=null)}_setPlaceholderTemplate(t){this._placeholderTemplate=t}_resetPlaceholderTemplate(t){t===this._placeholderTemplate&&(this._placeholderTemplate=null)}_updateRootElement(){let t=this.element.nativeElement,i=t;this.rootElementSelector&&(i=t.closest!==void 0?t.closest(this.rootElementSelector):t.parentElement?.closest(this.rootElementSelector)),this._dragRef.withRootElement(i||t)}_getBoundaryElement(){let t=this.boundaryElement;return t?typeof t=="string"?this.element.nativeElement.closest(t):ri(t):null}_syncInputs(t){t.beforeStarted.subscribe(()=>{if(!t.isDragging()){let i=this._dir,e=this.dragStartDelay,c=this._placeholderTemplate?{template:this._placeholderTemplate.templateRef,context:this._placeholderTemplate.data,viewContainer:this._viewContainerRef}:null,p=this._previewTemplate?{template:this._previewTemplate.templateRef,context:this._previewTemplate.data,matchSize:this._previewTemplate.matchSize,viewContainer:this._viewContainerRef}:null;t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.dragStartDelay=typeof e=="object"&&e?e:Ya(e),t.constrainPosition=this.constrainPosition,t.previewClass=this.previewClass,t.withBoundaryElement(this._getBoundaryElement()).withPlaceholderTemplate(c).withPreviewTemplate(p).withPreviewContainer(this.previewContainer||"global"),i&&t.withDirection(i.value)}}),t.beforeStarted.pipe(fn(1)).subscribe(()=>{if(this._parentDrag){t.withParent(this._parentDrag._dragRef);return}let i=this.element.nativeElement.parentElement;for(;i;){if(i.classList.contains(Ck)){t.withParent(r._dragInstances.find(e=>e.element.nativeElement===i)?._dragRef||null);break}i=i.parentElement}})}_handleEvents(t){t.started.subscribe(i=>{this.started.emit({source:this,event:i.event}),this._changeDetectorRef.markForCheck()}),t.released.subscribe(i=>{this.released.emit({source:this,event:i.event})}),t.ended.subscribe(i=>{this.ended.emit({source:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:i.container.data,item:this,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:i.container.data,item:this})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,isPointerOverContainer:i.isPointerOverContainer,item:this,distance:i.distance,dropPoint:i.dropPoint,event:i.event})})}_assignDefaults(t){let{lockAxis:i,dragStartDelay:e,constrainPosition:c,previewClass:p,boundaryElement:h,draggingDisabled:w,rootElementSelector:N,previewContainer:L}=t;this.disabled=w??!1,this.dragStartDelay=e||0,i&&(this.lockAxis=i),c&&(this.constrainPosition=c),p&&(this.previewClass=p),h&&(this.boundaryElement=h),N&&(this.rootElementSelector=N),L&&(this.previewContainer=L)}_setupHandlesListener(){this._handles.pipe(ei(t=>{let i=t.map(e=>e.element);this._selfHandle&&this.rootElementSelector&&i.push(this.element),this._dragRef.withHandles(i)}),lr(t=>To(...t.map(i=>i._stateChanges.pipe(ar(i))))),xt(this._destroyed)).subscribe(t=>{let i=this._dragRef,e=t.element.nativeElement;t.disabled?i.disableHandle(e):i.enableHandle(e)})}};r._dragInstances=[],r.\u0275fac=function(i){return new(i||r)(D(It),D(Oh,12),D(Wt),D(ti),D(Io),D(Ah,8),D(Dd,8),D(Ad),D(wi),D(yk,10),D(wh,12))},r.\u0275dir=_t({type:r,selectors:[["","cdkDrag",""]],hostAttrs:[1,"cdk-drag"],hostVars:4,hostBindings:function(i,e){i&2&&pt("cdk-drag-disabled",e.disabled)("cdk-drag-dragging",e._dragRef.isDragging())},inputs:{data:[Dt.None,"cdkDragData","data"],lockAxis:[Dt.None,"cdkDragLockAxis","lockAxis"],rootElementSelector:[Dt.None,"cdkDragRootElement","rootElementSelector"],boundaryElement:[Dt.None,"cdkDragBoundary","boundaryElement"],dragStartDelay:[Dt.None,"cdkDragStartDelay","dragStartDelay"],freeDragPosition:[Dt.None,"cdkDragFreeDragPosition","freeDragPosition"],disabled:[Dt.HasDecoratorInputTransform,"cdkDragDisabled","disabled",hr],constrainPosition:[Dt.None,"cdkDragConstrainPosition","constrainPosition"],previewClass:[Dt.None,"cdkDragPreviewClass","previewClass"],previewContainer:[Dt.None,"cdkDragPreviewContainer","previewContainer"]},outputs:{started:"cdkDragStarted",released:"cdkDragReleased",ended:"cdkDragEnded",entered:"cdkDragEntered",exited:"cdkDragExited",dropped:"cdkDragDropped",moved:"cdkDragMoved"},exportAs:["cdkDrag"],standalone:!0,features:[Gt([{provide:wh,useExisting:r}]),aa,Be]});let a=r;return a})(),Ih=new tn("CdkDropListGroup");var Sk=0,Bh=(()=>{let r=class r{get disabled(){return this._disabled||!!this._group&&this._group.disabled}set disabled(t){this._dropListRef.disabled=this._disabled=t}constructor(t,i,e,c,p,h,w){this.element=t,this._changeDetectorRef=e,this._scrollDispatcher=c,this._dir=p,this._group=h,this._destroyed=new Ye,this.connectedTo=[],this.id=`cdk-drop-list-${Sk++}`,this.enterPredicate=()=>!0,this.sortPredicate=()=>!0,this.dropped=new W,this.entered=new W,this.exited=new W,this.sorted=new W,this._unsortedItems=new Set,this._dropListRef=i.createDropList(t),this._dropListRef.data=this,w&&this._assignDefaults(w),this._dropListRef.enterPredicate=(N,L)=>this.enterPredicate(N.data,L.data),this._dropListRef.sortPredicate=(N,L,V)=>this.sortPredicate(N,L.data,V.data),this._setupInputSyncSubscription(this._dropListRef),this._handleEvents(this._dropListRef),r._dropLists.push(this),h&&h._items.add(this)}addItem(t){this._unsortedItems.add(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}removeItem(t){this._unsortedItems.delete(t),this._dropListRef.isDragging()&&this._syncItemsWithRef()}getSortedItems(){return Array.from(this._unsortedItems).sort((t,i)=>t._dragRef.getVisibleElement().compareDocumentPosition(i._dragRef.getVisibleElement())&Node.DOCUMENT_POSITION_FOLLOWING?-1:1)}ngOnDestroy(){let t=r._dropLists.indexOf(this);t>-1&&r._dropLists.splice(t,1),this._group&&this._group._items.delete(this),this._unsortedItems.clear(),this._dropListRef.dispose(),this._destroyed.next(),this._destroyed.complete()}_setupInputSyncSubscription(t){this._dir&&this._dir.change.pipe(ar(this._dir.value),xt(this._destroyed)).subscribe(i=>t.withDirection(i)),t.beforeStarted.subscribe(()=>{let i=lh(this.connectedTo).map(e=>{if(typeof e=="string"){let c=r._dropLists.find(p=>p.id===e);return c}return e});if(this._group&&this._group._items.forEach(e=>{i.indexOf(e)===-1&&i.push(e)}),!this._scrollableParentsResolved){let e=this._scrollDispatcher.getAncestorScrollContainers(this.element).map(c=>c.getElementRef().nativeElement);this._dropListRef.withScrollableParents(e),this._scrollableParentsResolved=!0}t.disabled=this.disabled,t.lockAxis=this.lockAxis,t.sortingDisabled=this.sortingDisabled,t.autoScrollDisabled=this.autoScrollDisabled,t.autoScrollStep=Ya(this.autoScrollStep,2),t.connectedTo(i.filter(e=>e&&e!==this).map(e=>e._dropListRef)).withOrientation(this.orientation)})}_handleEvents(t){t.beforeStarted.subscribe(()=>{this._syncItemsWithRef(),this._changeDetectorRef.markForCheck()}),t.entered.subscribe(i=>{this.entered.emit({container:this,item:i.item.data,currentIndex:i.currentIndex})}),t.exited.subscribe(i=>{this.exited.emit({container:this,item:i.item.data}),this._changeDetectorRef.markForCheck()}),t.sorted.subscribe(i=>{this.sorted.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,container:this,item:i.item.data})}),t.dropped.subscribe(i=>{this.dropped.emit({previousIndex:i.previousIndex,currentIndex:i.currentIndex,previousContainer:i.previousContainer.data,container:i.container.data,item:i.item.data,isPointerOverContainer:i.isPointerOverContainer,distance:i.distance,dropPoint:i.dropPoint,event:i.event}),this._changeDetectorRef.markForCheck()}),To(t.receivingStarted,t.receivingStopped).subscribe(()=>this._changeDetectorRef.markForCheck())}_assignDefaults(t){let{lockAxis:i,draggingDisabled:e,sortingDisabled:c,listAutoScrollDisabled:p,listOrientation:h}=t;this.disabled=e??!1,this.sortingDisabled=c??!1,this.autoScrollDisabled=p??!1,this.orientation=h||"vertical",i&&(this.lockAxis=i)}_syncItemsWithRef(){this._dropListRef.withItems(this.getSortedItems().map(t=>t._dragRef))}};r._dropLists=[],r.\u0275fac=function(i){return new(i||r)(D(It),D(Ad),D(wi),D(sh),D(Dd,8),D(Ih,12),D(Ah,8))},r.\u0275dir=_t({type:r,selectors:[["","cdkDropList",""],["cdk-drop-list"]],hostAttrs:[1,"cdk-drop-list"],hostVars:7,hostBindings:function(i,e){i&2&&(ci("id",e.id),pt("cdk-drop-list-disabled",e.disabled)("cdk-drop-list-dragging",e._dropListRef.isDragging())("cdk-drop-list-receiving",e._dropListRef.isReceiving()))},inputs:{connectedTo:[Dt.None,"cdkDropListConnectedTo","connectedTo"],data:[Dt.None,"cdkDropListData","data"],orientation:[Dt.None,"cdkDropListOrientation","orientation"],id:"id",lockAxis:[Dt.None,"cdkDropListLockAxis","lockAxis"],disabled:[Dt.HasDecoratorInputTransform,"cdkDropListDisabled","disabled",hr],sortingDisabled:[Dt.HasDecoratorInputTransform,"cdkDropListSortingDisabled","sortingDisabled",hr],enterPredicate:[Dt.None,"cdkDropListEnterPredicate","enterPredicate"],sortPredicate:[Dt.None,"cdkDropListSortPredicate","sortPredicate"],autoScrollDisabled:[Dt.HasDecoratorInputTransform,"cdkDropListAutoScrollDisabled","autoScrollDisabled",hr],autoScrollStep:[Dt.None,"cdkDropListAutoScrollStep","autoScrollStep"]},outputs:{dropped:"cdkDropListDropped",entered:"cdkDropListEntered",exited:"cdkDropListExited",sorted:"cdkDropListSorted"},exportAs:["cdkDropList"],standalone:!0,features:[Gt([{provide:Ih,useValue:void 0},{provide:Oh,useExisting:r}]),aa]});let a=r;return a})();var Vh=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({providers:[Ad],imports:[ch]});let a=r;return a})();var Rh=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t}getReportColumnDropdown(t){return this.get(Vp)}getReportData(t){return this.post(Rp,t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var jh=a=>({active:a});function Ek(a,r){if(a&1){let l=O();o(0,"li",26),g("click",function(){let i=b(l),e=i.$implicit,c=i.index,p=S();return y(p.selectLeftList(e,c))}),s(1),n()}if(a&2){let l=r.$implicit,t=S();m("ngClass",ge(2,jh,t.getLeftHighlights(l)=="active")),d(),_(l.displayName)}}function Tk(a,r){if(a&1){let l=O();o(0,"li",27),g("click",function(){let i=b(l),e=i.$implicit,c=i.index,p=S();return y(p.selectRightList(e,c))}),s(1),n()}if(a&2){let l=r.$implicit,t=S();m("ngClass",ge(2,jh,t.getRightHighlights(l)=="active")),d(),_(l.displayName)}}function wk(a,r){if(a&1&&(o(0,"ng-option",28),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l.displayName)}}function Ik(a,r){if(a&1&&(o(0,"ng-option",28),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function Nk(a,r){if(a&1){let l=O();o(0,"ng-select",31),g("change",function(i){b(l);let e=S().$implicit,c=S();return y(c.onMasterValueSelection(i,e))}),v(1,Ik,2,2,"ng-option",20),n()}if(a&2){let l=S().$implicit,t=S();d(),m("ngForOf",t.reportFilters[l.columnName])}}function Fk(a,r){if(a&1){let l=O();o(0,"div",32)(1,"input",33,0),g("dateSelect",function(i){b(l);let e=S().$implicit,c=S();return y(c.onDateSelect(e,i))}),n(),o(3,"button",34),g("click",function(){b(l);let i=R(2);return y(i.toggle())}),E(4,"img",35),n()()}if(a&2){let l=S(2);d(),m("autoClose",!0)("maxDate",l.today)}}function Mk(a,r){if(a&1&&(o(0,"div",16)(1,"div",17)(2,"label",18),s(3),n(),v(4,Nk,2,1,"ng-select",29)(5,Fk,5,2,"div",30),n()()),a&2){let l=r.$implicit;d(3),_(l.displayName),d(),m("ngIf",l.filterFormat=="DropDown"),d(),m("ngIf",l.filterFormat=="FromToTextField")}}function Pk(a,r){if(a&1&&(o(0,"th"),s(1),K(2,"titlecase"),n()),a&2){let l=r.$implicit;d(),_(mr(2,1,l))}}function kk(a,r){if(a&1&&(o(0,"td"),s(1),n()),a&2){let l=r.$implicit,t=S().$implicit;d(),_(t[l])}}function Ak(a,r){if(a&1&&(o(0,"tr"),v(1,kk,2,1,"td",24),n()),a&2){let l=S();d(),m("ngForOf",l.getKeys())}}function Ok(a,r){a&1&&(o(0,"div",36),s(1,` Loading...
`),n())}var Gh=(()=>{let r=class r{constructor(t,i,e){this.adhocReportService=t,this.toastr=i,this.exportAsService=e,this.exportAsConfig={type:"xlsx",elementIdOrContent:"excelFormat"},this.loadSpinner=!0,this.colFiltersData=[],this.columnsList=[],this.filtersList=[],this.reportFilters=[],this.leftSelections=[],this.rightSelections=[],this.selectedColumnsList=[],this.masterSelectedFilters=[],this.masterSelectedFiltersValue=[],this.today=ne(ht).getToday(),this.selectedFromDate="",this.reportListing=[]}ngOnInit(){this.getReportData()}drop(t){kd(this.selectedColumnsList,t.previousIndex,t.currentIndex)}getReportData(){this.adhocReportService.getReportColumnDropdown("").subscribe(t=>{this.colFiltersData=t.adHocReportsColumnFilter,this.columnsList=t.adHocReportsColumnFilter.filter(i=>i.type==="C"),this.filtersList=t.adHocReportsColumnFilter.filter(i=>i.type==="F"),this.reportFilters=t.filters,this.loadSpinner=!1},t=>{this.loadSpinner=!1})}onSingleSelect(){this.selectedColumnsList=this.selectedColumnsList.concat(this.leftSelections),this.leftSelections.forEach(t=>{let i=this.columnsList.findIndex(e=>e.columnName==t.columnName);this.columnsList.splice(i,1)}),this.leftSelections=[]}onSelectAll(){this.selectedColumnsList=this.colFiltersData.filter(t=>t.type==="C"),this.columnsList=[],this.leftSelections=[]}onSingleDeselect(){this.columnsList=this.columnsList.concat(this.rightSelections),this.rightSelections.forEach(t=>{let i=this.selectedColumnsList.findIndex(e=>e.columnName==t.columnName);this.selectedColumnsList.splice(i,1)}),this.rightSelections=[]}onDeselectAll(){this.selectedColumnsList=[],this.columnsList=this.colFiltersData.filter(t=>t.type==="C"),this.rightSelections=[]}selectLeftList(t,i){if(this.leftSelections.find(e=>e.columnName==t.columnName)){let e=this.leftSelections.findIndex(c=>c.columnName==t.columnName);this.leftSelections.splice(e,1)}else this.leftSelections.push(t)}selectRightList(t,i){if(this.rightSelections.find(e=>e.columnName==t.columnName)){let e=this.rightSelections.findIndex(c=>c.columnName==t.columnName);this.rightSelections.splice(e,1)}else this.rightSelections.push(t)}getLeftHighlights(t){return this.leftSelections.find(e=>e.columnName==t.columnName)?"active":""}getRightHighlights(t){return this.rightSelections.find(e=>e.columnName==t.columnName)?"active":""}onMasterValueSelection(t,i){let e={columnName:i.columnName,value:t},c=this.masterSelectedFiltersValue.findIndex(p=>p.columnName==i.columnName);c<0?this.masterSelectedFiltersValue.push(e):this.masterSelectedFiltersValue[c]=e}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day;this.selectedFromDate=i.year+"-"+e.toString()+"-"+c.toString();let p={columnName:t.columnName,value:this.selectedFromDate};this.masterSelectedFiltersValue.push(p)}onGenerateReport(){this.loadSpinner=!0;let t={filters:[{supplierName:this.masterSelectedFiltersValue.find(i=>i.columnName=="SupplierName")?.value||"",supplierCode:this.masterSelectedFiltersValue.find(i=>i.columnName=="SupplierCode")?.value||"",paymentAdviceNo:this.masterSelectedFiltersValue.find(i=>i.columnName=="PaymentAdviceNo")?.value||"",location:this.masterSelectedFiltersValue.find(i=>i.columnName=="Location")?.value||"",biltiNumber:this.masterSelectedFiltersValue.find(i=>i.columnName=="BiltiNumber")?.value||"",frlrNumber:this.masterSelectedFiltersValue.find(i=>i.columnName=="FRLRNumber")?.value||"",vehicleNumber:this.masterSelectedFiltersValue.find(i=>i.columnName=="VehicleNumber")?.value||"",vehicleSize:this.masterSelectedFiltersValue.find(i=>i.columnName=="VehicleSize")?.value||"",freightCode:this.masterSelectedFiltersValue.find(i=>i.columnName=="FreightCode")?.value||"",source:this.masterSelectedFiltersValue.find(i=>i.columnName=="Source")?.value||"",destination:this.masterSelectedFiltersValue.find(i=>i.columnName=="Destination")?.value||"",status:this.masterSelectedFiltersValue.find(i=>i.columnName=="Status")?.value||"",biltiCreationFromDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="BiltiCreationDate")?.value||"2000-01-01T15:13:57.562Z",biltiCreationToDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="BiltiCreationDate")?.value||"2000-01-01T15:13:57.562Z",biltiBillProcessFromDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="BiltiBillProcessFromDate")?.value||"2000-01-01T15:13:57.562Z",biltiBillProcessToDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="BiltiBillProcessFromDate")?.value||"2000-01-01T15:13:57.562Z",actionByMaterialTeamFromDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="ActionByMaterialTeamDate")?.value||"2000-01-01T15:13:57.562Z",actionByMaterialTeamToDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="ActionByMaterialTeamDate")?.value||"2000-01-01T15:13:57.562Z",actionByMaterialHeadFromDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="ActionByMaterialHeadDate")?.value||"2000-01-01T15:13:57.562Z",actionByMaterialHeadToDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="ActionByMaterialHeadDate")?.value||"2000-01-01T15:13:57.562Z",actionByAccountHeadFromDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="ActionByAccountHeadDate")?.value||"2000-01-01T15:13:57.562Z",actionByAccountHeadToDate:this.masterSelectedFiltersValue.find(i=>i.columnName=="ActionByAccountHeadDate")?.value||"2000-01-01T15:13:57.562Z"}],columns:this.selectedColumnsList.map(i=>i.columnName)};this.adhocReportService.getReportData(t).subscribe(i=>{if(i.length){let e=i.filter((c,p)=>p>1);this.reportListing=e}this.loadSpinner=!1},i=>{this.toastr.error(i.error.details.map(e=>e.description).join("<br>")),this.loadSpinner=!1})}getKeys(){return this.reportListing.length?Object.keys(this.reportListing[2]):[]}exportData(){this.exportAsService.save(this.exportAsConfig,"adhocReport").subscribe(()=>{})}};r.\u0275fac=function(i){return new(i||r)(D(Rh),D(Z),D(ha))},r.\u0275cmp=k({type:r,selectors:[["app-adhoc-report"]],decls:46,vars:14,consts:[["fromDt","ngbDatepicker"],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click","disabled"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click","disabled"],[1,"filter-section"],[1,"filters-box"],[1,"twoSide-filter"],[1,"selection-box"],[3,"ngClass","click",4,"ngFor","ngForOf"],[1,"buttons-selection"],[1,"custom-button-filters",3,"click","disabled"],["cdkDropList","",1,"selection-box",3,"cdkDropListDropped"],["cdkDrag","",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select filter name",1,"input-field",3,"change","multiple"],[3,"value",4,"ngFor","ngForOf"],["class","col-lg-2",4,"ngFor","ngForOf"],[1,"filter-section",2,"max-height","400px","overflow","auto"],["id","exportTable",1,"custom-table"],[4,"ngFor","ngForOf"],["class","spinner",4,"ngIf"],[3,"click","ngClass"],["cdkDrag","",3,"click","ngClass"],[3,"value"],["class","input-field",3,"change",4,"ngIf"],["class","input-group datepicker",4,"ngIf"],[1,"input-field",3,"change"],[1,"input-group","datepicker"],["placeholder","yyyy-mm-dd","name","fromDt","ngbDatepicker","",1,"form-control",3,"dateSelect","autoClose","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"h1"),s(2,"Adhoc Report"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return e.exportData()}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return e.onGenerateReport()}),s(8,"Generate Report"),n()()(),o(9,"div",6)(10,"div",7)(11,"div",8)(12,"div",9),v(13,Ek,2,4,"li",10),n(),o(14,"div",11)(15,"button",12),g("click",function(){return e.onSingleSelect()}),s(16,"Select >"),n(),o(17,"button",12),g("click",function(){return e.onSelectAll()}),s(18,"Select All >>"),n(),o(19,"button",12),g("click",function(){return e.onSingleDeselect()}),s(20,"< Deselect"),n(),o(21,"button",12),g("click",function(){return e.onDeselectAll()}),s(22,"<< Deselect All"),n()(),o(23,"div",13),g("cdkDropListDropped",function(p){return e.drop(p)}),v(24,Tk,2,4,"li",14),n()()()(),o(25,"div",6)(26,"div",7)(27,"div",15)(28,"div",16)(29,"div",17)(30,"label",18),s(31,"Master Filters"),n(),o(32,"ng-select",19),g("change",function(p){return e.masterSelectedFilters=p}),v(33,wk,2,2,"ng-option",20),n()()()(),o(34,"div",15),v(35,Mk,6,3,"div",21),n()()(),o(36,"div",22)(37,"div",7)(38,"div",23)(39,"table")(40,"thead")(41,"tr"),v(42,Pk,3,3,"th",24),n()(),o(43,"tbody"),v(44,Ak,2,1,"tr",24),n()()()()(),v(45,Ok,2,0,"div",25)),i&2&&(d(4),m("disabled",!e.reportListing.length),d(3),m("disabled",!e.selectedColumnsList.length),d(6),m("ngForOf",e.columnsList),d(2),m("disabled",!e.leftSelections.length),d(2),m("disabled",!e.columnsList.length),d(2),m("disabled",!e.rightSelections.length),d(2),m("disabled",!e.selectedColumnsList.length),d(3),m("ngForOf",e.selectedColumnsList),d(8),m("multiple",!0),d(),m("ngForOf",e.filtersList),d(2),m("ngForOf",e.masterSelectedFilters),d(7),m("ngForOf",e.getKeys()),d(2),m("ngForOf",e.reportListing),d(),m("ngIf",e.loadSpinner))},dependencies:[ae,$,z,le,se,Tt,Bh,Lh,Gc],styles:[".twoSide-filter[_ngcontent-%COMP%]{display:flex;column-gap:25px}.twoSide-filter[_ngcontent-%COMP%]   .selection-box[_ngcontent-%COMP%]{width:240px;max-width:240px;min-width:240px;background-color:var(--themeBg);max-height:250px;min-height:250px;overflow:auto}.twoSide-filter[_ngcontent-%COMP%]   .selection-box[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;padding:7px 10px;cursor:pointer}.twoSide-filter[_ngcontent-%COMP%]   .selection-box[_ngcontent-%COMP%]   li.active[_ngcontent-%COMP%]{background-color:var(--gray4)}.twoSide-filter[_ngcontent-%COMP%]   .buttons-selection[_ngcontent-%COMP%]{width:150px;max-width:150px;min-width:150px;display:flex;align-content:center;flex-wrap:wrap}.twoSide-filter[_ngcontent-%COMP%]   .buttons-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}.twoSide-filter[_ngcontent-%COMP%]   .buttons-selection[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:last-child{margin-bottom:0}[cdkDropList][_ngcontent-%COMP%]{padding:10px;border:1px solid #ccc;border-radius:4px;background:#f9f9f9}[cdkDrag][_ngcontent-%COMP%]{padding:10px;margin:0 0 5px;border:1px solid #ccc;border-radius:4px;background:#fff;cursor:move;display:block;text-align:center}"]});let a=r;return a})();var Lk=["table"];function Bk(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function Vk(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function Rk(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function jk(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function Gk(a,r){if(a&1&&(o(0,"ng-option",19),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Wh=(()=>{let r=class r{constructor(){this.filters=[],this.batchId=null,this.invoiceNumber=void 0,this.transactionCode=void 0,this.employeerCode=void 0,this.approverEmployeerCode=void 0,this.invoiceFromDate=void 0,this.invoiceToDate=void 0,this.accountingFromDate=void 0,this.accountingToDate=void 0,this.filterSearchObj=new W,this.exportData=new W}ngOnInit(){}handleSearch(){let t={batchId:this.batchId,invoiceNumber:this.invoiceNumber,transactionCode:this.transactionCode,invoiceFromDate:this.invoiceFromDate,invoiceToDate:this.invoiceToDate,accountingFromDate:this.accountingFromDate,accountingToDate:this.accountingToDate,employeerCode:this.employeerCode,approverEmployeerCode:this.approverEmployeerCode};this.filterSearchObj.emit(t)}onClearFilter(){this.batchId=null,this.invoiceNumber="",this.transactionCode="",this.invoiceFromDate=null,this.invoiceToDate=null,this.accountingFromDate=null,this.accountingToDate=null,this.employeerCode="",this.approverEmployeerCode="";let t={batchId:null,invoiceNumber:"",transactionCode:"",invoiceFromDate:null,invoiceToDate:null,accountingFromDate:null,accountingToDate:null,employeerCode:"",approverEmployeerCode:""};this.filterSearchObj.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-outbound-report-filter"]],viewQuery:function(i,e){if(i&1&&Le(Lk,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{filters:"filters"},outputs:{filterSearchObj:"filterSearchObj",exportData:"exportData"},decls:74,vars:16,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select Batch Id",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Invoice Number",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Transaction Code",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Employeer Code",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-lg-3"],["placeholder","Select Approver Employeer Code",1,"input-field",3,"ngModelChange","ngModel"],[1,"input-group","datepicker"],["type","date","placeholder","yyyy-mm-dd","name","fromDate",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-auto"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"col-lg-auto","ms-2"],[1,"custom-button-export","excel-button",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Batch Id"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.batchId,p)||(e.batchId=p),p}),v(7,Bk,2,2,"ng-option",6),n()()(),o(8,"div",2)(9,"div",3)(10,"label"),s(11,"Invoice Number"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.invoiceNumber,p)||(e.invoiceNumber=p),p}),v(13,Vk,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label"),s(17,"Transaction Code"),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.transactionCode,p)||(e.transactionCode=p),p}),v(19,Rk,2,2,"ng-option",6),n()()(),o(20,"div",2)(21,"div",3)(22,"label"),s(23,"Employeer Code"),n(),o(24,"ng-select",9),P("ngModelChange",function(p){return M(e.employeerCode,p)||(e.employeerCode=p),p}),v(25,jk,2,2,"ng-option",6),n()()(),o(26,"div",10)(27,"div",3)(28,"label"),s(29,"Approver Employeer Code"),n(),o(30,"ng-select",11),P("ngModelChange",function(p){return M(e.approverEmployeerCode,p)||(e.approverEmployeerCode=p),p}),v(31,Gk,2,2,"ng-option",6),n()()(),o(32,"div",2)(33,"div",3)(34,"label",4),s(35,"Invoice From Date"),n(),o(36,"div",12)(37,"input",13),P("ngModelChange",function(p){return M(e.invoiceFromDate,p)||(e.invoiceFromDate=p),p}),n()()()(),o(38,"div",2)(39,"div",3)(40,"label",4),s(41,"Invoice To Date"),n(),o(42,"div",12)(43,"input",13),P("ngModelChange",function(p){return M(e.invoiceToDate,p)||(e.invoiceToDate=p),p}),n()()()(),o(44,"div",2)(45,"div",3)(46,"label",4),s(47,"Accounting From Date"),n(),o(48,"div",12)(49,"input",13),P("ngModelChange",function(p){return M(e.accountingFromDate,p)||(e.accountingFromDate=p),p}),n()()()(),o(50,"div",2)(51,"div",3)(52,"label",4),s(53,"Accounting To Date"),n(),o(54,"div",12)(55,"input",13),P("ngModelChange",function(p){return M(e.accountingToDate,p)||(e.accountingToDate=p),p}),n()()()(),o(56,"div",14)(57,"div",3)(58,"label",15),s(59,"\xA0"),n(),o(60,"button",16),g("click",function(){return e.handleSearch()}),s(61," Search "),n()()(),o(62,"div",14)(63,"div",3)(64,"label",15),s(65,"\xA0"),n(),o(66,"button",16),g("click",function(){return e.onClearFilter()}),s(67," Clear "),n()()(),o(68,"div",17)(69,"div",3)(70,"label",15),s(71,"\xA0"),n(),o(72,"button",18),g("click",function(){return e.exportData.emit()}),s(73," Export "),n()()()()()),i&2&&(d(6),F("ngModel",e.batchId),d(),m("ngForOf",e.filters==null?null:e.filters.BatchId),d(5),F("ngModel",e.invoiceNumber),d(),m("ngForOf",e.filters==null?null:e.filters.InvoiceNumber),d(5),F("ngModel",e.transactionCode),d(),m("ngForOf",e.filters==null?null:e.filters.TransactionCode),d(5),F("ngModel",e.employeerCode),d(),m("ngForOf",e.filters==null?null:e.filters.EmployeerCode),d(5),F("ngModel",e.approverEmployeerCode),d(),m("ngForOf",e.filters==null?null:e.filters.ApproverEmployeerCode),d(6),F("ngModel",e.invoiceFromDate),d(6),F("ngModel",e.invoiceToDate),d(6),F("ngModel",e.accountingFromDate),d(6),F("ngModel",e.accountingToDate),d(5),m("disabled",!e.batchId&&!e.invoiceNumber&&!e.transactionCode&&!e.employeerCode&&!e.approverEmployeerCode&&!e.invoiceFromDate&&!e.invoiceToDate&&!e.accountingFromDate&&!e.accountingToDate),d(6),m("disabled",!e.batchId&&!e.invoiceNumber&&!e.transactionCode&&!e.employeerCode&&!e.approverEmployeerCode&&!e.invoiceFromDate&&!e.invoiceToDate&&!e.accountingFromDate&&!e.accountingToDate))},dependencies:[$,le,se,Ae,U,Y],styles:[".excel-button[_ngcontent-%COMP%]{height:30px}"]});let a=r;return a})();function Uk(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),n(),o(33,"td"),s(34),n(),o(35,"td"),s(36),n(),o(37,"td"),s(38),n(),o(39,"td"),s(40),n(),o(41,"td"),s(42),n(),o(43,"td"),s(44),n(),o(45,"td"),s(46),n(),o(47,"td"),s(48),n(),o(49,"td"),s(50),n(),o(51,"td"),s(52),n(),o(53,"td"),s(54),n(),o(55,"td"),s(56),n(),o(57,"td"),s(58),n()()),a&2){let l=r.$implicit;d(2),_((l==null?null:l.batchId)||"-"),d(2),_((l==null?null:l.category)||"-"),d(2),_((l==null?null:l.businessPlace)||"-"),d(2),_((l==null?null:l.companyCode)||"-"),d(2),_((l==null?null:l.debitCredit)||"-"),d(2),_((l==null?null:l.descText)||"-"),d(2),_((l==null?null:l.evidenceType)||"-"),d(2),_((l==null?null:l.exclusivePayment)||"-"),d(2),_((l==null?null:l.invoiceLineAmount)||"-"),d(2),_((l==null?null:l.invoiceLineId)||"-"),d(2),_((l==null?null:l.invoiceNo)||"-"),d(2),_((l==null?null:l.lineItem)||"-"),d(2),_((l==null?null:l.paymentGroup)||"-"),d(2),_((l==null?null:l.paymentMethodCode)||"-"),d(2),_((l==null?null:l.paymentTermsDate)||"-"),d(2),_((l==null?null:l.paymentTermsName)||"-"),d(2),_((l==null?null:l.profitCenter)||"-"),d(2),_((l==null?null:l.projectCode)||"-"),d(2),_((l==null?null:l.sectionCode)||"-"),d(2),_((l==null?null:l.segment1BusinessArea)||"-"),d(2),_((l==null?null:l.segment2CostCenter)||"-"),d(2),_((l==null?null:l.segment3GlAccount)||"-"),d(2),_((l==null?null:l.sourceName)||"-"),d(2),_((l==null?null:l.systemCode)||"-"),d(2),_((l==null?null:l.taxAmountInTc)||"-"),d(2),_((l==null?null:l.taxBaseAmountInTc)||"-"),d(2),_((l==null?null:l.taxJurisdictionCode)||"-"),d(2),_((l==null?null:l.taxRateCode)||"-"),d(2),_((l==null?null:l.vendorSiteCode)||"-")}}function Hk(a,r){a&1&&(o(0,"tr")(1,"td",7),s(2,"No Result Found"),n()())}var Uh=(()=>{let r=class r{constructor(t){this.activeModal=t,this.reportData=[]}ngOnInit(){}};r.\u0275fac=function(i){return new(i||r)(D(ut))},r.\u0275cmp=k({type:r,selectors:[["app-gl-taxation-out-bound"]],inputs:{reportData:"reportData"},decls:71,vars:2,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"d-flex","justify-content-end",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"custom-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["align","center","colspan","13"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," GL Taxation OutBound "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n()()(),o(6,"div",4)(7,"table")(8,"thead")(9,"tr")(10,"th"),s(11,"Batch Id"),n(),o(12,"th"),s(13,"Category"),n(),o(14,"th"),s(15,"Business Place"),n(),o(16,"th"),s(17,"Company Code"),n(),o(18,"th"),s(19,"Debit Credit"),n(),o(20,"th"),s(21,"Desc Text"),n(),o(22,"th"),s(23,"Evidence Type"),n(),o(24,"th"),s(25,"Exclusive Payment"),n(),o(26,"th"),s(27,"Invoice Line Amount"),n(),o(28,"th"),s(29,"Invoice Line Id"),n(),o(30,"th"),s(31,"Invoice No."),n(),o(32,"th"),s(33,"Line Item"),n(),o(34,"th"),s(35,"Payment Group"),n(),o(36,"th"),s(37,"Payment Method Code"),n(),o(38,"th"),s(39,"Payment Terms Date"),n(),o(40,"th"),s(41,"Payment Terms Name"),n(),o(42,"th"),s(43,"Profit Center"),n(),o(44,"th"),s(45,"Project Code"),n(),o(46,"th"),s(47,"Section Code"),n(),o(48,"th"),s(49,"Segment1 Business Area"),n(),o(50,"th"),s(51,"Segment 2 Cost Center"),n(),o(52,"th"),s(53,"Segment3 Gl Account"),n(),o(54,"th"),s(55,"Source Name"),n(),o(56,"th"),s(57,"System Code"),n(),o(58,"th"),s(59,"Tax Amount InTc"),n(),o(60,"th"),s(61,"Tax Base Amount InTc"),n(),o(62,"th"),s(63,"Tax Jurisdiction Code"),n(),o(64,"th"),s(65,"Tax Rate Code"),n(),o(66,"th"),s(67,"Vendor Site Code"),n()()(),o(68,"tbody"),v(69,Uk,59,29,"tr",5)(70,Hk,3,0,"tr",6),n()()()()),i&2&&(d(69),m("ngForOf",e.reportData==null?null:e.reportData.glTaxationOutBound),d(),m("ngIf",(e.reportData==null?null:e.reportData.glTaxationOutBound.length)==0))},dependencies:[$,z],styles:[".custom-table[_ngcontent-%COMP%]{overflow:auto;min-height:300px}"]});let a=r;return a})();function zk(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),n()()),a&2){let l=r.$implicit;d(2),_((l==null?null:l.batchId)||"-"),d(2),_((l==null?null:l.category)||"-"),d(2),_((l==null?null:l.companyCode)||"-"),d(2),_((l==null?null:l.invoiceNo)||"-"),d(2),_((l==null?null:l.sourceName)||"-"),d(2),_((l==null?null:l.systemCode)||"-"),d(2),_((l==null?null:l.taxAmountInTc)||"-"),d(2),_((l==null?null:l.taxBaseInLc)||"-"),d(2),_((l==null?null:l.taxType)||"-"),d(2),_((l==null?null:l.tdsTaxCode)||"-"),d(2),_((l==null?null:l.withholdingTaxAmountDocumentCurrency)||"-"),d(2),_((l==null?null:l.withholdingTaxAmountSecondLocalCurrency)||"-"),d(2),_((l==null?null:l.withholdingTaxAmountThirdLocalCurrency)||"-"),d(2),_((l==null?null:l.wtaxBaseAmountForeignCurrency)||"-"),d(2),_((l==null?null:l.wtaxBaseAmountSecondLocalCurrency)||"-"),d(2),_((l==null?null:l.wtaxBaseAmountThirdLocalCurrency)||"-")}}function qk(a,r){a&1&&(o(0,"tr")(1,"td",7),s(2,"No Result Found"),n()())}var Hh=(()=>{let r=class r{constructor(t){this.activeModal=t,this.reportData=[]}ngOnInit(){}};r.\u0275fac=function(i){return new(i||r)(D(ut))},r.\u0275cmp=k({type:r,selectors:[["app-gl-tds-out-bound"]],inputs:{reportData:"reportData"},decls:45,vars:2,consts:[[1,"common-modal"],[1,"ngmodal-header"],[1,"d-flex","justify-content-end",2,"cursor","pointer",3,"click"],["src","assets/images/icons/close.svg","alt",""],[1,"custom-table"],[4,"ngFor","ngForOf"],[4,"ngIf"],["align","center","colspan","13"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"h3"),s(3," GL TDS OutBound "),o(4,"span",2),g("click",function(){return e.activeModal.dismiss("Cross click")}),E(5,"img",3),n()()(),o(6,"div",4)(7,"table")(8,"thead")(9,"tr")(10,"th"),s(11,"Batch Id"),n(),o(12,"th"),s(13,"Category"),n(),o(14,"th"),s(15,"Company Code"),n(),o(16,"th"),s(17,"Invoice No."),n(),o(18,"th"),s(19,"Source Name"),n(),o(20,"th"),s(21,"System Code"),n(),o(22,"th"),s(23,"Tax Amount InTc"),n(),o(24,"th"),s(25,"Tax Base InLc"),n(),o(26,"th"),s(27,"Tax Type"),n(),o(28,"th"),s(29,"TDS Tax Code"),n(),o(30,"th"),s(31,"Withholding TaxAmount Document Currency"),n(),o(32,"th"),s(33,"Withholding TaxAmount Second Local Currency"),n(),o(34,"th"),s(35,"Withholding TaxAmount Third Local Currency"),n(),o(36,"th"),s(37,"Wtax Base Amount Foreign Currency"),n(),o(38,"th"),s(39,"Wtax Base Amount Second Local Currency"),n(),o(40,"th"),s(41,"Wtax Base Amount Third Local Currency"),n()()(),o(42,"tbody"),v(43,zk,33,16,"tr",5)(44,qk,3,0,"tr",6),n()()()()),i&2&&(d(43),m("ngForOf",e.reportData==null?null:e.reportData.glTdsOutBound),d(),m("ngIf",(e.reportData==null?null:e.reportData.glTaxationOutBound.length)==0))},dependencies:[$,z],styles:[".custom-table[_ngcontent-%COMP%]{overflow:auto;min-height:300px}"]});let a=r;return a})();var Yk=["table"];function $k(a,r){if(a&1){let l=O();o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n(),o(27,"td"),s(28),n(),o(29,"td"),s(30),n(),o(31,"td"),s(32),n(),o(33,"td")(34,"img",3),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewGLTaxationBound(i))}),n()(),o(35,"td")(36,"img",4),g("click",function(){let i=b(l).$implicit,e=S();return y(e.onPreviewGLTdsOutBound(i))}),n()()()}if(a&2){let l=r.$implicit;d(2),_(l==null?null:l.batchId),d(2),_(l==null?null:l.employeeNumber),d(2),_(l==null?null:l.approverEmployeeNumber),d(2),_(l==null?null:l.companyCode),d(2),_(l==null?null:l.category),d(2),_(l==null?null:l.accountingDate),d(2),_(l==null?null:l.descText),d(2),_(l==null?null:l.exchangeRate),d(2),_(l==null?null:l.fixedValueAp),d(2),_(l==null?null:l.invoiceNo),d(2),_(l==null?null:l.invoiceNumberWithSupplierCode),d(2),_(l==null?null:l.invoiceCurrencyCode),d(2),_(l==null?null:l.invoiceDate),d(2),_(l==null?null:l.sourceName),d(2),_(l==null?null:l.systemCode),d(2),_(l==null?null:l.transactionCode)}}var zh=(()=>{let r=class r{constructor(t){this.modalService=t,this.reportData=[],this.exportHeader=new W}onPreviewGLTaxationBound(t){let i=this.modalService.open(Uh,{size:"xl",backdrop:"static",windowClass:"custom-modal",scrollable:!0});i.componentInstance.reportData=t,i.result.then(e=>{})}onPreviewGLTdsOutBound(t){let i=this.modalService.open(Hh,{size:"xl",backdrop:"static",windowClass:"custom-modal",scrollable:!0});i.componentInstance.reportData=t,i.result.then(e=>{})}ngOnChanges(t){t.reportData&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="GL Taxation OutBound"&&e.innerText.trim()!=="GL TDS OutBound"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)(D(qe))},r.\u0275cmp=k({type:r,selectors:[["app-outbound-report-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(Yk,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{reportData:"reportData"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:43,vars:1,consts:[["table",""],[1,"custom-table"],[4,"ngFor","ngForOf"],["src","assets/images/icons/link.svg","ngbTooltip","GL Taxation Bound","placement","top","alt","link",1,"pointer",3,"click"],["src","assets/images/icons/link.svg","ngbTooltip","GL TDS Bound","placement","top","alt","link",1,"pointer",3,"click"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table",null,0)(3,"thead")(4,"tr")(5,"th"),s(6,"Batch Id"),n(),o(7,"th"),s(8,"Employee No."),n(),o(9,"th"),s(10,"Approver Employee No."),n(),o(11,"th"),s(12,"Company Code"),n(),o(13,"th"),s(14,"Category"),n(),o(15,"th"),s(16,"Accounting date"),n(),o(17,"th"),s(18,"Desc Text"),n(),o(19,"th"),s(20,"Exchange Rate"),n(),o(21,"th"),s(22,"Fixed Value AP"),n(),o(23,"th"),s(24,"Invoice No."),n(),o(25,"th"),s(26,"Invoice No. With Supplier Code"),n(),o(27,"th"),s(28,"Invoice Currency Code"),n(),o(29,"th"),s(30,"Invoice Date"),n(),o(31,"th"),s(32,"Source Name"),n(),o(33,"th"),s(34,"System Code"),n(),o(35,"th"),s(36,"Transaction Code"),n(),o(37,"th"),s(38,"GL Taxation OutBound"),n(),o(39,"th"),s(40,"GL TDS OutBound"),n()()(),o(41,"tbody"),v(42,$k,37,16,"tr",2),n()()()),i&2&&(d(42),m("ngForOf",e.reportData==null?null:e.reportData.apGlOutBound))},dependencies:[$,be]});let a=r;return a})();var Zk=a=>({"d-none":a}),Kk=a=>({isFilters:a});function Jk(a,r){a&1&&(o(0,"div",13),s(1," Loading... "),n())}var qh=(()=>{let r=class r{constructor(t,i,e){this.reportService=t,this.xlsxService=i,this.toastr=e,this.outboundData=[],this.count=10,this.loadSpinner=!0,this.isFilters=!0,this.filters=[],this.reportData=[],this.currentPage=1,this.totalReports=0,this.headers=[]}ngOnInit(){this.getReports()}getReports(t=0,i=this.count,e=this.searchedData){let c={batchId:e?.batchId||null,invoiceNumber:e?.invoiceNumber||"",transactionCode:e?.transactionCode||"",invoiceFromDate:e?.invoiceFromDate||null,invoiceToDate:e?.invoiceToDate||null,accountingFromDate:e?.accountingFromDate||null,accountingToDate:e?.accountingToDate||null,employeerCode:e?.employeerCode||"",approverEmployeerCode:e?.approverEmployeerCode||""};this.reportService.getOutboundData(c,t,i).subscribe(p=>{this.reportData=p,this.totalReports=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.currentPage=1,this.getReports(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getReports(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getReports(0,this.count,this.searchedData)}onExportHeader(t){this.headers=t}exportData(t="Outbound Report",i="GL Taxation OutBound",e="GL TDS OutBound"){let c={batchId:this.searchedData?.batchId||null,invoiceNumber:this.searchedData?.invoiceNumber||"",transactionCode:this.searchedData?.transactionCode||"",invoiceFromDate:this.searchedData?.invoiceFromDate||null,invoiceToDate:this.searchedData?.invoiceToDate||null,accountingFromDate:this.searchedData?.accountingFromDate||null,accountingToDate:this.searchedData?.accountingToDate||null,employeerCode:this.searchedData?.employeerCode||"",approverEmployeerCode:this.searchedData?.approverEmployeerCode||""};if(this.totalReports===0){this.toastr.error("Can not export with 0 rows!");return}this.reportService.getOutboundData(c,0,this.totalReports).subscribe(p=>{let h=p.apGlOutBound.map(I=>({batchId:I?.batchId||null,employeeNumber:I?.employeeNumber||"",approverEmployeeNumber:I?.approverEmployeeNumber||"",companyCode:I?.companyCode||"",category:I?.category||"",accountingDate:I?.accountingDate||null,descText:I?.descText||"-",exchangeRate:I?.exchangeRate||"",fixedValueAp:I?.fixedValueAp||null,invoiceNo:I?.invoiceNo||"",invoiceNumberWithSupplierCode:I?.invoiceNumberWithSupplierCode||"",invoiceCurrencyCode:I?.invoiceCurrencyCode||"",invoiceDate:I?.invoiceDate||null,sourceName:I?.sourceName||"",systemCode:I?.systemCode||"",transactionCode:I?.transactionCode||""})),w=p.apGlOutBound.reduce((I,G)=>{let oe=G.glTaxationOutBound.map(q=>({batchId:q?.batchId||null,category:q?.category||"",businessPlace:q?.businessPlace||"",companyCode:q?.companyCode||"",debitCredit:q?.debitCredit||"",descText:q?.descText||"-",evidenceType:q?.evidenceType||"",exclusivePayment:q?.exclusivePayment||"",invoiceLineAmount:q?.invoiceLineAmount||"",invoiceLineId:q?.invoiceLineId||"",invoiceNo:q?.invoiceNo||"",lineItem:q?.lineItem||"",paymentGroup:q?.paymentGroup||"",paymentMethodCode:q?.paymentMethodCode||"",paymentTermsDate:q?.paymentTermsDate||"",paymentTermsName:q?.paymentTermsName||"",profitCenter:q?.profitCenter||"",projectCode:q?.projectCode||"",sectionCode:q?.sectionCode||"",segment1BusinessArea:q?.segment1BusinessArea||"",segment2CostCenter:q?.segment2CostCenter||"",segment3GlAccount:q?.segment3GlAccount||"",sourceName:q?.sourceName||"",systemCode:q?.systemCode||"",taxAmountInTc:q?.taxAmountInTc||"",taxBaseAmountInTc:q?.taxBaseAmountInTc||"",taxJurisdictionCode:q?.taxJurisdictionCode||"",taxRateCode:q?.taxRateCode||"",vendorSiteCode:q?.vendorSiteCode||""}));return I.concat(oe)},[]),N=p.apGlOutBound.reduce((I,G)=>{let oe=G.glTdsOutBound.map(q=>({batchId:q?.batchId||null,category:q?.category||"",companyCode:q?.companyCode||"",invoiceNo:q?.invoiceNo||"",sourceName:q?.sourceName||"",systemCode:q?.systemCode||"",taxAmountInTc:q?.taxAmountInTc||"",taxBaseInLc:q?.taxBaseInLc||"",taxType:q?.taxType||"",tdsTaxCode:q?.tdsTaxCode||"",withholdingTaxAmountDocumentCurrency:q?.withholdingTaxAmountDocumentCurrency||"",withholdingTaxAmountSecondLocalCurrency:q?.withholdingTaxAmountSecondLocalCurrency||"",withholdingTaxAmountThirdLocalCurrency:q?.withholdingTaxAmountThirdLocalCurrency||"",wtaxBaseAmountForeignCurrency:q?.wtaxBaseAmountForeignCurrency||"",wtaxBaseAmountSecondLocalCurrency:q?.wtaxBaseAmountSecondLocalCurrency||"",wtaxBaseAmountThirdLocalCurrency:q?.wtaxBaseAmountThirdLocalCurrency||""}));return I.concat(oe)},[]),L=["Batch Id","Category","Business Place","Company Code","Debit Credit","Desc Text","Evidence Type","Exclusive Payment","Invoice Line Amount","Invoice Line Id","Invoice No.","Line Item","Payment Group","Payment Method Code","Payment Terms Date","Payment Terms Name","Profit Center","Project Code","Section Code","Segment1 Business Area","Segment 2 Cost Center","Segment3 Gl Account","Source Name","System Code","Tax Amount InTc","Tax Base Amount InTc","Tax Jurisdiction Code","Tax Rate Code","Vendor Site Code"],V=["Batch Id","Category","Company Code","Invoice No.","Source Name","System Code","Tax Amount InTc","Tax Base InLc","Tax Type","TDS Tax Code","Withholding Tax Amount Document Currency","Withholding Tax Amount Second Local Currency","Withholding Tax Amount Third Local Currency","Wtax Base Amount Foreign Currency","Wtax Base Amount Second Local Currency","Wtax Base Amount Third Local Currency"];this.xlsxService.xlsxMultipleExport({[t]:{rows:h,headers:this.headers},[i]:{rows:w,headers:L},[e]:{rows:N,headers:V}},"Processing Report")},p=>{this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(zn),D(Je),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-outbound-report"]],decls:25,vars:21,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"filterSearchObj","exportData","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","reportData"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Processing Report"),n()(),o(3,"div",1)(4,"app-outbound-report-filter",2),g("filterSearchObj",function(p){return e.filteredData(p)})("exportData",function(){return e.exportData()}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-outbound-report-grid-table",6),g("exportHeader",function(p){return e.onExportHeader(p)}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,Jk,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(17,Zk,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",ge(19,Kk,e.isFilters)),d(3),m("reportData",e.reportData),d(2),m("collectionSize",e.totalReports),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,Wh,zh],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 312px)}"]});let a=r;return a})();function Xk(a,r){if(a&1&&(o(0,"ng-option",11),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Yh=(()=>{let r=class r{constructor(){this.getData=new W,this.batchNumber=void 0,this.filters=[]}handleSearch(){this.getData.emit({batchNumber:this.batchNumber})}onClearFilter(){this.batchNumber="",this.getData.emit({batchNumber:""})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-ap-outbound-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData"},decls:16,vars:4,consts:[[1,"filters-box"],[1,"row"],[1,"col-3"],[1,"custom-form-input"],["for",""],["placeholder","Select Batch Number",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters","mt-1","me-2",3,"click","disabled"],[1,"custom-button-filters","mt-1","ms-1",3,"click","disabled"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Batch Number"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.batchNumber,p)||(e.batchNumber=p),p}),v(7,Xk,2,2,"ng-option",6),n()()(),o(8,"div",7)(9,"div",3)(10,"label",8),s(11,"\xA0"),n(),o(12,"button",9),g("click",function(){return e.handleSearch()}),s(13,"Search"),n(),o(14,"button",10),g("click",function(){return e.onClearFilter()}),s(15,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.batchNumber),d(),m("ngForOf",e.filters==null?null:e.filters.BatchNumber),d(5),m("disabled",!e.batchNumber),d(2),m("disabled",!e.batchNumber))},dependencies:[$,le,se,U,Y]});let a=r;return a})();function tA(a,r){if(a&1&&(o(0,"div",8)(1,"div",9)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",9)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",9)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",9)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function iA(a,r){if(a&1){let l=O();o(0,"tr")(1,"td")(2,"input",5),P("ngModelChange",function(i){let e=b(l).$implicit;return M(e.selected,i)||(e.selected=i),y(i)}),g("change",function(i){let e=b(l).$implicit,c=S();return y(c.toggleSelection(e,i))}),n()(),o(3,"td"),s(4),n(),o(5,"td"),s(6),K(7,"date"),n(),o(8,"td",6)(9,"span",7)(10,"u"),s(11),n()(),v(12,tA,23,10,"ng-template",null,0,te),n(),o(14,"td"),s(15),n()()}if(a&2){let l=r.$implicit,t=R(13);d(2),F("ngModel",l.selected),d(2),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.batchNumber),d(2),_(ee(7,6,l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.biltiBillProcessDate,"yyyy-MM-dd")),d(3),m("ngbTooltip",t),d(2),_(l==null?null:l.biltiNumber),d(4),_(l==null||l.biltiBillProcessModel==null?null:l.biltiBillProcessModel.grandTotal)}}function nA(a,r){a&1&&(o(0,"td",10),s(1,"No Data Found"),n())}var $h=(()=>{let r=class r{constructor(){this.biltiBillProcess=[],this.selectedRows=new W,this.allSelected=!1,this.selectedData=[]}toggleSelectAll(t){this.allSelected=t.target.checked,this.biltiBillProcess.forEach(i=>i.selected=this.allSelected),this.allSelected?this.selectedData=[...this.biltiBillProcess]:this.selectedData=[],this.selectedRows.emit(this.selectedData)}toggleSelection(t,i){t.selected=i.target.checked,t.selected?this.selectedData.push(t):this.selectedData=this.selectedData.filter(e=>e!==t),this.allSelected=this.selectedData.length===this.biltiBillProcess.length,this.selectedRows.emit(this.selectedData)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-ap-outbound-grid-table"]],inputs:{biltiBillProcess:"biltiBillProcess"},outputs:{selectedRows:"selectedRows"},decls:18,vars:3,consts:[["tipContent",""],[1,"custom-table"],["type","checkbox",3,"change","checked"],[4,"ngFor","ngForOf"],["align","center","colspan","5",4,"ngIf"],["type","checkbox",3,"ngModelChange","change","ngModel"],["container","body",1,"pointer"],["placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,""],[1,"content-row"],["align","center","colspan","5"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table")(2,"thead")(3,"tr")(4,"th")(5,"input",2),g("change",function(p){return e.toggleSelectAll(p)}),n()(),o(6,"th"),s(7,"Batch Number"),n(),o(8,"th"),s(9,"Bilti Bill Process Date"),n(),o(10,"th"),s(11,"Bilti Number"),n(),o(12,"th"),s(13,"Grand Total"),n()()(),o(14,"tbody"),v(15,iA,16,9,"tr",3),o(16,"tr"),v(17,nA,2,0,"td",4),n()()()()),i&2&&(d(5),m("checked",e.allSelected),d(10),m("ngForOf",e.biltiBillProcess),d(2),m("ngIf",!e.biltiBillProcess.length))},dependencies:[$,z,be,Ii,U,Y,Se],styles:[".custom-table[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{width:18px;height:18px}"]});let a=r;return a})();var rA=a=>({"d-none":a}),aA=a=>({isFilters:a});function lA(a,r){if(a&1){let l=O();o(0,"div",6)(1,"button",7),g("click",function(){b(l);let i=S();return y(i.createApOutbound())}),s(2,"Post"),n()()}if(a&2){let l=S();m("ngClass",ge(2,rA,!l.isFilters)),d(),m("disabled",l.selectedBiltiData.length==0)}}function sA(a,r){if(a&1){let l=O();o(0,"div",8)(1,"div",9)(2,"div",10)(3,"app-ap-outbound-grid-table",11),g("selectedRows",function(i){b(l);let e=S();return y(e.onSelectedRows(i))}),n()(),o(4,"div",12)(5,"ngb-pagination",13),P("pageChange",function(i){b(l);let e=S();return M(e.currentPage,i)||(e.currentPage=i),y(i)}),g("pageChange",function(i){b(l);let e=S();return y(e.onPageChange(i))}),n(),o(6,"p",14),s(7," Items per page:"),n(),o(8,"select",15),P("ngModelChange",function(i){b(l);let e=S();return M(e.count,i)||(e.count=i),y(i)}),g("ngModelChange",function(){b(l);let i=S();return y(i.onPageSizeChange(i.count))}),o(9,"option",16),s(10,"10"),n(),o(11,"option",16),s(12,"20"),n(),o(13,"option",16),s(14,"50"),n(),o(15,"option",16),s(16,"100"),n(),o(17,"option",16),s(18,"500"),n()()()()()}if(a&2){let l=S();m("ngClass",ge(14,aA,l.isFilters)),d(3),m("biltiBillProcess",l.biltiBillProcess),d(2),m("collectionSize",l.totalBiltiBills),F("page",l.currentPage),m("pageSize",l.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",l.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500)}}function dA(a,r){a&1&&(o(0,"div",17),s(1," Loading... "),n())}var Qh=(()=>{let r=class r{constructor(t,i){this.biltiBillService=t,this.toastr=i,this.loadSpinner=!1,this.count=10,this.biltiBillProcess=[],this.totalBiltiBills=0,this.filters=[],this.currentPage=1,this.isFilters=!0,this.selectedBiltiData=[]}ngOnInit(){this.getAllBiltiProcess()}getAllBiltiProcess(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={locationIds:[0],status:"Bilti Bill Process Approved by Accounts Head",screenCode:0,fromDate:null,toDate:null,batchNumber:e?.batchNumber||"",adviceType:"",batchName:"",biltiNumber:""};this.biltiBillService.getBiltiBillProcess(c,t,i).subscribe(p=>{this.loadSpinner=!1,this.biltiBillProcess=p.biltiBillProcess,this.totalBiltiBills=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllBiltiProcess(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllBiltiProcess(0,this.count,this.searchedData)}onSelectedRows(t){this.selectedBiltiData=t}createApOutbound(){this.loadSpinner=!0;let i={invoiceNumber:this.selectedBiltiData.map(e=>e.biltiNumber)};this.biltiBillService.createApOutbound(i).subscribe(e=>{this.toastr.success(e.message),this.loadSpinner=!1,this.searchedData=[]},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(St),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-ap-outbound"]],decls:8,vars:4,consts:[[1,"page-title"],[1,"filter-section"],[3,"getData","filters"],["class","filter-section d-flex justify-content-end",3,"ngClass",4,"ngIf"],["class","content-section",3,"ngClass",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"filter-section","d-flex","justify-content-end",3,"ngClass"],[1,"custom-button-filters","me-3",2,"float","right",3,"click","disabled"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"selectedRows","biltiBillProcess"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"AP Data Posting"),n()(),o(3,"div",1)(4,"app-ap-outbound-filter",2),g("getData",function(p){return e.filteredData(p)}),n()(),v(5,lA,3,4,"div",3)(6,sA,19,16,"div",4)(7,dA,2,0,"div",5)),i&2&&(d(4),m("filters",e.filters),d(),m("ngIf",(e.searchedData==null?null:e.searchedData.batchNumber)&&!e.loadSpinner&&e.biltiBillProcess.length),d(),m("ngIf",(e.searchedData==null?null:e.searchedData.batchNumber)&&!e.loadSpinner),d(),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,Yh,$h],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 312px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var el=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getGlAccrualPosting(t,i=0,e=this.maxCount){return this.post(Gp(i,e),t)}glOutboundTransfer(){return this.post(Wp(),null)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function cA(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function pA(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function mA(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function uA(a,r){if(a&1&&(o(0,"ng-option",14),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var Kh=(()=>{let r=class r{constructor(){this.getData=new W,this.costCenter=void 0,this.businessArea=void 0,this.glAccount=void 0,this.subCategory=void 0,this.filters=[]}handleSearch(){this.getData.emit({costCenter:this.costCenter,businessArea:this.businessArea,glAccount:this.glAccount,subCategory:this.subCategory})}onClearFilter(){this.costCenter="",this.businessArea="",this.glAccount="",this.subCategory="",this.getData.emit({costCenter:"",businessArea:"",glAccount:"",subCategory:""})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-gl-accrual-posting-filters"]],inputs:{filters:"filters"},outputs:{getData:"getData"},decls:34,vars:10,consts:[[1,"filters-box"],[1,"row"],[1,"col-3"],[1,"custom-form-input"],["for",""],["placeholder","Select Cost Center",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Business Area",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Gl Account",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Sub Category",1,"input-field",3,"ngModelChange","ngModel"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters","mt-1","me-2",3,"click","disabled"],[1,"custom-button-filters","mt-1","ms-1",3,"click","disabled"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Cost Center"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.costCenter,p)||(e.costCenter=p),p}),v(7,cA,2,2,"ng-option",6),n()()(),o(8,"div",2)(9,"div",3)(10,"label",4),s(11,"Business Area"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.businessArea,p)||(e.businessArea=p),p}),v(13,pA,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label",4),s(17,"GL Account"),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.glAccount,p)||(e.glAccount=p),p}),v(19,mA,2,2,"ng-option",6),n()()(),o(20,"div",2)(21,"div",3)(22,"label",4),s(23,"Sub Category"),n(),o(24,"ng-select",9),P("ngModelChange",function(p){return M(e.subCategory,p)||(e.subCategory=p),p}),v(25,uA,2,2,"ng-option",6),n()()(),o(26,"div",10)(27,"div",3)(28,"label",11),s(29,"\xA0"),n(),o(30,"button",12),g("click",function(){return e.handleSearch()}),s(31,"Search"),n(),o(32,"button",13),g("click",function(){return e.onClearFilter()}),s(33,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.costCenter),d(),m("ngForOf",e.filters==null?null:e.filters.CostCenter),d(5),F("ngModel",e.businessArea),d(),m("ngForOf",e.filters==null?null:e.filters.BusinessArea),d(5),F("ngModel",e.glAccount),d(),m("ngForOf",e.filters==null?null:e.filters.GlAccount),d(5),F("ngModel",e.subCategory),d(),m("ngForOf",e.filters==null?null:e.filters.SubCategory),d(5),m("disabled",!e.costCenter&&!e.glAccount&&!e.subCategory&&!e.businessArea),d(2),m("disabled",!e.costCenter&&!e.glAccount&&!e.subCategory&&!e.businessArea))},dependencies:[$,le,se,U,Y]});let a=r;return a})();function gA(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n()()),a&2){let l=r.$implicit;d(2),_(l==null?null:l.companyCode),d(2),_(l==null?null:l.costCenter),d(2),_(l==null?null:l.currencyCode),d(2),_(l==null?null:l.amount),d(2),_(l==null?null:l.businessArea),d(2),_(l==null?null:l.closingCategory),d(2),_(l==null?null:l.functionalArea),d(2),_(l==null?null:l.glAccount),d(2),_(l==null?null:l.periodName),d(2),_(l==null?null:l.sequenceKey),d(2),_(l==null?null:l.subCategory),d(2),_(l==null?null:l.systemId),d(2),_(l==null?null:l.transferCount)}}function fA(a,r){a&1&&(o(0,"td",3),s(1,"No Data Found"),n())}var Jh=(()=>{let r=class r{constructor(){this.glAccrualList=[]}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-gl-accrual-posting-grid-table"]],inputs:{glAccrualList:"glAccrualList"},decls:34,vars:2,consts:[[1,"custom-table"],[4,"ngFor","ngForOf"],["align","center","colspan","5",4,"ngIf"],["align","center","colspan","5"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Company Code"),n(),o(6,"th"),s(7,"Cost Center"),n(),o(8,"th"),s(9,"Currency Code"),n(),o(10,"th"),s(11,"Amount"),n(),o(12,"th"),s(13,"Business Area"),n(),o(14,"th"),s(15,"Closing Category"),n(),o(16,"th"),s(17,"Functional Area"),n(),o(18,"th"),s(19,"Gl Account"),n(),o(20,"th"),s(21,"Period Name"),n(),o(22,"th"),s(23,"Sequence Key"),n(),o(24,"th"),s(25,"Sub Category"),n(),o(26,"th"),s(27,"System Id"),n(),o(28,"th"),s(29,"Transfer Count"),n()()(),o(30,"tbody"),v(31,gA,27,13,"tr",1),o(32,"tr"),v(33,fA,2,0,"td",2),n()()()()),i&2&&(d(31),m("ngForOf",e.glAccrualList),d(2),m("ngIf",!e.glAccrualList.length))},dependencies:[$,z]});let a=r;return a})();var vA=a=>({"d-none":a}),bA=a=>({isFilters:a});function yA(a,r){a&1&&(o(0,"div",15),s(1," Loading... "),n())}var Xh=(()=>{let r=class r{constructor(t,i){this.glAccrualPostingService=t,this.toastr=i,this.loadSpinner=!1,this.count=10,this.glAccrualList=[],this.totalglAccrualLists=0,this.filters=[],this.currentPage=1,this.isFilters=!0,this.selectedBiltiData=[]}ngOnInit(){this.getGlAccrualPosting()}getGlAccrualPosting(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={batchId:"",costCenter:e?.costCenter||"",businessArea:e?.businessArea||"",glAccount:e?.glAccount||"",subCategory:e?.subCategory||""};this.glAccrualPostingService.getGlAccrualPosting(c,t,i).subscribe(p=>{this.loadSpinner=!1,this.glAccrualList=p.glOutBound,this.totalglAccrualLists=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.currentPage=1,this.getGlAccrualPosting(0,this.count,this.searchedData)}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getGlAccrualPosting(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getGlAccrualPosting(0,this.count,this.searchedData)}glOutboundTransfer(){this.glAccrualPostingService.glOutboundTransfer().subscribe(t=>{this.toastr.success(t.message),this.loadSpinner=!1},t=>{this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(el),D(Z))},r.\u0275cmp=k({type:r,selectors:[["app-gl-accrual-posting"]],decls:28,vars:22,consts:[[1,"page-title"],[1,"filter-section"],[3,"getData","filters"],[1,"filter-section","d-flex","justify-content-end",3,"ngClass"],[1,"custom-button-filters","me-3",2,"float","right",3,"click","disabled"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"glAccrualList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"GL Accrual Posting"),n()(),o(3,"div",1)(4,"app-gl-accrual-posting-filters",2),g("getData",function(p){return e.filteredData(p)}),n()(),o(5,"div",3)(6,"button",4),g("click",function(){return e.glOutboundTransfer()}),s(7,"Post"),n()(),o(8,"div",5)(9,"div",6)(10,"div",7),E(11,"app-gl-accrual-posting-grid-table",8),n(),o(12,"div",9)(13,"ngb-pagination",10),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(14,"p",11),s(15," Items per page:"),n(),o(16,"select",12),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(17,"option",13),s(18,"10"),n(),o(19,"option",13),s(20,"20"),n(),o(21,"option",13),s(22,"50"),n(),o(23,"option",13),s(24,"100"),n(),o(25,"option",13),s(26,"500"),n()()()()(),v(27,yA,2,0,"div",14)),i&2&&(d(4),m("filters",e.filters),d(),m("ngClass",ge(18,vA,!e.isFilters)),d(),m("disabled",e.glAccrualList.length==0),d(2),m("ngClass",ge(20,bA,e.isFilters)),d(3),m("glAccrualList",e.glAccrualList),d(2),m("collectionSize",e.totalglAccrualLists),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,Kh,Jh],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 382px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();var ig=Si(Tn());function CA(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function SA(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function xA(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function DA(a,r){if(a&1&&(o(0,"ng-option",15),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var eg=(()=>{let r=class r{constructor(){this.exportData=new W,this.getData=new W,this.costCenter=void 0,this.businessArea=void 0,this.glAccount=void 0,this.subCategory=void 0,this.filters=[]}handleSearch(){this.getData.emit({costCenter:this.costCenter,businessArea:this.businessArea,glAccount:this.glAccount,subCategory:this.subCategory})}onClearFilter(){this.costCenter="",this.businessArea="",this.glAccount="",this.subCategory="",this.getData.emit({costCenter:"",businessArea:"",glAccount:"",subCategory:""})}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-provisional-report-filter"]],inputs:{filters:"filters"},outputs:{exportData:"exportData",getData:"getData"},decls:40,vars:10,consts:[[1,"filters-box"],[1,"row"],[1,"col-3"],[1,"custom-form-input"],["for",""],["placeholder","Select Cost Center",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Business Area",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Gl Account",1,"input-field",3,"ngModelChange","ngModel"],["placeholder","Select Sub Category",1,"input-field",3,"ngModelChange","ngModel"],[1,"col-lg-auto"],["for","",1,"d-block"],[1,"custom-button-filters","mt-1","me-2",3,"click","disabled"],[1,"custom-button-filters","mt-1","ms-1",3,"click","disabled"],[1,"custom-button-export","excel-button",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Cost Center"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.costCenter,p)||(e.costCenter=p),p}),v(7,CA,2,2,"ng-option",6),n()()(),o(8,"div",2)(9,"div",3)(10,"label",4),s(11,"Business Area"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.businessArea,p)||(e.businessArea=p),p}),v(13,SA,2,2,"ng-option",6),n()()(),o(14,"div",2)(15,"div",3)(16,"label",4),s(17,"GL Account"),n(),o(18,"ng-select",8),P("ngModelChange",function(p){return M(e.glAccount,p)||(e.glAccount=p),p}),v(19,xA,2,2,"ng-option",6),n()()(),o(20,"div",2)(21,"div",3)(22,"label",4),s(23,"Sub Category"),n(),o(24,"ng-select",9),P("ngModelChange",function(p){return M(e.subCategory,p)||(e.subCategory=p),p}),v(25,DA,2,2,"ng-option",6),n()()(),o(26,"div",10)(27,"div",3)(28,"label",11),s(29,"\xA0"),n(),o(30,"button",12),g("click",function(){return e.handleSearch()}),s(31,"Search"),n(),o(32,"button",13),g("click",function(){return e.onClearFilter()}),s(33,"Clear"),n()()(),o(34,"div",10)(35,"div",3)(36,"label",11),s(37,"\xA0"),n(),o(38,"button",14),g("click",function(){return e.exportData.emit()}),s(39," Export "),n()()()()()),i&2&&(d(6),F("ngModel",e.costCenter),d(),m("ngForOf",e.filters==null?null:e.filters.CostCenter),d(5),F("ngModel",e.businessArea),d(),m("ngForOf",e.filters==null?null:e.filters.BusinessArea),d(5),F("ngModel",e.glAccount),d(),m("ngForOf",e.filters==null?null:e.filters.GlAccount),d(5),F("ngModel",e.subCategory),d(),m("ngForOf",e.filters==null?null:e.filters.SubCategory),d(5),m("disabled",!e.costCenter&&!e.glAccount&&!e.subCategory&&!e.businessArea),d(2),m("disabled",!e.costCenter&&!e.glAccount&&!e.subCategory&&!e.businessArea))},dependencies:[$,le,se,U,Y],styles:[".excel-button[_ngcontent-%COMP%]{height:30px}"]});let a=r;return a})();var TA=["table"];function wA(a,r){if(a&1&&(o(0,"tr")(1,"td"),s(2),n(),o(3,"td"),s(4),n(),o(5,"td"),s(6),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n(),o(11,"td"),s(12),n(),o(13,"td"),s(14),n(),o(15,"td"),s(16),n(),o(17,"td"),s(18),n(),o(19,"td"),s(20),n(),o(21,"td"),s(22),n(),o(23,"td"),s(24),n(),o(25,"td"),s(26),n()()),a&2){let l=r.$implicit;d(2),_(l==null?null:l.companyCode),d(2),_(l==null?null:l.costCenter),d(2),_(l==null?null:l.currencyCode),d(2),_(l==null?null:l.amount),d(2),_(l==null?null:l.businessArea),d(2),_(l==null?null:l.closingCategory),d(2),_(l==null?null:l.functionalArea),d(2),_(l==null?null:l.glAccount),d(2),_(l==null?null:l.periodName),d(2),_(l==null?null:l.sequenceKey),d(2),_(l==null?null:l.subCategory),d(2),_(l==null?null:l.systemId),d(2),_(l==null?null:l.transferCount)}}function IA(a,r){a&1&&(o(0,"td",4),s(1,"No Data Found"),n())}var tg=(()=>{let r=class r{constructor(){this.glAccrualList=[],this.exportHeader=new W}ngOnChanges(t){t.glAccrualList&&this.emitHeaders()}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{t.push(e.innerText.trim())}),this.exportHeader.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-provisional-report-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(TA,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{glAccrualList:"glAccrualList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:35,vars:2,consts:[["table",""],[1,"custom-table"],[4,"ngFor","ngForOf"],["align","center","colspan","5",4,"ngIf"],["align","center","colspan","5"]],template:function(i,e){i&1&&(o(0,"div",1)(1,"table",null,0)(3,"thead")(4,"tr")(5,"th"),s(6,"Company Code"),n(),o(7,"th"),s(8,"Cost Center"),n(),o(9,"th"),s(10,"Currency Code"),n(),o(11,"th"),s(12,"Amount"),n(),o(13,"th"),s(14,"Business Area"),n(),o(15,"th"),s(16,"Closing Category"),n(),o(17,"th"),s(18,"Functional Area"),n(),o(19,"th"),s(20,"Gl Account"),n(),o(21,"th"),s(22,"Period Name"),n(),o(23,"th"),s(24,"Sequence Key"),n(),o(25,"th"),s(26,"Sub Category"),n(),o(27,"th"),s(28,"System Id"),n(),o(29,"th"),s(30,"Transfer Count"),n()()(),o(31,"tbody"),v(32,wA,27,13,"tr",2),o(33,"tr"),v(34,IA,2,0,"td",3),n()()()()),i&2&&(d(32),m("ngForOf",e.glAccrualList),d(2),m("ngIf",!e.glAccrualList.length))},dependencies:[$,z]});let a=r;return a})();var FA=a=>({"d-none":a}),MA=a=>({isFilters:a});function PA(a,r){a&1&&(o(0,"div",13),s(1,` Loading...
`),n())}var ng=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.glAccrualPostingService=i,this.toastr=e,this.xlsxService=c,this.isFilters=!0,this.fromDate="2000-01-01",this.loadSpinner=!1,this.locationIds=j.commonLocationsList.map(p=>p.id),this.toDate=(0,ig.default)().format("YYYY-MM-DD"),this.currentPage=1,this.count=10,this.filters=[],this.maxCount=Number.MAX_VALUE,this.headers=[],this.locations=[],this.glAccrualList=[],this.totalglAccrualLists=0}ngOnInit(){this.getProvisionReport()}getProvisionReport(t=0,i=this.count,e=this.searchedData){this.loadSpinner=!0;let c={batchId:"",costCenter:e?.costCenter||"",businessArea:e?.businessArea||"",glAccount:e?.glAccount||"",subCategory:e?.subCategory||""};this.glAccrualPostingService.getGlAccrualPosting(c,t,i).subscribe(p=>{this.loadSpinner=!1,this.glAccrualList=p.glOutBound,this.totalglAccrualLists=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}filteredData(t){this.searchedData=t,this.batchNumber=t.batchNumber,this.currentPage=1,this.getProvisionReport(0,this.count,this.searchedData)}onCreateBilti(){this.router.navigate(["transaction/biltiBillProcess"])}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getProvisionReport(i,this.count,this.searchedData)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getProvisionReport(0,this.count,this.searchedData)}onExportHeader(t){console.log(t),this.headers=t}exportData(t="Provisional Report"){let i={batchId:"",costCenter:this.searchedData?.costCenter||"",businessArea:this.searchedData?.businessArea||"",glAccount:this.searchedData?.glAccount||"",subCategory:this.searchedData?.subCategory||""};this.totalglAccrualLists===0&&this.toastr.error("Can not export with 0 rows!"),this.glAccrualPostingService.getGlAccrualPosting(i,0,this.totalglAccrualLists).subscribe(e=>{let p=e.glOutBound.map(h=>({companyCode:h?.companyCode||"-",costCenter:h?.costCenter||"-",currencyCode:h?.currencyCode||"-",amount:h?.amount||"-",businessArea:h?.businessArea||"-",closingCategory:h?.closingCategory||"-",functionalArea:h?.functionalArea||"-",glAccount:h?.glAccount||"-",periodName:h?.periodName||"-",sequenceKey:h?.sequenceKey||"-",subCategoryremarks:h?.subCategory||"-",systemId:h?.systemId||"-",transferCount:h?.transferCount||"-"}));this.xlsxService.xlsxExport(p,this.headers,t)},e=>{})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(el),D(Z),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-provisional-report"]],decls:25,vars:21,consts:[[1,"page-title"],[1,"filter-section",3,"ngClass"],[3,"getData","exportData","filters"],[1,"content-section",3,"ngClass"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","glAccrualList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Provision Report"),n()(),o(3,"div",1)(4,"app-provisional-report-filter",2),g("getData",function(p){return e.filteredData(p)})("exportData",function(){return e.exportData()}),n()(),o(5,"div",3)(6,"div",4)(7,"div",5)(8,"app-provisional-report-grid-table",6),g("exportHeader",function(p){return e.onExportHeader(p)}),n()(),o(9,"div",7)(10,"ngb-pagination",8),P("pageChange",function(p){return M(e.currentPage,p)||(e.currentPage=p),p}),g("pageChange",function(p){return e.onPageChange(p)}),n(),o(11,"p",9),s(12," Items per page:"),n(),o(13,"select",10),P("ngModelChange",function(p){return M(e.count,p)||(e.count=p),p}),g("ngModelChange",function(){return e.onPageSizeChange(e.count)}),o(14,"option",11),s(15,"10"),n(),o(16,"option",11),s(17,"20"),n(),o(18,"option",11),s(19,"50"),n(),o(20,"option",11),s(21,"100"),n(),o(22,"option",11),s(23,"500"),n()()()()(),v(24,PA,2,0,"div",12)),i&2&&(d(3),m("ngClass",ge(17,FA,!e.isFilters)),d(),m("filters",e.filters),d(),m("ngClass",ge(19,MA,e.isFilters)),d(3),m("glAccrualList",e.glAccrualList),d(2),m("collectionSize",e.totalglAccrualLists),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner))},dependencies:[ae,z,me,ue,pe,U,Y,Ne,eg,tg],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 312px)}"]});let a=r;return a})();var og=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}createConfiguration(t,i){return this.baseService.post(j.basePath+hp(t),i)}getrbData(t){return this.get(up(t))}updateConfiguration(t,i){return this.put(gp(t),i)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();function AA(a,r){if(a&1&&(o(0,"ng-option",16),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l.value)}}function OA(a,r){a&1&&(o(0,"div",17)(1,"div",5)(2,"label"),s(3,"Location Code"),n()(),o(4,"div",5)(5,"label"),s(6,"Plant Code"),n()(),o(7,"div",5)(8,"label"),s(9,"Percentage"),n()()())}function LA(a,r){if(a&1&&(o(0,"div",18)(1,"div",5)(2,"div",19),E(3,"input",20),n()(),o(4,"div",5)(5,"div",19),E(6,"input",21),n()(),o(7,"div",5)(8,"div",19),E(9,"input",22),n()()()),a&2){let l=r.index,t=S();No("formGroupName",l),d(3),da("id","location-",l,""),m("formControl",t.selectedLocationCode),d(3),da("id","plantCode-",l,""),d(3),da("id","percentage-",l,"")}}var rg=(()=>{let r=class r{constructor(t,i,e,c){this.plantService=t,this.recycleBinService=i,this.toastr=e,this.lookupService=c,this.locations=j.commonLocationsList,this.createOrEdit="create",this.locationsDropdownData=[],this.commonLocations=[],this.ACTION_BY_VALUE=localStorage.getItem("userId"),this.selectedLocationCode=new J(""),this.formBuilder=ne(mt),this.recycleBinForm=this.formBuilder.group({actionBy:[this.ACTION_BY_VALUE],plantPercentages:this.formBuilder.array([])})}ngOnInit(){this.getCommonLocations(),this.getLocations()}getCommonLocations(){this.commonLocations=j.commonLocationsList}get plantPercentages(){return this.recycleBinForm.get("plantPercentages")}addPlantPercentages(t,i){this.plantPercentages.push(this.formBuilder.group({plantCode:[t||""],percentage:[i||0]}))}resetFormGroup(){this.recycleBinForm.reset({actionBy:this.ACTION_BY_VALUE,plantPercentages:[]}),this.plantPercentages.clear()}getRecycleBinData(){this.resetFormGroup(),this.recycleBinService.getrbData(this.location?.id).subscribe(t=>{let i=t?.plants;this.createOrEdit="edit",this.selectedLocationCode.setValue(this.location?.value);for(let e of i)this.addPlantPercentages(e?.plantCode,e?.percentage)},t=>{if(t?.status===404){this.createOrEdit="create";let i={locationIds:[this.location?.id],status:"",plantCode:"",auCode:"",siteCode:""};this.plantService.getPlants(i).subscribe(e=>{let c=e?.plants;this.selectedLocationCode.setValue(this.location?.value);for(let p of c)this.addPlantPercentages(p?.plantCode)})}})}saveRecycleBinConfiguration(){let t=this.recycleBinForm.value,i,e=this.locations.find(c=>c?.value===this.selectedLocationCode.value);this.createOrEdit==="create"?i=this.recycleBinService.createConfiguration(e?.id,t):i=this.recycleBinService.updateConfiguration(e?.id,t),i.subscribe(c=>{this.toastr.success("Recycle Bin Configuration Saved "),this.resetFormGroup()},c=>{this.toastr.error(c?.error?.details?.map(p=>p.description).join("<br>"))})}getLocations(){let t={CreationDate:"",LastUpdatedBy:"",LastUpdateDate:""};this.lookupService.getLocationsLookup(t,"Locations").subscribe(e=>{this.locationsDropdownData=e.lookUps.filter(c=>c.status==="Active"&&this.commonLocations.some(p=>p.id===c.id))},e=>{})}clearRecycleBinData(){this.resetFormGroup(),this.selectedLocationCode.setValue(""),this.createOrEdit="create",this.location=null}};r.\u0275fac=function(i){return new(i||r)(D(On),D(og),D(Z),D(ye))},r.\u0275cmp=k({type:r,selectors:[["app-recycle-bin-plant-configuration"]],decls:23,vars:6,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click"],[1,"content-section","p-3"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-dropdown"],["for",""],["name","locations","placeholder","Select location",3,"ngModelChange","searchable","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-3","mt-4"],[1,"custom-button-secondary","ms-2",3,"click"],[3,"formGroup"],["formArrayName","plantPercentages"],["class","row mt-3",4,"ngIf"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[3,"value"],[1,"row","mt-3"],[1,"row","mt-3",3,"formGroupName"],[1,"custom-form-input"],["type","text","readonly","",1,"input-field",3,"id","formControl"],["type","text","readonly","","formControlName","plantCode",1,"input-field",3,"id"],["type","text","formControlName","percentage",1,"input-field",3,"id"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2,"Recycle Bin Plant Configuration"),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.saveRecycleBinConfiguration()}),s(5,"Save"),n()()(),o(6,"div",3)(7,"div",4)(8,"div",5)(9,"div",6)(10,"label",7),s(11,"Location Code"),n(),o(12,"ng-select",8),P("ngModelChange",function(p){return M(e.location,p)||(e.location=p),p}),v(13,AA,2,2,"ng-option",9),n()()(),o(14,"div",10)(15,"button",2),g("click",function(){return e.getRecycleBinData()}),s(16,"Find"),n(),o(17,"button",11),g("click",function(){return e.clearRecycleBinData()}),s(18,"Clear"),n()()(),o(19,"form",12),Mt(20,13),v(21,OA,10,0,"div",14)(22,LA,10,8,"div",15),Pt(),n()()),i&2&&(d(12),m("searchable",!0),F("ngModel",e.location),d(),m("ngForOf",e.locationsDropdownData),d(6),m("formGroup",e.recycleBinForm),d(2),m("ngIf",e.plantPercentages.length>0),d(),m("ngForOf",e.plantPercentages.controls))},dependencies:[$,z,le,se,Ze,Ae,U,Qe,Y,ko,nt,ot,Ni,Fi],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}"]});let a=r;return a})();var tl=(()=>{let r=class r extends ze{constructor(t){super(t,j.basePath),this.baseService=t,this.maxCount=Number.MAX_VALUE}getLookupTypes(t,i=0,e=this.maxCount){return this.post(Zp(i,e),t)}getLookupTypeDatas(t){return this.get(j.LookupTypeData+t)}getLookupTypeData(t){return this.post(j.getLookupTypeData,t)}updateLookup(t,i){return this.put(j.updateLookup+t,i)}createLookup(t){return this.post(j.createLookupType,t)}getLookupsType(t){return this.post(j.lookupstype,t)}getLookupsTypeDropDown(t){return this.post(j.lookupstype,t)}getDropdownData(t){return this.baseService.post(j.basePath+Ut(t),{})}getLocationsLookup(t,i){return this.post(Ut(i),t)}getCityLookup(t,i){return this.post(Ut(i),t)}setLocationId(t,i,e){i.length===1&&t.controls[e]?.patchValue(i[0].id)}getLookupTypeDrop(t){return this.post(j.lookUpType,t)}};r.\u0275fac=function(i){return new(i||r)(Me(Ve))},r.\u0275prov=_e({token:r,factory:r.\u0275fac,providedIn:"root"});let a=r;return a})();var BA=["table"],VA=(a,r)=>r.id;function RA(a,r){if(a&1&&(o(0,"div",7)(1,"div",8)(2,"span"),s(3,"Creation Date"),n(),o(4,"span"),s(5),K(6,"date"),n()(),o(7,"div",8)(8,"span"),s(9,"Created By"),n(),o(10,"span"),s(11),n()(),o(12,"div",8)(13,"span"),s(14,"Last Update Date"),n(),o(15,"span"),s(16),K(17,"date"),n()(),o(18,"div",8)(19,"span"),s(20,"Last Updated By"),n(),o(21,"span"),s(22),n()()()),a&2){let l=S().$implicit;d(5),_(ee(6,4,l.creationDate,"yyyy-MM-dd")),d(6),_(l==null||l.createdByDetails==null?null:l.createdByDetails.name),d(5),_(ee(17,7,l.lastUpdateOn,"yyyy-MM-dd")),d(6),_(l==null||l.lastUpdatedByDetails==null?null:l.lastUpdatedByDetails.name)}}function jA(a,r){if(a&1&&(o(0,"tr")(1,"td",5)(2,"span",6)(3,"u"),s(4),n()(),v(5,RA,23,10,"ng-template",null,1,te),n(),o(7,"td"),s(8),n(),o(9,"td"),s(10),n()()),a&2){let l=r.$implicit,t=R(6);d(2),m("ngbTooltip",t),d(2),_(l==null?null:l.type),d(4),_(l.description),d(2),_(l.status)}}function GA(a,r){a&1&&(o(0,"tr")(1,"td",9),s(2,"No MasterType Found"),n()())}var lg=(()=>{let r=class r{constructor(t){this.router=t,this.exportHeader=new W,this.lookupsList=[],this.sortField="",this.sortDirection="asc"}ngOnInit(){}ngOnChanges(t){t.lookupsList&&this.emitHeaders()}onGoToEditLookup(t){this.router.navigate(["master/addEditLookupType",t.id])}emitHeaders(){let t=[];this.table?.nativeElement?.querySelectorAll("thead th")?.forEach(e=>{e.innerText.trim()!=="Action"&&t.push(e.innerText.trim())}),this.exportHeader.emit(t)}sortData(t){this.sortDirection=this.sortField===t&&this.sortDirection==="asc"?"desc":"asc",this.sortField=t,Nt.sortTableData(t,this.sortDirection,this.lookupsList)}};r.\u0275fac=function(i){return new(i||r)(D(X))},r.\u0275cmp=k({type:r,selectors:[["app-lookupType-grid-table"]],viewQuery:function(i,e){if(i&1&&Le(BA,5),i&2){let c;we(c=Ie())&&(e.table=c.first)}},inputs:{lookupsList:"lookupsList"},outputs:{exportHeader:"exportHeader"},features:[Be],decls:15,vars:2,consts:[["table",""],["tipContent",""],[1,"custom-table"],[3,"ngClass"],[3,"click"],[1,"pointer"],["container","body","placement","end","tooltipClass","table-datetime-popover",3,"ngbTooltip"],[1,""],[1,"content-row"],["align","center","colspan","13"]],template:function(i,e){if(i&1){let c=O();o(0,"div",2)(1,"table",3,0)(3,"thead")(4,"tr")(5,"th",4),g("click",function(){return b(c),y(e.sortData("type"))}),s(6,"Type"),n(),o(7,"th",4),g("click",function(){return b(c),y(e.sortData("description"))}),s(8,"Description"),n(),o(9,"th",4),g("click",function(){return b(c),y(e.sortData("status"))}),s(10,"Status"),n()()(),o(11,"tbody"),We(12,jA,11,4,"tr",null,VA,!1,GA,3,0,"tr"),n()()()}i&2&&(d(),m("ngClass",e.sortDirection==="asc"?"asc":"dsc"),d(11),Ue(e.lookupsList))},dependencies:[ae,be,Se]});let a=r;return a})();function UA(a,r){if(a&1&&(o(0,"ng-option",12),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}function HA(a,r){if(a&1&&(o(0,"ng-option",12),s(1),n()),a&2){let l=r.$implicit;m("value",l),d(),_(l)}}var sg=(()=>{let r=class r{constructor(){this.filters=[],this.LookupTypeCode=void 0,this.LookupType=void 0,this.status=void 0,this.value=void 0,this.getData=new W}ngOnInit(){}onLookupTypeSearch(){let t={type:this.LookupType||"",status:this.status||""};this.getData.emit(t)}onClearFilter(){this.LookupType=void 0,this.status=void 0;let t={type:this.LookupType||"",status:this.status||""};this.getData.emit(t)}};r.\u0275fac=function(i){return new(i||r)},r.\u0275cmp=k({type:r,selectors:[["app-lookupType-filter"]],inputs:{filters:"filters"},outputs:{getData:"getData"},decls:22,vars:5,consts:[[1,"filters-box"],[1,"row"],[1,"col-lg-2"],[1,"custom-form-input"],["for",""],["placeholder","Select lookup type",1,"input-field",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],["placeholder","Select Status",1,"input-field",3,"ngModelChange","ngModel"],[1,"col"],["for","",1,"d-block"],[1,"custom-button-filters",3,"click","disabled"],[1,"custom-button-filters","ms-2",3,"click"],[3,"value"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"label",4),s(5,"Master Type"),n(),o(6,"ng-select",5),P("ngModelChange",function(p){return M(e.LookupType,p)||(e.LookupType=p),p}),v(7,UA,2,2,"ng-option",6),n()()(),o(8,"div",2)(9,"div",3)(10,"label"),s(11,"Status"),n(),o(12,"ng-select",7),P("ngModelChange",function(p){return M(e.status,p)||(e.status=p),p}),v(13,HA,2,2,"ng-option",6),n()()(),o(14,"div",8)(15,"div",3)(16,"label",9),s(17,"\xA0"),n(),o(18,"button",10),g("click",function(){return e.onLookupTypeSearch()}),s(19,"Search"),n(),o(20,"button",11),g("click",function(){return e.onClearFilter()}),s(21,"Clear"),n()()()()()),i&2&&(d(6),F("ngModel",e.LookupType),d(),m("ngForOf",e.filters==null?null:e.filters.LookUpType),d(5),F("ngModel",e.status),d(),m("ngForOf",e.filters==null?null:e.filters.Status),d(5),m("disabled",!e.LookupType&&!e.status))},dependencies:[$,le,se,U,Y]});let a=r;return a})();var qA=(a,r)=>({isFilters:a,fullScreen:r});function YA(a,r){a&1&&s(0," Full Screen ")}function $A(a,r){if(a&1){let l=O();o(0,"img",21),g("click",function(){b(l);let i=S();return y(i.fullScreen=!i.fullScreen)}),n()}}function QA(a,r){a&1&&(o(0,"div",22),s(1,` Loading...
`),n())}var dg=(()=>{let r=class r{constructor(t,i,e,c){this.router=t,this.LookupTypeService=i,this.toastr=e,this.xlsxService=c,this.isFilters=!0,this.LookupTypesList=[],this.fullScreen=!1,this.loadSpinner=!0,this.headers=[],this.currentPage=1,this.count=10,this.totalLookupTypes=0,this.filters=[],this.appliedFilters=[],this.maxCount=Number.MAX_VALUE}ngOnInit(){this.getAllLookupTypesList()}getAllLookupTypesList(t=0,i=this.count,e=this.appliedFilters){let c={type:e?.type||"",status:e?.status||""};this.LookupTypeService.getLookupTypes(c).subscribe(p=>{this.LookupTypesList=p.lookUpTypes,console.log(this.LookupTypesList),this.totalLookupTypes=p.paging.total,this.filters=p.filters,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getData(t){this.appliedFilters=t,this.currentPage=1,this.getAllLookupTypesList(0,this.count,this.appliedFilters)}onCreateLookupType(){this.router.navigate(["master/addEditlookupType","0"])}onExportHeader(t){this.headers=t}exportData(t="LookupType"){let i={code:this.appliedFilters?.code||"",LookupType:this.appliedFilters?.LookupType||"",value:"",status:this.appliedFilters?.status||""};this.LookupTypeService.getLookupTypes(i,0,this.totalLookupTypes).subscribe(e=>{let p=e.LookupTypes.map(h=>({LookupType:h.LookupType?.value,code:h.code,value:h.value,description:h.description,status:h.status}));this.xlsxService.xlsxExport(p,this.headers,t),this.loadSpinner=!1},e=>{this.toastr.error(e.error.details.map(c=>c.description).join("<br>")),this.loadSpinner=!1})}onPageChange(t){this.currentPage=t;let i=(this.currentPage-1)*this.count;this.getAllLookupTypesList(i,this.count,this.appliedFilters)}onPageSizeChange(t){this.count=t,this.currentPage=1,this.getAllLookupTypesList(0,this.count,this.appliedFilters)}};r.\u0275fac=function(i){return new(i||r)(D(X),D(tl),D(Z),D(Je))},r.\u0275cmp=k({type:r,selectors:[["app-lookupType"]],decls:36,vars:21,consts:[["tipContent",""],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-export",3,"click"],["src","assets/images/icons/excel.svg","alt","export"],[1,"custom-button-regulr",3,"click"],["container","body"],["src","assets/images/icons/fullScreen.svg","alt","","width","14px","placement","start",1,"pointer",3,"click","ngbTooltip"],[1,"filter-section"],[3,"getData","filters"],[1,"content-section",3,"ngClass"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","class","me-3 pointer float-end","width","14px",3,"click",4,"ngIf"],[1,"grid-table"],[1,"table-container"],[3,"exportHeader","lookupsList"],[1,"d-flex","justify-content-center","mt-3"],[3,"pageChange","collectionSize","page","pageSize","boundaryLinks","maxSize","rotate"],[1,"mt-2","ms-3"],[1,"custom-select","ms-3",3,"ngModelChange","ngModel"],[3,"value"],["class","spinner",4,"ngIf"],["src","assets/images/icons/fullScreenCollapse.svg","alt","","width","14px",1,"me-3","pointer","float-end",3,"click"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",1)(1,"h1"),s(2,"MasterType"),n(),o(3,"div",2)(4,"button",3),g("click",function(){return b(c),y(e.exportData())}),E(5,"img",4),s(6," Export"),n(),o(7,"button",5),g("click",function(){return b(c),y(e.onCreateLookupType())}),s(8,"Create MasterType"),n(),o(9,"div",6)(10,"img",7),g("click",function(){return b(c),y(e.fullScreen=!e.fullScreen)}),n(),v(11,YA,1,0,"ng-template",null,0,te),n()()(),o(13,"div",8)(14,"app-lookupType-filter",9),g("getData",function(h){return b(c),y(e.getData(h))}),n()(),o(15,"div",10),v(16,$A,1,0,"img",11),o(17,"div",12)(18,"div",13)(19,"app-lookupType-grid-table",14),g("exportHeader",function(h){return b(c),y(e.onExportHeader(h))}),n()(),o(20,"div",15)(21,"ngb-pagination",16),P("pageChange",function(h){return b(c),M(e.currentPage,h)||(e.currentPage=h),y(h)}),g("pageChange",function(h){return b(c),y(e.onPageChange(h))}),n(),o(22,"p",17),s(23," Items per page:"),n(),o(24,"select",18),P("ngModelChange",function(h){return b(c),M(e.count,h)||(e.count=h),y(h)}),g("ngModelChange",function(){return b(c),y(e.onPageSizeChange(e.count))}),o(25,"option",19),s(26,"10"),n(),o(27,"option",19),s(28,"20"),n(),o(29,"option",19),s(30,"50"),n(),o(31,"option",19),s(32,"100"),n(),o(33,"option",19),s(34,"500"),n()()()()(),v(35,QA,2,0,"div",20)}if(i&2){let c=R(12);d(10),m("ngbTooltip",c),d(4),m("filters",e.filters),d(),m("ngClass",$e(18,qA,e.isFilters,e.fullScreen)),d(),m("ngIf",e.fullScreen),d(3),m("lookupsList",e.LookupTypesList),d(2),m("collectionSize",e.totalLookupTypes),F("page",e.currentPage),m("pageSize",e.count)("boundaryLinks",!0)("maxSize",5)("rotate",!0),d(3),F("ngModel",e.count),d(),m("value",10),d(2),m("value",20),d(2),m("value",50),d(2),m("value",100),d(2),m("value",500),d(2),m("ngIf",e.loadSpinner)}},dependencies:[ae,z,be,me,ue,pe,U,Y,Ne,lg,sg],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow:auto}.content-section.isFilters[_ngcontent-%COMP%]{height:calc(100vh - 252px)}.content-section.fullScreen[_ngcontent-%COMP%]{position:fixed;width:100%;height:100%!important;left:0;top:5px;z-index:9;padding-top:10px;overflow:auto}"]});let a=r;return a})();function ZA(a,r){a&1&&(o(0,"span",13),s(1,"*"),n())}function KA(a,r){a&1&&E(0,"input",19)}function JA(a,r){if(a&1&&(o(0,"ng-option",22),s(1),n()),a&2){let l=r.$implicit;m("value",l.type),d(),Ce(" ",l.type," ")}}function XA(a,r){if(a&1&&(o(0,"ng-select",20),v(1,JA,2,2,"ng-option",21),n()),a&2){let l=S();m("readonly",!0),d(),m("ngForOf",l.LookupTypes)}}function e4(a,r){a&1&&(o(0,"div",7)(1,"div",8)(2,"label",9),s(3,"Status "),o(4,"span",13),s(5,"*"),n()(),o(6,"select",23)(7,"option",24),s(8,"Active"),n(),o(9,"option",25),s(10,"Inactive"),n()()()())}function t4(a,r){a&1&&(o(0,"div",26)(1,"h4",27),s(2,"Filled Details"),n()())}function i4(a,r){if(a&1&&(o(0,"div",28)(1,"table")(2,"thead")(3,"tr")(4,"th"),s(5,"Type"),n(),o(6,"th"),s(7,"Description"),n(),o(8,"th"),s(9,"Status"),n()()(),o(10,"tbody")(11,"tr")(12,"td"),s(13),n(),o(14,"td"),s(15),n(),o(16,"td"),s(17),n()()()()()),a&2){let l=S();d(13),_(l.filledDetails==null?null:l.filledDetails.typeId),d(2),_(l.filledDetails==null?null:l.filledDetails.description),d(2),_(l.filledDetails==null?null:l.filledDetails.status)}}function n4(a,r){a&1&&(o(0,"div",29),s(1," Loading... "),n())}var cg=(()=>{let r=class r{constructor(t,i,e,c,p){this.router=t,this.LookupTypeService=i,this.toastr=e,this.formBuilder=c,this.activatedRoute=p,this.LookupTypeId=0,this.loadSpinner=!0,this.showFilledDetails=!1,this.LookupTypeForm=this.formBuilder.group({type:["",A.required],description:["",A.required],status:["Active",A.required]})}ngOnInit(){this.LookupTypeId=Number(this.activatedRoute.snapshot.paramMap.get("lookupTypeId")),console.log(this.LookupTypeId),this.LookupTypeId=this.LookupTypeId==0?0:this.LookupTypeId,this.LookupTypeId!=0?this.getLookupTypeData(this.LookupTypeId):this.getLookupType()}getLookupType(){let t={type:""};this.LookupTypeService.getLookupTypeDrop(t).subscribe(i=>{this.LookupTypeId==0&&(this.LookupTypes=i.LookupTypes,console.log("uday")),this.loadSpinner=!1},i=>{this.toastr.error(i.statusText,i.status),this.loadSpinner=!1})}getLookupTypeData(t){this.LookupTypeService.getLookupTypeDatas(t).subscribe(i=>{this.selectedLookupType=i,this.LookupTypeForm.patchValue({type:i.type,description:i.description,status:i.status}),this.LookupTypes=[i.LookupTypeType],this.selectedLookupType=i?.LookupTypeType?.value,this.loadSpinner=!1},i=>{this.loadSpinner=!1})}onPressSubmit(){this.loadSpinner=!0;let t={type:this.LookupTypeForm.controls.type.value,description:this.LookupTypeForm.controls.description.value,status:this.LookupTypeForm.controls.status.value,actionBy:""};this.LookupTypeId>0?this.updateLookupType(t):this.createNewLookupType(t)}updateLookupType(t){this.LookupTypeService.updateLookup(this.LookupTypeId,t).subscribe(i=>{this.LookupTypeData=i,this.loadSpinner=!1,this.toastr.success("LookupType Updated Successfully"),this.router.navigate(["/master/LookupType"])},i=>{this.loadSpinner=!1})}createNewLookupType(t){this.LookupTypeService.createLookup(t).subscribe(i=>{this.LookupTypeData=i,this.loadSpinner=!1,this.toastr.success("LookupType Created Successfully"),this.router.navigate(["/master/lookupType"])},i=>{this.loadSpinner=!1})}onSaveButtonClick(){this.updateFilledDetails(),this.showFilledDetails=!0}updateFilledDetails(){let t=this.LookupTypeForm.controls.typeId.value,i=this.LookupTypes.find(e=>e.id===t);this.filledDetails={typeId:i?i.type:"",code:this.LookupTypeForm.controls.code.value,value:this.LookupTypeForm.controls.value.value,description:this.LookupTypeForm.controls.description.value,status:this.LookupTypeForm.controls.status.value}}onCancelPress(){this.router.navigate(["/master/lookupType"])}selecetLookupType(t){this.selectedLookupType=t?.target?.innerText}};r.\u0275fac=function(i){return new(i||r)(D(X),D(tl),D(Z),D(mt),D(et))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-lookupType"]],decls:29,vars:10,consts:[[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click","disabled"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-form-input"],["for",""],["class","text-danger",4,"ngIf"],["type","text","class","input-field","formControlName","type","maxlength","100",4,"ngIf"],["class","input-field","formControlName","type",3,"readonly",4,"ngIf"],[1,"text-danger"],["type","text","formControlName","description","maxlength","100",1,"input-field"],["class","col-lg-3 col-md-3",4,"ngIf"],["class","edit-screen-subTable",4,"ngIf"],["class","custom-table",4,"ngIf"],["class","spinner",4,"ngIf"],["type","text","formControlName","type","maxlength","100",1,"input-field"],["formControlName","type",1,"input-field",3,"readonly"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["name","","id","","formControlName","status"],["value","Active"],["value","Inactive"],[1,"edit-screen-subTable"],[1,""],[1,"custom-table"],[1,"spinner"]],template:function(i,e){i&1&&(o(0,"div",0)(1,"h1"),s(2),n(),o(3,"div",1)(4,"button",2),g("click",function(){return e.onPressSubmit()}),s(5,"Submit"),n(),o(6,"button",3),g("click",function(){return e.onCancelPress()}),s(7,"Cancel"),n()()(),o(8,"div",4)(9,"form",5)(10,"div",6)(11,"div",7)(12,"div",8)(13,"label",9),s(14,"Type "),v(15,ZA,2,0,"span",10),n(),v(16,KA,1,0,"input",11)(17,XA,2,2,"ng-select",12),n()(),o(18,"div",7)(19,"div",8)(20,"label",9),s(21,"Description "),o(22,"span",13),s(23,"*"),n()(),E(24,"input",14),n()(),v(25,e4,11,0,"div",15),n()(),v(26,t4,3,0,"div",16)(27,i4,18,3,"div",17),n(),v(28,n4,2,0,"div",18)),i&2&&(d(2),Ce("",e.LookupTypeId>0?"Edit":"Create"," Master Type"),d(2),m("disabled",!e.LookupTypeForm.valid),d(5),m("formGroup",e.LookupTypeForm),d(6),m("ngIf",e.LookupTypeId==0),d(),m("ngIf",e.LookupTypeId==0),d(),m("ngIf",e.LookupTypeId>0),d(8),m("ngIf",e.LookupTypeId>0),d(),m("ngIf",e.showFilledDetails),d(),m("ngIf",e.showFilledDetails),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,pe,U,Qe,Ht,nt,ot],styles:[".content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024}"]});let a=r;return a})();var o4=()=>({label:"YES",value:"YES"}),r4=()=>({label:"NO",value:"NO"}),a4=()=>({label:"NA",value:"NA"}),l4=(a,r,l)=>[a,r,l],s4=()=>({label:"Yes",value:"YES"}),d4=()=>({label:"No",value:"NO"}),c4=(a,r)=>[a,r];function p4(a,r){if(a&1&&(o(0,"ng-option",101),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),Ce(" ",l.vendorName," ")}}function m4(a,r){if(a&1&&(o(0,"ng-option",101),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),Ce(" ",l.customerName," ")}}function u4(a,r){if(a&1){let l=O();Mt(0),o(1,"td",102)(2,"div",103)(3,"span",104),s(4),n(),E(5,"input",105),o(6,"button",106),g("click",function(){let i=b(l).index,e=S().index,c=S();return y(c.removeApplicant(e*4+i))}),E(7,"i",107),n()()(),Pt()}if(a&2){let l=r.$implicit,t=r.index,i=S().index,e=S();d(4),Ce("",i*4+t+1,"."),d(),m("formControl",e.getApplicantNameControl(l))}}function h4(a,r){if(a&1&&(Mt(0),o(1,"tr"),v(2,u4,8,2,"ng-container",44),n(),Pt()),a&2){let l=r.$implicit,t=S();d(2),m("ngForOf",l)("ngForTrackBy",t.trackByControlIndex)}}function g4(a,r){a&1&&(o(0,"th",61),s(1,"Language"),n())}function f4(a,r){if(a&1&&(o(0,"ng-option",101),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function _4(a,r){if(a&1&&(o(0,"ng-option",101),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function v4(a,r){if(a&1&&(Mt(0),o(1,"div",109)(2,"ng-select",122),v(3,_4,2,2,"ng-option",25),n()(),Pt()),a&2){let l=S(3);d(3),m("ngForOf",l.LanguageList)}}function b4(a,r){}function y4(a,r){if(a&1&&(o(0,"td"),v(1,v4,4,1,"ng-container",121)(2,b4,0,0,"ng-template",null,6,te),n()),a&2){let l,t=R(3),i=S().$implicit;d(),m("ngIf",((l=i.get("subFeeValue"))==null?null:l.value)==="Translation Fee")("ngIfElse",t)}}function C4(a,r){if(a&1){let l=O();Mt(0),o(1,"tr",108)(2,"td"),s(3),n(),o(4,"td")(5,"div",109)(6,"select",110),g("change",function(i){let e=b(l).index,c=S();return y(c.onFeeTypeSelect(c.getSelectedValue(i),e))}),o(7,"option",111),s(8,"Select Fee Type"),n(),o(9,"option",112),s(10,"Professional Fee"),n(),o(11,"option",113),s(12,"Govt or Offical Fee"),n(),o(13,"option",114),s(14,"Other Charges"),n()()()(),o(15,"td")(16,"div",109)(17,"ng-select",115),g("change",function(){let i=b(l).index,e=S();return y(e.onFeeTypeChange(i))}),n()()(),o(18,"td")(19,"div",109)(20,"ng-select",116),v(21,f4,2,2,"ng-option",25),n()()(),v(22,y4,4,2,"td",97),o(23,"td")(24,"div",117)(25,"input",118),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(26,"td")(27,"div",109),E(28,"input",119),n()(),o(29,"td",63)(30,"img",120),g("click",function(){let i=b(l),e=i.$implicit,c=i.index,p=S();return y(p.onDeleteInvoiceFeeDetail(e,c))}),n()()(),Pt()}if(a&2){let l=r.index,t=S();d(),No("formGroupName",l),d(2),_(l+1),d(14),m("items",t.subFeeOptionsList[l]),d(4),m("ngForOf",t.countryList),d(),m("ngIf",t.isTranslationFeeSelected)}}function S4(a,r){if(a&1&&(o(0,"ng-option",101),s(1),n()),a&2){let l=r.$implicit;m("value",l.id),d(),Ce(" ",l.bankName," ")}}function x4(a,r){if(a&1&&(o(0,"ng-option",101),s(1),n()),a&2){let l=r.$implicit;m("value",l.value),d(),Ce(" ",l.value," ")}}function D4(a,r){if(a&1){let l=O();Mt(0),o(1,"tr",108)(2,"td"),s(3),n(),o(4,"td")(5,"div",109)(6,"div",27)(7,"input",123,7),g("dateSelect",function(i){b(l);let e=S();return y(e.onDateSelect("paymentDate",i))}),n(),o(9,"button",29),g("click",function(){b(l);let i=R(8);return y(i.toggle())}),E(10,"img",30),n()()()(),o(11,"td")(12,"div",109)(13,"ng-select",124),v(14,S4,2,2,"ng-option",25),n()()(),o(15,"td")(16,"div",109),E(17,"input",125),n()(),o(18,"td")(19,"div",109)(20,"ng-select",126),v(21,x4,2,2,"ng-option",25),n()()(),o(22,"td")(23,"div",109)(24,"input",127),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(25,"td")(26,"div",109)(27,"input",128),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(28,"td")(29,"div",117)(30,"input",129),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(31,"td")(32,"div",109)(33,"input",130),g("keypress",function(i){b(l);let e=S();return y(e.validateDecimal(i))}),n()()(),o(34,"td")(35,"div",117),E(36,"input",131),n()(),o(37,"td",63)(38,"img",120),g("click",function(){let i=b(l),e=i.$implicit,c=i.index,p=S();return y(p.onDeletePaymentFeeDetail(e,c))}),n()()(),Pt()}if(a&2){let l=r.index,t=S();d(),m("formGroupName",l),d(2),_(l+1),d(4),m("autoClose",!0)("container","body"),d(6),m("appendTo","body"),d(),m("ngForOf",t.transactionTypesList),d(6),m("appendTo","body"),d(),m("ngForOf",t.currencyList)}}function E4(a,r){if(a&1){let l=O();o(0,"tr",137)(1,"td",63),s(2),n(),o(3,"td"),E(4,"input",138),n(),o(5,"td")(6,"div",69)(7,"span",70),s(8),n(),o(9,"input",139),g("keypress",function(i){b(l);let e=S(2);return y(e.validateDecimal(i))}),n()()(),o(10,"td"),E(11,"input",140),n(),o(12,"td")(13,"div",27)(14,"input",141,7),g("dateSelect",function(i){b(l);let e=S(2);return y(e.onDateSelect("saleInvoiceDate",i))}),n(),o(16,"button",29),g("click",function(){b(l);let i=R(15);return y(i.toggle())}),E(17,"img",30),n()()(),o(18,"td"),E(19,"input",142),n(),o(20,"td")(21,"ng-select",143)(22,"ng-option",101),s(23,"Yes"),n(),o(24,"ng-option",101),s(25,"No"),n()()(),o(26,"td",63)(27,"img",144),g("click",function(){let i=b(l).$implicit,e=S(2);return y(e.removeSaleInvoice(i))}),n()()()}if(a&2){let l=r.$implicit,t=r.index,i=S(2);m("formGroup",l),d(2),_(t+1),d(6),_(i.customerSymbol),d(6),m("autoClose",!0)("container","body"),d(8),m("value","Yes"),d(2),m("value","No")}}function T4(a,r){if(a&1){let l=O();o(0,"div")(1,"div",132)(2,"h6"),s(3,"Professional Fee Details"),n(),o(4,"button",133),g("click",function(){b(l);let i=S();return y(i.addSaleInvoice("Professional"))}),s(5,"+ Add"),n()(),o(6,"table",134)(7,"thead",135)(8,"tr")(9,"th",63),s(10,"#"),n(),o(11,"th"),s(12,"Professional Inv No"),n(),o(13,"th"),s(14,"Professional Amount"),n(),o(15,"th"),s(16,"Estimate No"),n(),o(17,"th"),s(18,"Inv/Esti Date"),n(),o(19,"th"),s(20,"Remarks"),n(),o(21,"th"),s(22,"Posted In Tally"),n(),o(23,"th",63),s(24,"Action"),n()()(),o(25,"tbody",13),v(26,E4,28,7,"tr",136),n()()()}if(a&2){let l=S();d(25),m("formGroup",l.addOrEditDispatchNoteForm),d(),m("ngForOf",l.filteredSalesInvoices("Professional"))}}function w4(a,r){if(a&1){let l=O();o(0,"tr",13)(1,"td"),s(2),n(),o(3,"td"),E(4,"input",138),n(),o(5,"td")(6,"div",69)(7,"span",70),s(8),n(),o(9,"input",139),g("keypress",function(i){b(l);let e=S(2);return y(e.validateDecimal(i))}),n()()(),o(10,"td"),E(11,"input",140),n(),o(12,"td")(13,"div",27)(14,"input",146,7),g("dateSelect",function(i){b(l);let e=S(2);return y(e.onDateSelect("saleInvoiceDate",i))}),n(),o(16,"button",29),g("click",function(){b(l);let i=R(15);return y(i.toggle())}),E(17,"img",30),n()()(),o(18,"td"),E(19,"input",142),n(),o(20,"td")(21,"ng-select",143)(22,"ng-option",101),s(23,"Yes"),n(),o(24,"ng-option",101),s(25,"No"),n()()(),o(26,"td")(27,"img",147),g("click",function(){let i=b(l).$implicit,e=S(2);return y(e.removeSaleInvoice(i))}),n()()()}if(a&2){let l=r.$implicit,t=r.index,i=S(2);m("formGroup",l),d(2),_(t+1),d(6),_(i.customerSymbol),d(6),m("autoClose",!0)("container","body"),d(8),m("value","Yes"),d(2),m("value","No")}}function I4(a,r){if(a&1){let l=O();o(0,"div")(1,"div",132)(2,"h6"),s(3,"Govt/Official Fee Details"),n(),o(4,"button",133),g("click",function(){b(l);let i=S();return y(i.addSaleInvoice("Govt"))}),s(5,"+ Add"),n()(),o(6,"table",134)(7,"thead",135)(8,"tr")(9,"th"),s(10,"#"),n(),o(11,"th"),s(12,"Govt/official Inv No"),n(),o(13,"th"),s(14,"Govt/Official Amount"),n(),o(15,"th"),s(16,"Estimate No"),n(),o(17,"th"),s(18,"Inv/Esti Date"),n(),o(19,"th"),s(20,"Remarks"),n(),o(21,"th"),s(22,"Posted In Tally"),n(),o(23,"th"),s(24,"Action"),n()()(),o(25,"tbody",13),v(26,w4,28,7,"tr",145),n()()()}if(a&2){let l=S();d(25),m("formGroup",l.addOrEditDispatchNoteForm),d(),m("ngForOf",l.filteredSalesInvoices("Govt"))}}function N4(a,r){a&1&&(o(0,"div",21)(1,"label",22),s(2,"Status "),E(3,"span",23),n(),o(4,"select",148)(5,"option",149),s(6,"Open"),n(),o(7,"option",150),s(8,"Closed"),n()()())}function F4(a,r){a&1&&(o(0,"div",151),s(1,` Loading...
`),n())}var pg=(()=>{let r=class r{constructor(t,i,e,c,p,h,w,N,L,V){this.router=t,this.customerService=i,this.toastr=e,this.vendorService=c,this.dispatchNoteService=p,this.lookupService=h,this.activatedRoute=w,this.fb=N,this.countryService=L,this.transactionType=V,this.activeSection="professional",this.subFeeOptionsList=[],this.countryList=[],this.currencyList=[],this.transactionTypesList=[],this.selectedVendorCountry="",this.currencySymbol="",this.selectedCustomerCountry="",this.vendorsList=[],this.customersList=[],this.allcustomersNames=[],this.supplierList=[],this.customerDetailsList=[],this.lookupList=[],this.statusTab=!1,this.dispatchId=0,this.loadSpinner=!1,this.selectedcustomers=[],this.languageList=[],this.isTranslationFeeSelected=!1,this.LanguageList=[],this.dispatchNotes=[],this.dispatchLocationId=0,this.activeTransportersList=[],this.today=ne(ht).getToday(),this.filteredcustomers=[],this.invoiceFeeDetailsList=[],this.paymentFeeDetailsList=[],this.salesDetailsList=[],this.govtDetailsList=[],this.selectedParts=[],this.deletedParts=[],this.selectedSales=[],this.deletedSales=[],this.selectedPayment=[],this.deletedPayment=[],this.customerSymbol=""}ngOnInit(){this.getVendorsList(),this.initForm(),this.markTab1FieldsTouched(),this.dispatchId=Number(this.activatedRoute.snapshot.paramMap.get("dispatchId")),this.setDateLimits(),this.getLanguageList(),this.getCountryList(),this.getPaymentCurrencyList(),this.dispatchId==0&&(this.statusTab=!1),this.dispatchId>0&&(this.statusTab=!0),this.invoiceFeeDetails.valueChanges.subscribe(()=>{this.calculateTotals()}),this.dispatchId===0&&this.createInvoiceFeeDetailsGroup(),this.getAllTransactionTypes(),this.getFilteredCustomersList(),this.dispatchNoteInit(),this.tab1Controls,this.tab2Controls,this.tab3Controls,this.tab4Controls,setTimeout(()=>{this.dispatchId>0&&this.getDispatchData(this.dispatchId)},1e3)}initForm(){this.addOrEditDispatchNoteForm=this.fb.group({vendorId:["",A.required],selectedVendorCountry:[""],invoiceDate:["",A.required],fy:[{value:"",disabled:!0},A.required],clientInvoiceNo:["",A.required],dueDateAsPerInvoice:["",A.required],creditDaysAsPerContract:[0],dueDateAsPerContract:[{value:null,disabled:!0}],customerId:["",A.required],applicantDetails:this.fb.array([]),description:[""],title:["",A.required],applicationNumber:["",A.required],filingDate:[""],clientRefNo:["",A.required],ourRefNo:["",A.required],officialFilingReceiptSupporting:["",A.required],workDeliveryDateOrMonth:[""],purchaseCurrency:["",A.required],postedInTally:["",A.required],patentNo:[""],invoiceFeeDetails:this.fb.array([]),professionalFeeAmt:[{value:0,disabled:!0}],govtOrOfficialFeeAmt:[{value:0,disabled:!0}],otherChargesAmt:[{value:0,disabled:!0}],discountAmt:[0],discountCreditNoteAmt:[0],totalAmount:[{value:0,disabled:!0}],creditNoteNo:[""],creditNoteDate:[""],creditNoteRefNo:[""],paymentFeeDetails:this.fb.array([]),customerPONo:[""],poDate:[""],poValueInclusiveTaxes:[""],saleCurrency:[{value:"",disabled:!0},A.required],salesInvoiceDetails:this.fb.array([]),status:[""]}),this.invoiceFeeDetails.valueChanges.subscribe(()=>{this.calculateTotals()}),this.addOrEditDispatchNoteForm.get("discountAmt")?.valueChanges.subscribe(()=>{this.calculateTotals()}),this.addOrEditDispatchNoteForm.get("discountCreditNoteAmt")?.valueChanges.subscribe(()=>{this.calculateTotals()})}setDateLimits(){this.minDate={year:2e3,month:1,day:1},this.maxDate={year:2099,month:12,day:31}}onVendorSelect(t){let i=this.vendorsList.find(e=>e.id===t);i?(this.selectedVendorCountry=i.billingCountry,this.currencySymbol=i.currencySymbol,this.addOrEditDispatchNoteForm.patchValue({purchaseCurrency:i.currency}),this.addOrEditDispatchNoteForm.patchValue({currencySymbol:i.currencySymbol})):(this.selectedVendorCountry="",this.addOrEditDispatchNoteForm.patchValue({purchaseCurrency:null}),this.addOrEditDispatchNoteForm.patchValue({currencySymbol:null}))}onCustomerSelect(t){let i=this.customersList.find(e=>e.id===t);i?(this.selectedCustomerCountry=i.billingCountry,this.customerSymbol=i.currencySymbol,this.addOrEditDispatchNoteForm.patchValue({saleCurrency:i.currency}),this.addOrEditDispatchNoteForm.patchValue({customerSymbol:i.currencySymbol})):(this.selectedCustomerCountry="",this.addOrEditDispatchNoteForm.patchValue({saleCurrency:null}),this.addOrEditDispatchNoteForm.patchValue({customerSymbol:null}))}get applicantDetails(){return this.addOrEditDispatchNoteForm.get("applicantDetails")}getApplicantNameControl(t){return t.get("applicantName")}addApplicantField(){let t=this.fb.group({id:[0],applicantName:["",A.required]});this.applicantDetails.push(t)}removeApplicant(t){this.applicantDetails.removeAt(t)}getApplicantsRows(){let t=[],i=this.applicantDetails.controls;for(let e=0;e<i.length;e+=4)t.push(i.slice(e,e+4));return t}trackByRowIndex(t,i){return t}trackByControlIndex(t,i){return t}getFilteredCustomersList(t=0,i=0,e=""){let c={customerCode:e?.customerCode||"",customerName:e?.customerName||"",status:"Active"};this.customerService.getCustomers(c,t,i).subscribe(p=>{console.log(p),this.customersList=p.customers,this.loadSpinner=!1},p=>{this.loadSpinner=!1})}getDispatchData(t){this.loadSpinner=!0,this.dispatchNoteService.getDispatchNoteById(t).subscribe(i=>{this.patchInvoiceData(i),this.loadSpinner=!1},i=>{console.error("Error fetching dispatch data",i),this.loadSpinner=!1})}patchInvoiceData(t){this.currencySymbol=t?.vendorDetails?.currencySymbol,this.customerSymbol=t?.customerDetails?.currencySymbol,this.addOrEditDispatchNoteForm.patchValue({vendorId:t?.vendorID,selectedVendorCountry:t?.vendorDetails?.billingCountry,currencySymbol:t?.vendorDetails?.currencySymbol,customerSymbol:t?.customerDetails?.currencySymbol,invoiceDate:this.convertToNgbDate(t?.invoiceDate),fy:t?.fy,clientInvoiceNo:t?.clientInvoiceNo,dueDateAsPerInvoice:this.convertToNgbDate(t?.dueDateAsPerInvoice),creditDaysAsPerContract:t?.creditDaysAsPerContract,dueDateAsPerContract:this.convertToNgbDate(t?.dueDateAsPerContract),customerId:t?.customerID,description:t?.description,title:t?.title,applicationNumber:t?.applicationNumber,filingDate:this.convertToNgbDate(t?.filingDate),clientRefNo:t?.clientRefNo,ourRefNo:t?.ourRefNo,officialFilingReceiptSupporting:t?.officialFilingReceiptSupporting,postedInTally:t?.postedInTally,patentNo:t?.patentNo,workDeliveryDateOrMonth:this.convertToNgbDate(t?.workDeliveryDateOrMonth),purchaseCurrency:t?.purchaseCurrency,paymentFeeDetails:t?.paymentDetails,discountAmt:t?.discountAmt??0,discountCreditNoteAmt:t?.discountCreditNoteAmt??0,creditNoteNo:t?.creditNoteNo,creditNoteDate:this.convertToNgbDate(t?.creditNoteDate),creditNoteRefNo:t?.creditNoteRefNo,customerPONo:t?.customerPONo,poDate:this.convertToNgbDate(t?.pODate),poValueInclusiveTaxes:t?.pOValueInclusiveTaxes,saleCurrency:t?.saleCurrency,salesInvoiceDetails:t?.saleDetails,status:t?.status}),this.applicantDetails.clear(),t.nameDetails?.forEach(i=>{this.applicantDetails.push(this.fb.group({id:i.id,applicantName:[i.applicantName,A.required]}))}),this.invoiceFeeDetails.clear(),t.feeDetails?.forEach(i=>{this.invoiceFeeDetails.push(this.fb.group({id:i.id,feeType:[i.feeType,A.required],subFeeValue:[i.subFeeValue,A.required],country:[i.country,A.required],language:[i.language],amount:[i.amount,A.required],remarks:[i.remarks]}))}),this.paymentFeeDetails.clear(),t.paymentDetails?.forEach(i=>{let e=this.fb.group({id:i.id,paymentDate:[i.paymentDate?this.convertToNgbDate(i.paymentDate):null,A.required],bankID:[i.bankID,A.required],owrmNo1:[i.oWRMNo1,A.required],rate:[i.rate,A.required],quantity:[i.quantity,A.required],paymentCurrency:[i.paymentCurrency,A.required],paymentAmount:[i.paymentAmount,A.required],bankCharges:[i.bankcharges??0,A.required],totalAmountInr:[i.totalAmountInr,A.required]});this.paymentFeeDetails.push(e),this.calculateRowValues(e),this.setupSubscriptions(e)}),this.salesInvoiceDetails.clear(),t.saleDetails?.forEach(i=>{let e=this.fb.group({id:[i.id],type:[i.type],invoiceNo:[i.invoiceNo],amount:[i.amount],estimateNo:[i.estimateNo],saleInvoiceDate:[i?.saleinvoiceDate?this.convertToNgbDate(i.saleinvoiceDate):""],remarks:[i.remarks],postedInTally:[i.postedInTally]});console.log(e.value);let c=e.get("invoiceNo"),p=e.get("estimateNo"),h=!1;c?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,p?.reset(),p?.disable(),h=!1):p?.enable())}),p?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,c?.reset(),c?.disable(),h=!1):c?.enable())}),i.invoiceNo?p?.disable({emitEvent:!1}):i.estimateNo&&c?.disable({emitEvent:!1}),this.salesInvoiceDetails.push(e)}),this.addOrEditDispatchNoteForm.get("dueDateAsPerContract")?.setValue(this.convertToNgbDate(t?.dueDateAsPerContract)),this.addOrEditDispatchNoteForm.patchValue({professionalFeeAmt:t?.professionalFeeAmt??0,govtOrOfficialFeeAmt:t?.govtOrOfficialFeeAmt??0,otherChargesAmt:t?.otherChargesAmt??0,totalAmount:t?.totalAmount??0})}mapQuantities(t){return this.lookupList.find(e=>t===e.id)?.id}getVendorsList(t=0,i=0,e=""){let c={vendorName:e?.vendorName||"",vendorCode:e?.vendorCode||"",vendorType:e?.vendorType||"",status:"Active"};this.vendorService.getVendors(c,t,i).subscribe(p=>{this.vendorsList=p.vendors,this.loadSpinner=!1},p=>{this.loadSpinner=!1,this.toastr.error()})}getAllTransactionTypes(t=0,i=0,e=""){let c={bankCode:e?.transactionTypeCode||"",bankName:e?.transactionTypeName||"",status:"Active"};this.transactionType.getTransactionTypes(c,t,i).subscribe(p=>{console.log(p),this.transactionTypesList=p.banks},p=>{this.loadSpinner=!1})}calculateDueDate(){let t=this.addOrEditDispatchNoteForm.get("invoiceDate")?.value,i=this.addOrEditDispatchNoteForm.get("creditDaysAsPerContract")?.value;if(t&&i!=null&&!isNaN(i)){let e=new Date(t.year,t.month-1,t.day);e.setDate(e.getDate()+Number(i));let c={year:e.getFullYear(),month:e.getMonth()+1,day:e.getDate()};this.addOrEditDispatchNoteForm.get("dueDateAsPerContract")?.setValue(c)}else this.addOrEditDispatchNoteForm.get("dueDateAsPerContract")?.setValue(null)}onInvoiceDateChange(t){if(t&&t.year){let i=`${t.year}-${t.year+1}`;this.addOrEditDispatchNoteForm.get("fy")?.setValue(i),this.addOrEditDispatchNoteForm.get("fy")?.disable()}this.calculateDueDate()}onCreditDaysChange(){this.calculateDueDate()}onCancelPress(){this.router.navigate(["transaction/SalesInvoiceTxn"])}convertToNgbDate(t){if(!t)return null;let i=new Date(t);return{year:i.getFullYear(),month:i.getMonth()+1,day:i.getDate()}}dispatchNoteInit(){this.dispatchNote={actionBy:localStorage.getItem("userId"),attribute1:"",attribute2:"",attribute3:"",attribute4:"",attribute5:0,attribute6:0,attribute7:0,attribute8:0,attribute9:new Date,attribute10:new Date,frlrNumber:"",supplierId:0,vehicleId:0,customerDetails:[],id:this.dispatchId,transporterId:0,frlrDate:"",transporterMode:"",invoiceFeeDetails:[],paymentFeeDetails:[],saleProfessionalInvoices:[],saleGovtInvoices:[],applicantDetails:[]}}getFilteredcustomerNumbers(t){return this.filteredcustomers.filter(i=>!this.selectedcustomers.includes(i.customerNumber))}initializeSelectedcustomers(t){this.selectedcustomers=t}formatDate(t){if(!t||!t.year||!t.month||!t.day)return null;let i=t.year,e=("0"+t.month).slice(-2),c=("0"+t.day).slice(-2);return`${i}-${e}-${c}`}get tab1Controls(){return this.addOrEditDispatchNoteForm.controls}get tab2Controls(){return this.addOrEditDispatchNoteForm.get("invoiceFeeDetails").controls}get tab3Controls(){return this.addOrEditDispatchNoteForm.get("paymentFeeDetails").controls}get tab4Controls(){return this.addOrEditDispatchNoteForm.controls}isTab1Touched(){return["vendorId","invoiceDate","fy","clientInvoiceNo","customerId","title","applicationNumber","clientRefNo","ourRefNo","officialFilingReceiptSupporting","postedInTally","purchaseCurrency"].some(i=>this.addOrEditDispatchNoteForm.get(i)?.value)}isTab1Invalid(){return["vendorId","invoiceDate","fy","clientInvoiceNo","customerId","title","applicationNumber","clientRefNo","ourRefNo","officialFilingReceiptSupporting","purchaseCurrency","postedInTally","applicantDetails"].some(i=>this.addOrEditDispatchNoteForm.get(i)?.invalid)}isTab2Touched(){return this.invoiceFeeDetails.length>0}isTab2Invalid(){return this.isTab2Touched()&&this.addOrEditDispatchNoteForm.get("invoiceFeeDetails").controls.some(t=>t.invalid)}isTab3Touched(){return this.invoiceFeeDetails.length>0}isTab3Invalid(){return this.isTab2Touched()&&this.addOrEditDispatchNoteForm.get("paymentFeeDetails").controls.some(t=>t.invalid)}isTab4Touched(){return["nk"].some(i=>this.addOrEditDispatchNoteForm.get(i)?.value)}isTab4Invalid(){let t=this.addOrEditDispatchNoteForm.get("salesInvoiceDetails")?.value||[];return t.length===0?!1:t.some(e=>(!e.invoiceNo||e.invoiceNo.toString().trim()==="")&&(!e.estimateNo||e.estimateNo.toString().trim()===""))}markTab1FieldsTouched(){console.log("Marking Tab 1 fields as touched"),["vendorId","invoiceDate","fy","clientInvoiceNo","customerId","title","applicationNumber","clientRefNo","ourRefNo","officialFilingReceiptSupporting","purchaseCurrency"].forEach(i=>{let e=this.addOrEditDispatchNoteForm.get(i);e&&(e.markAsTouched(),e.updateValueAndValidity())})}onSavePress(){return ta(this,null,function*(){if(this.loadSpinner=!0,this.isTab1Invalid()){this.toastr.warning("Please complete all required fields in Tab 1"),this.loadSpinner=!1;return}if(this.isTab2Invalid()){this.toastr.warning("Please complete all Invoice Fee fields in Tab 2"),this.loadSpinner=!1;return}if(this.isTab3Invalid()){this.toastr.warning("Please complete all fields in Tab 3"),this.loadSpinner=!1;return}if(this.isTab4Invalid()){this.toastr.warning("Please complete all fields in Tab 4"),this.loadSpinner=!1;return}let t={vendorId:this.addOrEditDispatchNoteForm.controls.vendorId.value||null,invoiceDate:this.formatDate(this.addOrEditDispatchNoteForm.controls.invoiceDate.value),fy:this.addOrEditDispatchNoteForm.controls.fy.value,clientInvoiceNo:this.addOrEditDispatchNoteForm.controls.clientInvoiceNo.value,dueDateAsPerInvoice:this.formatDate(this.addOrEditDispatchNoteForm.controls.dueDateAsPerInvoice.value),creditDaysAsPerContract:Number(this.addOrEditDispatchNoteForm.controls.creditDaysAsPerContract.value),customerId:Number(this.addOrEditDispatchNoteForm.controls.customerId.value||null),VendorApplicantNames:this.addOrEditDispatchNoteForm.get("applicantDetails")?.value||[],description:this.addOrEditDispatchNoteForm.controls.description.value,title:this.addOrEditDispatchNoteForm.controls.title.value,applicationNumber:this.addOrEditDispatchNoteForm.controls.applicationNumber.value,filingDate:this.formatDate(this.addOrEditDispatchNoteForm.controls.filingDate.value),clientRefNo:this.addOrEditDispatchNoteForm.controls.clientRefNo.value,ourRefNo:this.addOrEditDispatchNoteForm.controls.ourRefNo.value,officialFilingReceiptSupporting:this.addOrEditDispatchNoteForm.controls.officialFilingReceiptSupporting.value,postedInTally:this.addOrEditDispatchNoteForm.controls.postedInTally.value,patentNo:this.addOrEditDispatchNoteForm.controls.patentNo.value,creditNoteNo:this.addOrEditDispatchNoteForm.controls.creditNoteNo.value,creditNoteDate:this.formatDate(this.addOrEditDispatchNoteForm.controls.creditNoteDate.value),creditNoteRefNo:this.addOrEditDispatchNoteForm.controls.creditNoteRefNo.value,workDeliveryDateOrMonth:this.formatDate(this.addOrEditDispatchNoteForm.controls.workDeliveryDateOrMonth.value),purchaseCurrency:this.addOrEditDispatchNoteForm.controls.purchaseCurrency.value,invoiceFeeDetails:this.addOrEditDispatchNoteForm.get("invoiceFeeDetails")?.value||[],professionalFeeAmt:Number(this.addOrEditDispatchNoteForm.controls.professionalFeeAmt?.value),paymentFeeDetails:this.addOrEditDispatchNoteForm.value.paymentFeeDetails?.map(i=>zi(di({},i),{paymentDate:this.formatDate(i.paymentDate)}))||[],govtOrOfficialFeeAmt:Number(this.addOrEditDispatchNoteForm.controls.govtOrOfficialFeeAmt?.value),otherChargesAmt:Number(this.addOrEditDispatchNoteForm.controls.otherChargesAmt?.value),discountAmt:Number(this.addOrEditDispatchNoteForm.controls.discountAmt?.value),discountCreditNoteAmt:Number(this.addOrEditDispatchNoteForm.controls.discountCreditNoteAmt?.value),totalAmount:Number(this.addOrEditDispatchNoteForm.controls.totalAmount?.value),customerPONo:this.addOrEditDispatchNoteForm.controls.customerPONo.value,poDate:this.formatDate(this.addOrEditDispatchNoteForm.controls.poDate.value),poValueInclusiveTaxes:Number(this.addOrEditDispatchNoteForm.controls.poValueInclusiveTaxes.value),saleCurrency:this.addOrEditDispatchNoteForm.controls.saleCurrency.value,salesInvoiceDetails:this.addOrEditDispatchNoteForm.value.salesInvoiceDetails?.map(i=>zi(di({},i),{saleInvoiceDate:this.formatDate(i.saleInvoiceDate)}))||[],createdBy:"",status:this.addOrEditDispatchNoteForm.controls.status.value};this.dispatchId>0?this.dispatchNoteService.updateDispatchNote(this.dispatchId,t).subscribe(i=>{this.toastr.success("Invoice Updated Successfully"),this.loadSpinner=!1,this.router.navigate(["transaction/SalesInvoiceTxn"])},i=>{this.loadSpinner=!1}):this.dispatchNoteService.createDispatchNote(t).subscribe(i=>{this.toastr.success("Invoice Created Successfully"),this.loadSpinner=!1,this.router.navigate(["transaction/SalesInvoiceTxn"])},i=>{this.loadSpinner=!1})})}validateNo(t){let i=t.which?t.which:t.keyCode;return!(i>31&&(i<48||i>57))}isFormInvalid(){}getEditData(t=""){this.loadSpinner=!0,this.dispatchNoteService.getDispatchNote({dispatchNumber:t}).subscribe(i=>{this.dispatchNotes=i.dispatchNotes,this.getDispatchData(this.dispatchId)})}onDateSelect(t,i){let e=Number(i.month)<10?"0"+i.month:i.month,c=Number(i.day)<10?"0"+i.day:i.day}createInvoiceFeeDetailsGroup(){let t=this.fb.group({id:[0],feeType:[""],subFeeValue:["",[A.required]],country:["",[A.required]],amount:["",[A.required]],remarks:[""],language:[""]});this.invoiceFeeDetails.push(t),t.get("feeType")?.valueChanges.subscribe(()=>this.calculateTotals()),t.get("amount")?.valueChanges.subscribe(()=>this.calculateTotals()),this.calculateTotals()}get paymentFeeDetails(){return this.addOrEditDispatchNoteForm.get("paymentFeeDetails")}get invoiceFeeDetails(){return this.addOrEditDispatchNoteForm.get("invoiceFeeDetails")}get salesInvoiceDetails(){return this.addOrEditDispatchNoteForm.get("salesInvoiceDetails")}addSaleInvoice(t){let i=new Date,e=this.fb.group({id:[0],type:[t],invoiceNo:[],amount:[null],estimateNo:[null],saleInvoiceDate:[""],remarks:[""],postedInTally:[""]}),c=e.get("invoiceNo"),p=e.get("estimateNo"),h=!1;c?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,p?.reset(),p?.disable(),h=!1):p?.enable())}),p?.valueChanges.subscribe(w=>{h||(w!=""?(h=!0,c?.reset(),c?.disable(),h=!1):c?.enable())}),this.salesInvoiceDetails.push(e)}createPaymentFeeDetailsGroup(){let t=this.fb.group({id:[0],paymentDate:["",[A.required]],bankID:["",[A.required]],owrmNo1:["",[A.required]],rate:[0,A.required],quantity:[0,A.required],paymentCurrency:["",[A.required]],paymentAmount:[0],bankCharges:[0,A.required],totalAmountInr:[0]});this.paymentFeeDetails.push(t);let i=this.paymentFeeDetails.at(this.paymentFeeDetails.length-1);this.setupSubscriptions(i)}setupSubscriptions(t){t.get("rate").valueChanges.subscribe(()=>{this.calculateRowValues(t)}),t.get("quantity").valueChanges.subscribe(()=>{this.calculateRowValues(t)}),t.get("bankCharges").valueChanges.subscribe(()=>{this.calculateRowValues(t)})}calculateRowValues(t){if(!t)return;let i=parseFloat(t.get("rate")?.value)||0,e=parseFloat(t.get("quantity")?.value)||0,c=parseFloat(t.get("bankCharges")?.value)||0,p=i*e;t.get("paymentAmount")?.patchValue(p,{emitEvent:!1});let h=p+c;t.get("totalAmountInr")?.patchValue(h,{emitEvent:!1})}filteredSalesInvoices(t){return this.salesInvoiceDetails.controls.filter(i=>i.get("type")?.value===t)}removeSaleInvoice(t){let i=this.salesInvoiceDetails.controls.indexOf(t);i>=0&&this.salesInvoiceDetails.removeAt(i)}onDeleteInvoiceFeeDetail(t,i){this.loadSpinner=!0,this.invoiceFeeDetails.removeAt(i);let e=t.value.InvoiceFeeDetailNumber,c=this.selectedParts.indexOf(e);c>-1&&this.selectedParts.splice(c,1),this.subFeeOptionsList.splice(c,1),this.calculateTotals(),this.loadSpinner=!1}onDeletePaymentFeeDetail(t,i){this.loadSpinner=!0,this.loadSpinner=!0,this.paymentFeeDetails.removeAt(i);let e=t.value.InvoiceFeeDetailNumber,c=this.selectedPayment.indexOf(e);c>-1&&this.selectedPayment.splice(c,1),this.loadSpinner=!1}updateSelectedInvoice(t){this.selectedParts=t}updateSelectedSales(t){this.selectedParts=t}getSelectedValue(t){return t.target?.value||""}onFeeTypeSelect(t,i){this.loadSpinner=!0;let e=this.invoiceFeeDetails.at(i);this.getAllLookupsList(0,t,i,e),this.loadSpinner=!1}calculateTotals(){let t=0,i=0,e=0;this.invoiceFeeDetails.controls.forEach(w=>{let N=w.get("feeType")?.value,L=parseFloat(w.get("amount")?.value)||0;switch(N){case"Professional Fee":t+=L;break;case"Govt or Offical Fee":i+=L;break;case"Other Charges":e+=L;break}}),this.addOrEditDispatchNoteForm.get("professionalFeeAmt")?.patchValue(t.toFixed(2)),this.addOrEditDispatchNoteForm.get("govtOrOfficialFeeAmt")?.patchValue(i.toFixed(2)),this.addOrEditDispatchNoteForm.get("otherChargesAmt")?.patchValue(e.toFixed(2));let c=parseFloat(this.addOrEditDispatchNoteForm.get("discountAmt")?.value)||0,p=parseFloat(this.addOrEditDispatchNoteForm.get("discountCreditNoteAmt")?.value)||0,h=t+i+e-c-p;this.addOrEditDispatchNoteForm.get("totalAmount")?.patchValue(h.toFixed(2))}onFeeTypeChange(t){let i=this.invoiceFeeDetails.controls.some(e=>e.get("subFeeValue")?.value==="Translation Fee");this.isTranslationFeeSelected=i}validateNo1(t){let i=/[0-9\+\-\ ]/,e=String.fromCharCode(t.charCode);i.test(e)||t.preventDefault()}validateDecimal(t){let i=/[0-9.]/,e=String.fromCharCode(t.charCode);i.test(e)||t.preventDefault();let c=t.target.value;e==="."&&c.includes(".")&&t.preventDefault()}getAllLookupsList(t=0,i="",e,c){let p={code:typeof i=="object"&&i.code||"",lookUpType:typeof i=="object"?i.lookUpType||"":i||"",value:typeof i=="object"&&i.value||"",status:typeof i=="object"&&i.status!==void 0?i.status:"Active"};this.loadSpinner=!0,this.lookupService.getLookupsType(p).subscribe(h=>{let w=h.lookUps||[];e!==void 0&&c&&(this.subFeeOptionsList[e]=w,c.get("subFeeValue")?.setValue("")),this.loadSpinner=!1},h=>{this.loadSpinner=!1})}getLanguageList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Language").subscribe(t=>{this.LanguageList=t.lookUps||[],console.log(this.LanguageList),this.loadSpinner=!1})}getCountryList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Country").subscribe(t=>{this.countryList=t.lookUps||[],this.loadSpinner=!1})}getPaymentCurrencyList(){this.loadSpinner=!0,this.lookupService.getDropdownData("Currency").subscribe(t=>{this.currencyList=t.lookUps||[],this.loadSpinner=!1})}};r.\u0275fac=function(i){return new(i||r)(D(X),D(Rn),D(Z),D(Ai),D(oi),D(ye),D(et),D(mt),D(nn),D(xi))},r.\u0275cmp=k({type:r,selectors:[["app-add-edit-dispatch-note1"]],decls:341,vars:47,consts:[["fromDt","ngbDatepicker"],["dueDateAsPerInvoice","ngbDatepicker"],["filingDate","ngbDatepicker"],["workDeliveryDateOrMonthDt","ngbDatepicker"],["creditNoteDate","ngbDatepicker"],["poDate","ngbDatepicker"],["emptyLang",""],["dp","ngbDatepicker"],[1,"page-title"],[1,"action-buttons"],[1,"custom-button-regulr",3,"click"],[1,"custom-button-secondary",3,"click"],[1,"content-section","p-3"],[3,"formGroup"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],["data-bs-toggle","tab","href","#Tab4",1,"nav-link","active"],[1,"tab-content"],["id","Tab1",1,"tab-pane","fade","hide"],[1,"row"],[1,"col-lg-3","col-md-3"],[1,"custom-form-input"],["for",""],[1,"text-danger"],["formControlName","vendorId",3,"change","searchable","readonly"],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","selectedVendorCountry","placeholder","Vendor country ","readonly","",1,"form-control",3,"value"],[1,"input-group","datepicker"],["placeholder","dd-mm-yyyy","name","fromDt","formControlName","invoiceDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3",3,"click"],["src","assets/images/icons/calendar.svg","alt","","width","15px"],["formControlName","fy","type","text",1,"input-field"],["formControlName","clientInvoiceNo","type","text",1,"input-field"],["placeholder","dd-MM-yyyy","name","dueDateAsPerInvoice","formControlName","dueDateAsPerInvoice","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["formControlName","creditDaysAsPerContract","type","number",1,"input-field",3,"input","keypress"],["placeholder","dd-MM-yyyy","name","dueDateAsPerContract","ngbDatepicker","","formControlName","dueDateAsPerContract","readonly","",1,"form-control"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar3"],["formControlName","customerId",3,"change","searchable","readonly"],[1,"col-lg-12","mt-3"],[1,"mb-2","fw-bold","fs-5","d-flex","align-items-center"],[1,"bi","bi-people-fill","text-primary","me-2"],["type","button",1,"btn","btn-success","btn-sm","ms-3","px-3","rounded-pill","shadow-sm",3,"click"],[1,"bi","bi-plus-circle","me-1"],[1,"table","table-bordered","table-sm","shadow-sm","rounded","overflow-hidden","applicant-table"],[4,"ngFor","ngForOf","ngForTrackBy"],["formControlName","description","type","text",1,"input-field"],["formControlName","title","type","text",1,"input-field"],["formControlName","applicationNumber","type","text",1,"input-field"],["placeholder","dd-MM-yyyy","name","filingDate","formControlName","filingDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","minDate","maxDate"],["type","button",1,"btn","btn-outline-secondary","bi","bi-calendar6",3,"click"],["formControlName","clientRefNo","type","text",1,"input-field"],["formControlName","ourRefNo","type","text",1,"input-field"],["bindLabel","label","bindValue","value","formControlName","officialFilingReceiptSupporting","placeholder","Select Yes or No",1,"input-field",3,"items"],["placeholder","dd-MM-yyyy","name","workDeliveryDateOrMonth","formControlName","workDeliveryDateOrMonth","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["type","text","formControlName","purchaseCurrency","placeholder","Currency","readonly","",1,"form-control","form-control-sm"],["bindLabel","label","bindValue","value","formControlName","postedInTally","placeholder","Select Yes or No",1,"input-field",3,"items"],["formControlName","patentNo","type","text",1,"input-field"],["id","Tab2",1,"tab-pane","fade"],[1,"edit-screen-subTable","mt-0"],[1,"custom-table"],[1,"table","table-bordered"],[1,"required-label"],["class","required-label",4,"ngIf"],[1,"text-center"],["formArrayName","invoiceFeeDetails"],[4,"ngFor","ngForOf"],[1,"row","mt-4","gx-4","gy-3"],[1,"col-lg-4","col-md-6"],[1,"fw-bold"],[1,"input-group"],[1,"input-group-text"],["formControlName","professionalFeeAmt","type","number","readonly","",1,"form-control"],["formControlName","govtOrOfficialFeeAmt","type","number","readonly","",1,"input-field","form-control"],["formControlName","otherChargesAmt","type","number","readonly","",1,"input-field","form-control"],["formControlName","discountAmt","type","number",1,"input-field","form-control",3,"keypress"],["formControlName","discountCreditNoteAmt","type","number",1,"input-field","form-control",3,"keypress"],["formControlName","creditNoteNo","type","text",1,"input-field","form-control"],["placeholder","dd-MM-yyyy","name","creditNoteDate","formControlName","creditNoteDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose"],["formControlName","creditNoteRefNo","type","text",1,"input-field","form-control"],["formControlName","totalAmount","type","number","readonly","",1,"input-field","form-control"],["id","Tab3","role","tabpanel","aria-labelledby","tab3-tab",1,"tab-pane","fade","show"],[1,"table-scroll"],[1,"text-center",2,"width","5%"],["formArrayName","paymentFeeDetails"],["id","Tab4",1,"tab-pane","fade","show","active"],[1,"row","g-2","mb-3","d-flex","align-items-center"],[1,"col-md-3"],[1,"label-small"],["formControlName","customerPONo","type","text",1,"form-control","form-control-sm","input-field-sm"],["formControlName","poValueInclusiveTaxes","type","text",1,"form-control","form-control-sm","input-field-sm",3,"keypress"],[1,"col-sm-3"],[1,"input-group","input-group-sm"],["placeholder","dd-MM-yyyy","formControlName","poDate","ngbDatepicker","","readonly","",1,"form-control","input-field-sm",3,"dateSelect"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["formControlName","saleCurrency","type","text",1,"iform-control","form-control-sm","input-field-sm"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"click"],[1,"btn","btn-outline-success","btn-sm",3,"click"],[4,"ngIf"],["id","status",1,"tab-pane","fade"],["class","custom-form-input",4,"ngIf"],["class","spinner",4,"ngIf"],[3,"value"],[1,"applicant-cell","bg-light"],[1,"d-flex","align-items-center","w-100","p-1","rounded"],[1,"me-2","fw-bold","text-secondary"],["type","text","placeholder","Applicant name *",1,"form-control","form-control-sm","flex-grow-1","border-0","shadow-sm","rounded-pill","applicant-input",3,"formControl"],["type","button",1,"btn","btn-danger","btn-sm","ms-2","shadow-sm","remove-btn",3,"click"],[1,"bi","bi-trash-fill"],[3,"formGroupName"],[1,"custom-form-input","dispatchwidth"],["formControlName","feeType",1,"form-control","input-field",3,"change"],["value",""],["value","Professional Fee"],["value","Govt or Offical Fee"],["value","Other Charges"],["placeholder","Add Sub Fee","bindLabel","value","bindValue","value","formControlName","subFeeValue",1,"input-field",3,"change","items"],["placeholder","Select Country","formControlName","country",1,"input-field"],[1,"custom-form-input","dispatchwidthsmall"],["formControlName","amount","type","number","step","0.01","placeholder","Enter Amt",1,"input-field",3,"keypress"],["formControlName","remarks","type","text","placeholder","Remarks",1,"input-field"],["src","assets/images/icons/trash.svg","alt","Delete",1,"me-2","pointer",3,"click"],[4,"ngIf","ngIfElse"],["placeholder","Select Language","formControlName","language",1,"input-field"],["placeholder","dd-MM-yyyy","name","paymentDate","formControlName","paymentDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose","container"],["formControlName","bankID","placeholder","Select Bank",1,"input-field",3,"appendTo"],["formControlName","owrmNo1","type","text","placeholder","OWRM No 1",1,"input-field"],["formControlName","paymentCurrency","placeholder","Select Currency",1,"input-field",3,"appendTo"],["formControlName","rate","type","text","placeholder","",1,"input-field",3,"keypress"],["formControlName","quantity","type","text","placeholder","",1,"input-field",3,"keypress"],["formControlName","paymentAmount","type","number","placeholder","Enter Amt","readonly","",1,"input-field",3,"keypress"],["formControlName","bankCharges","type","text","placeholder","charges",1,"input-field",3,"keypress"],["formControlName","totalAmountInr","type","number","placeholder","Enter Amt","readonly","",1,"input-field"],[1,"d-flex","justify-content-between","align-items-center"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"table","table-sm","table-bordered","mt-2"],[1,"table-light","text-center"],["class","border",3,"formGroup",4,"ngFor","ngForOf"],[1,"border",3,"formGroup"],["formControlName","invoiceNo",1,"form-control","form-control"],["formControlName","amount","type","text","placeholder","Enter Amount",1,"form-control",3,"keypress"],["formControlName","estimateNo",1,"form-control","form-control"],["placeholder","dd-MM-yyyy","name","saleInvoiceDate","formControlName","saleInvoiceDate","ngbDatepicker","","readonly","",1,"form-control",3,"dateSelect","autoClose","container"],["formControlName","remarks",1,"form-control","form-control"],["formControlName","postedInTally",1,"ng-select-custom"],["src","assets/images/icons/trash.svg","width","18px",1,"me-2","pointer",3,"click"],[3,"formGroup",4,"ngFor","ngForOf"],["placeholder","dd-MM-yyyy","name","saleInvoiceDate","formControlName","saleInvoiceDate","ngbDatepicker","",1,"form-control",3,"dateSelect","autoClose","container"],["src","assets/images/icons/trash.svg","width","18px",3,"click"],["name","","id","","formControlName","status"],["value","Active"],["value","Inactive"],[1,"spinner"]],template:function(i,e){if(i&1){let c=O();o(0,"div",8)(1,"h1"),s(2),n(),o(3,"div",9)(4,"button",10),g("click",function(){return b(c),y(e.onSavePress())}),s(5,"Save"),n(),o(6,"button",11),g("click",function(){return b(c),y(e.onCancelPress())}),s(7," Cancel "),n()()(),o(8,"div",12)(9,"form",13)(10,"ul",14)(11,"li",15)(12,"a",16),s(13,"Sales INV "),n()()(),o(14,"div",17)(15,"div",18)(16,"div",19)(17,"div",20)(18,"div",21)(19,"label",22),s(20,"Vendor Name "),o(21,"span",23),s(22,"*"),n()(),o(23,"ng-select",24),g("change",function(h){return b(c),y(e.onVendorSelect(h))}),v(24,p4,2,2,"ng-option",25),n()()(),o(25,"div",20)(26,"div",21)(27,"label",22),s(28,"Vendor Country "),o(29,"span",23),s(30,"*"),n()(),E(31,"input",26),n()(),o(32,"div",20)(33,"div",21)(34,"label",22),s(35,"Invoice Date "),o(36,"span",23),s(37,"*"),n()(),o(38,"div",27)(39,"input",28,0),g("dateSelect",function(h){return b(c),y(e.onInvoiceDateChange(h))}),n(),o(41,"button",29),g("click",function(){b(c);let h=R(40);return y(h.toggle())}),E(42,"img",30),n()()()(),o(43,"div",20)(44,"div",21)(45,"label",22),s(46,"FY "),o(47,"span",23),s(48,"*"),n()(),E(49,"input",31),n()(),o(50,"div",20)(51,"div",21)(52,"label",22),s(53," Vendor Invoice No "),o(54,"span",23),s(55,"*"),n()(),E(56,"input",32),n()(),o(57,"div",20)(58,"div",21)(59,"label",22),s(60,"Due Date As Per Invoice "),o(61,"span",23),s(62,"*"),n()(),o(63,"div",27)(64,"input",33,1),g("dateSelect",function(h){return b(c),y(e.onDateSelect("dueDateAsPerInvoice",h))}),n(),o(66,"button",29),g("click",function(){b(c);let h=R(65);return y(h.toggle())}),E(67,"img",30),n()()()(),o(68,"div",20)(69,"div",21)(70,"label",22),s(71," Credit Days As Per Contract "),n(),o(72,"input",34),g("input",function(){return b(c),y(e.onCreditDaysChange())})("keypress",function(h){return b(c),y(e.validateNo1(h))}),n()()(),o(73,"div",20)(74,"div",21)(75,"label",22),s(76,"Due Date As Per Contract "),n(),o(77,"div",27),E(78,"input",35),o(79,"button",36),E(80,"img",30),n()()()(),o(81,"div",20)(82,"div",21)(83,"label",22),s(84,"Customer Name "),o(85,"span",23),s(86,"*"),n()(),o(87,"ng-select",37),g("change",function(h){return b(c),y(e.onCustomerSelect(h))}),v(88,m4,2,2,"ng-option",25),n()()(),o(89,"div",38)(90,"label",39),E(91,"i",40),s(92," Applicant Names "),o(93,"button",41),g("click",function(){return b(c),y(e.addApplicantField())}),E(94,"i",42),s(95," Add Applicant "),n()(),o(96,"table",43)(97,"tbody"),v(98,h4,3,2,"ng-container",44),n()()(),o(99,"div",20)(100,"div",21)(101,"label",22),s(102,"Description "),n(),E(103,"input",45),n()(),o(104,"div",20)(105,"div",21)(106,"label",22),s(107,"Title "),o(108,"span",23),s(109,"*"),n()(),E(110,"input",46),n()(),o(111,"div",20)(112,"div",21)(113,"label",22),s(114,"Application Number "),o(115,"span",23),s(116,"*"),n()(),E(117,"input",47),n()(),o(118,"div",20)(119,"div",21)(120,"label",22),s(121,"Filing Date "),n(),o(122,"div",27)(123,"input",48,2),g("dateSelect",function(h){return b(c),y(e.onDateSelect("filingDate",h))}),n(),o(125,"button",49),g("click",function(){b(c);let h=R(124);return y(h.toggle())}),E(126,"img",30),n()()()(),o(127,"div",20)(128,"div",21)(129,"label",22),s(130,"Client Ref No "),o(131,"span",23),s(132,"*"),n()(),E(133,"input",50),n()(),o(134,"div",20)(135,"div",21)(136,"label",22),s(137,"Our Ref No "),o(138,"span",23),s(139,"*"),n()(),E(140,"input",51),n()(),o(141,"div",20)(142,"div",21)(143,"label",22),s(144,"Filing Receipt Supporting "),o(145,"span",23),s(146,"*"),n()(),E(147,"ng-select",52),n()(),o(148,"div",20)(149,"div",21)(150,"label",22),s(151,"Work Delivery Date "),n(),o(152,"div",27)(153,"input",53,3),g("dateSelect",function(h){return b(c),y(e.onDateSelect("workDeliveryDateOrMonth",h))}),n(),o(155,"button",29),g("click",function(){b(c);let h=R(154);return y(h.toggle())}),E(156,"img",30),n()()()(),o(157,"div",20)(158,"div",21)(159,"label",22),s(160,"Purchase Currency "),o(161,"span",23),s(162,"*"),n()(),E(163,"input",54),n()(),o(164,"div",20)(165,"div",21)(166,"label",22),s(167,"Posted In Tally "),o(168,"span",23),s(169,"*"),n()(),E(170,"ng-select",55),n()(),o(171,"div",20)(172,"div",21)(173,"label",22),s(174,"Patent No "),n(),E(175,"input",56),n()()()(),o(176,"div",57)(177,"div",58)(178,"h4"),s(179," Invoice Fee Details "),o(180,"button",10),g("click",function(){return b(c),y(e.createInvoiceFeeDetailsGroup())}),s(181,"Add"),n()()(),o(182,"div",59)(183,"table")(184,"thead",60)(185,"tr")(186,"th"),s(187,"Line"),n(),o(188,"th",61),s(189,"Fees Type"),n(),o(190,"th",61),s(191,"Type"),n(),o(192,"th",61),s(193,"Country"),n(),v(194,g4,2,0,"th",62),o(195,"th",61),s(196,"Amount"),n(),o(197,"th"),s(198,"Remarks"),n(),o(199,"th",63),s(200,"Action"),n()()(),o(201,"tbody",64),v(202,C4,31,5,"ng-container",65),n()()(),o(203,"div",66)(204,"div",67)(205,"div",21)(206,"label",68),s(207,"Professional Fee Total Amount"),n(),o(208,"div",69)(209,"span",70),s(210),n(),E(211,"input",71),n()()(),o(212,"div",67)(213,"div",21)(214,"label",68),s(215,"Govt/Official Fee Total Amount"),n(),o(216,"div",69)(217,"span",70),s(218),n(),E(219,"input",72),n()()(),o(220,"div",67)(221,"div",21)(222,"label",68),s(223,"Other Charges Total Amount"),n(),o(224,"div",69)(225,"span",70),s(226),n(),E(227,"input",73),n()()(),o(228,"div",67)(229,"div",21)(230,"label",68),s(231,"Discount Amount"),n(),o(232,"input",74),g("keypress",function(h){return b(c),y(e.validateDecimal(h))}),n()()(),o(233,"div",67)(234,"div",21)(235,"label",68),s(236,"Credit Note Amount"),n(),o(237,"input",75),g("keypress",function(h){return b(c),y(e.validateDecimal(h))}),n()()(),o(238,"div",67)(239,"div",21)(240,"label",68),s(241,"Credit Note No"),n(),E(242,"input",76),n()(),o(243,"div",67)(244,"div",21)(245,"label",22),s(246,"Credit Note Date"),n(),o(247,"div",27)(248,"input",77,4),g("dateSelect",function(h){return b(c),y(e.onDateSelect("creditNoteDate",h))}),n(),o(250,"button",29),g("click",function(){b(c);let h=R(249);return y(h.toggle())}),E(251,"img",30),n()()()(),o(252,"div",67)(253,"div",21)(254,"label",68),s(255,"Credit Note Ref No"),n(),E(256,"input",78),n()(),o(257,"div",67)(258,"div",21)(259,"label",68),s(260,"Total Amount"),n(),o(261,"div",69)(262,"span",70),s(263),n(),E(264,"input",79),n()()()()(),o(265,"div",80)(266,"div",58)(267,"h4"),s(268," Payment Fee Details "),o(269,"button",10),g("click",function(){return b(c),y(e.createPaymentFeeDetailsGroup())}),s(270,"Add"),n()()(),o(271,"div",81)(272,"div",59)(273,"table")(274,"thead",60)(275,"tr")(276,"th"),s(277,"Line"),n(),o(278,"th",61),s(279,"Payment Date"),n(),o(280,"th",61),s(281,"Bank"),n(),o(282,"th",61),s(283,"Owrm No"),n(),o(284,"th",61),s(285,"PaymentCurrency"),n(),o(286,"th",61),s(287,"Forex Amount"),n(),o(288,"th",61),s(289,"Rate Of Exchange"),n(),o(290,"th",61),s(291,"Value (INR)"),n(),o(292,"th",61),s(293,"Bank Charges"),n(),o(294,"th",61),s(295,"Total Amount (INR)"),n(),o(296,"th",82),s(297,"Action"),n()()(),o(298,"tbody",83),v(299,D4,39,8,"ng-container",65),n()()()()(),o(300,"div",84)(301,"div",85)(302,"div",86)(303,"label",87),s(304,"Customer PO Number "),n(),E(305,"input",88),n(),o(306,"div",86)(307,"label",87),s(308,"PO Value Inclusive Taxes "),n(),o(309,"input",89),g("keypress",function(h){return b(c),y(e.validateDecimal(h))}),n()(),o(310,"div",90)(311,"label",87),s(312,"PO Date "),n(),o(313,"div",91)(314,"input",92,5),g("dateSelect",function(h){return b(c),y(e.onDateSelect("poDate",h))}),n(),o(316,"button",93),g("click",function(){b(c);let h=R(315);return y(h.toggle())}),E(317,"img",30),n()()(),o(318,"div",86)(319,"div",87)(320,"label",22),s(321,"Sales Currency "),o(322,"span",23),s(323,"*"),n()(),o(324,"div",69)(325,"span",70),s(326),n(),E(327,"input",94),n()()()(),o(328,"div",58)(329,"h5")(330,"button",95),g("click",function(){return b(c),y(e.activeSection="professional")}),s(331,"Professional Fee Deatils"),n(),o(332,"button",96),g("click",function(){return b(c),y(e.activeSection="govt")}),s(333,"Govt/Official Fee Details"),n()()(),v(334,T4,27,2,"div",97)(335,I4,27,2,"div",97),n(),o(336,"div",98)(337,"div",19)(338,"div",20),v(339,N4,9,0,"div",99),n()()()()()(),v(340,F4,2,0,"div",100)}i&2&&(d(2),Ce("",e.dispatchId>0?"Edit":"Create"," Sales Invoice "),d(7),m("formGroup",e.addOrEditDispatchNoteForm),d(14),m("searchable",!0)("readonly",e.dispatchId>0),d(),m("ngForOf",e.vendorsList),d(7),m("value",e.selectedVendorCountry),d(8),m("autoClose",!0),d(25),m("autoClose",!0),d(23),m("searchable",!0)("readonly",e.dispatchId>0),d(),m("ngForOf",e.customersList),d(10),m("ngForOf",e.getApplicantsRows())("ngForTrackBy",e.trackByRowIndex),d(25),m("minDate",e.minDate)("maxDate",e.maxDate),d(24),m("items",eo(38,l4,pi(35,o4),pi(36,r4),pi(37,a4))),d(6),m("autoClose",!0),d(17),m("items",$e(44,c4,pi(42,s4),pi(43,d4))),d(24),m("ngIf",e.isTranslationFeeSelected),d(8),m("ngForOf",e.invoiceFeeDetails.controls),d(8),_(e.currencySymbol),d(8),_(e.currencySymbol),d(8),_(e.currencySymbol),d(22),m("autoClose",!0),d(15),_(e.currencySymbol),d(36),m("ngForOf",e.paymentFeeDetails.controls),d(27),_(e.customerSymbol),d(4),pt("active",e.activeSection==="professional"),d(2),pt("active",e.activeSection==="govt"),d(2),m("ngIf",e.activeSection==="professional"),d(),m("ngIf",e.activeSection==="govt"),d(4),m("ngIf",e.dispatchId),d(),m("ngIf",e.loadSpinner))},dependencies:[$,z,le,se,Ze,me,ue,Ae,Po,pe,U,Qe,ko,nt,ot,Ni,Fi,Tt],styles:['.content-section[_ngcontent-%COMP%]{height:calc(100vh - 162px);background:#fff;border-radius:10px;box-shadow:0 1px 4px #00000024;overflow-x:hidden}.dispatchwidth[_ngcontent-%COMP%]{min-width:150px}.dispatchwidthsmall[_ngcontent-%COMP%]{max-width:100px}.table-bordered[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .table-bordered[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{vertical-align:top}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-color:#dee2e6!important}.input-field-sm[_ngcontent-%COMP%]{border-radius:4px;font-size:.875rem;padding:.25rem .5rem;border-color:#000}.label-small[_ngcontent-%COMP%]{font-weight:500;font-size:.8rem}.pointer[_ngcontent-%COMP%]{cursor:pointer;transition:transform .2s}.pointer[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.ng-select-sm[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{height:calc(1.8125rem + 2px);font-size:.875rem;padding:.25rem .5rem;border:1px solid #dc3545!important;border-radius:4px;box-sizing:border-box;display:flex;align-items:center}.input-field-sm[_ngcontent-%COMP%]{height:31px!important;font-size:.875rem;padding:.25rem .5rem}table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{border:.5px solid black!important}.required-label[_ngcontent-%COMP%]:after{content:" *";color:red;font-weight:700;margin-left:2px}.shetty.ng-touch[_ngcontent-%COMP%]{border:1px solid re}.custom-table-responsive[_ngcontent-%COMP%]{overflow-x:auto;width:100%;border:1px solid black!important;border-radius:2px 2px 10px 10px;overflow:visible!important}.custom-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .custom-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{white-space:nowrap;padding:8px}.ng-dropdown-panel[_ngcontent-%COMP%]{z-index:99999!important;position:absolute!important}.applicant-table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f1f8ff;transition:background-color .2s ease-in-out}.applicant-cell[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{box-shadow:0 0 6px #007bff66}.remove-btn[_ngcontent-%COMP%]{font-size:16px;background-color:#8600072a;color:#495057;box-shadow:0 1px 2px #0000001a;transition:all .2s ease-in-out}.remove-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;font-size:10rem}.remove-btn[_ngcontent-%COMP%]:hover{font-size:16px;background-color:#dc3545!important;color:#000!important;box-shadow:0 3px 6px #fa3d5066}table[_ngcontent-%COMP%]{border:.5px solid #8d8d8d;border-collapse:collapse;overflow-x:auto;min-width:1000px}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:.5px solid #444444;padding:8px}.table-scroll[_ngcontent-%COMP%]{max-width:100%;overflow-x:auto;padding-bottom:20px}.table-scroll[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:1200px;border-collapse:separate;border-spacing:0}.ngb-dp-container[_ngcontent-%COMP%], .ngb-datepicker[_ngcontent-%COMP%]{position:absolute!important;z-index:1050;background:#fff;box-shadow:0 2px 8px #00000026}.ngb-datepicker[_ngcontent-%COMP%]{position:absolute!important;z-index:9999!important}.input-group.datepicker[_ngcontent-%COMP%]{position:relative}input[_ngcontent-%COMP%]::placeholder{color:red!important;font-weight:700!important}']});let a=r;return a})();var M4=[{path:"",component:sm,children:[{path:"",redirectTo:"master",pathMatch:"full"},{path:"master",component:Y0},{path:"master/lookupType",component:dg,canActivate:[]},{path:"master/addEditlookupType/:lookupTypeId",component:cg,canActivate:[]},{path:"master/customer",component:jm,canActivate:[]},{path:"master/addEditCustomer/:customerId",component:Gm,canActivate:[]},{path:"master/vendor",component:Hm,canActivate:[]},{path:"master/addEditVendor/:vendorId",component:zm,canActivate:[]},{path:"master/vehicle",component:$m,canActivate:[]},{path:"master/editVehicle/:vehicleId",component:vs,canActivate:[]},{path:"master/addVehicle",component:vs,canActivate:[]},{path:"master/bank",component:Jm,canActivate:[]},{path:"master/addEditBank/:bankId",component:S0},{path:"master/freight",component:tu,canActivate:[]},{path:"master/addEditFreight/:freightId",component:nu,canActivate:[]},{path:"master/transporter",component:au,canActivate:[]},{path:"master/addEditTransporter/:transporterCode",component:lu,canActivate:[]},{path:"master/advice",component:cu,canActivate:[]},{path:"master/addEditAdvice/:adviceId",component:uu,canActivate:[]},{path:"master/pointCharge",component:fu,canActivate:[]},{path:"master/addEditPointCharge",component:Ra,canActivate:[]},{path:"master/lookup",component:z0,canActivate:[]},{path:"master/addEditLookup/:lookupId",component:q0,canActivate:[]},{path:"master/editPointCharge/:pointChargeId",component:Ra,canActivate:[]},{path:"master/addPointCharge",component:Ra,canActivate:[]},{path:"master/recycleBinPlantConfiguration",component:rg,canActivate:[]},{path:"transaction/VendorInvoiceTxn",component:Su,canActivate:[]},{path:"transaction/addEditVendorInvoice/:dispatchId",component:_u,canActivate:[]},{path:"transaction/SalesInvoiceTxn",component:Eu,canActivate:[]},{path:"transaction/SalesInvoiceTxn/:dispatchId",component:pg,canActivate:[]},{path:"transaction/paymentManagement",component:y0,canActivate:[]},{path:"transaction/addEditBilti/:biltiId",component:gd,canActivate:[]},{path:"transaction/addEditBilti/:locationId/:biltiId",component:gd,canActivate:[]},{path:"transaction/paymentManagements",component:Iu,canActivate:[]},{path:"transaction/pointMasterMaterial",component:Mu,canActivate:[]},{path:"transaction/freightMasterAccounts",component:Bu,canActivate:[]},{path:"transaction/freightMasterMaterial",component:Au,canActivate:[]},{path:"transaction/approvalAccounts",component:p0,canActivate:[]},{path:"transaction/approvalMaterial",component:g0,canActivate:[]},{path:"transaction/biltiBillProcessView",component:E0,canActivate:[]},{path:"transaction/biltiBillProcess",component:_d,canActivate:[]},{path:"transaction/biltiBillProcess",component:_d,canActivate:[]},{path:"transaction/checkedMaterialsTeam",component:k0,canActivate:[]},{path:"transaction/approvalMaterialHead",component:B0,canActivate:[]},{path:"transaction/changeBiltiStatus",component:W0,canActivate:[]},{path:"transaction/apOutbound",component:Qh,canActivate:[]},{path:"transaction/glAccrual-posting",component:Xh,canActivate:[]},{path:"report/provision",component:ng,canActivate:[]},{path:"report/rejection-bilti-detail",component:Z0,canActivate:[]},{path:"report/error-logging",component:X0,canActivate:[]},{path:"report/debit-note",component:ah,canActivate:[]},{path:"report/provision",component:ih,canActivate:[]},{path:"report/adhoc-report",component:Gh,canActivate:[]},{path:"report/processed-report",component:qh,canActivate:[]}]}],mg=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({imports:[Al.forChild(M4),Al]});let a=r;return a})();var ug=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({imports:[Mo]});let a=r;return a})();var P4=Si(ma());ua();var k4=a=>({"dropdown-multiselect--active":a});function A4(a,r){if(a&1&&(o(0,"span"),s(1),n()),a&2){let l=S();d(),_(l._placeholder)}}function O4(a,r){if(a&1){let l=O();o(0,"span",15)(1,"span",16)(2,"span"),s(3),n(),o(4,"a",17),g("click",function(i){let e=b(l).$implicit,c=S();return y(c.onItemClick(i,e))}),s(5,"x"),n()()()}if(a&2){let l=r.$implicit,t=r.index,i=S();d(),m("hidden",t>i._settings.itemsShowLimit-1),d(2),Ce("",l.text,"\xA0")}}function L4(a,r){if(a&1&&(o(0,"span",18),s(1),n()),a&2){let l=S();d(),Ce("+",l.itemShowRemaining(),"")}}function B4(a,r){if(a&1){let l=O();o(0,"li",19),g("click",function(){b(l);let i=S();return y(i.toggleSelectAll())}),E(1,"input",20),o(2,"div"),s(3),n()()}if(a&2){let l=S();d(),m("checked",l.isAllItemsSelected())("disabled",l.disabled||l.isLimitSelectionReached()),d(2),_(l.isAllItemsSelected()?l._settings.unSelectAllText:l._settings.selectAllText)}}function V4(a,r){if(a&1){let l=O();o(0,"li",21)(1,"input",22),P("ngModelChange",function(i){b(l);let e=S();return M(e.filter.text,i)||(e.filter.text=i),y(i)}),g("ngModelChange",function(i){b(l);let e=S();return y(e.onFilterTextChange(i))}),n()()}if(a&2){let l=S();d(),m("readOnly",l.disabled)("placeholder",l._settings.searchPlaceholderText),F("ngModel",l.filter.text)}}function R4(a,r){if(a&1){let l=O();o(0,"li",23),g("click",function(i){let e=b(l).$implicit,c=S();return y(c.onItemClick(i,e))}),E(1,"input",24),o(2,"div"),s(3),n()()}if(a&2){let l=r.$implicit,t=S();d(),m("checked",t.isSelected(l))("disabled",t.disabled||t.isLimitSelectionReached()&&!t.isSelected(l)||l.isDisabled),ci("aria-label",l.text),d(2),_(l.text)}}function j4(a,r){if(a&1&&(o(0,"li",25)(1,"h5"),s(2),n()()),a&2){let l=S();d(2),_(l._settings.noFilteredDataAvailablePlaceholderText)}}function G4(a,r){if(a&1&&(o(0,"li",26)(1,"h5"),s(2),n()()),a&2){let l=S();d(2),_(l._settings.noDataAvailablePlaceholderText)}}var wn=class{id;text;isDisabled;constructor(r){(typeof r=="string"||typeof r=="number")&&(this.id=this.text=r,this.isDisabled=!1),typeof r=="object"&&(this.id=r.id,this.text=r.text,this.isDisabled=r.isDisabled)}},Od=(()=>{class a{transform(l,t){return!l||!t?l:l.filter(i=>this.applyFilter(i,t))}applyFilter(l,t){return typeof l.text=="string"&&typeof t.text=="string"?!(t.text&&l.text&&l.text.toLowerCase().indexOf(t.text.toLowerCase())===-1):!(t.text&&l.text&&l.text.toString().toLowerCase().indexOf(t.text.toString().toLowerCase())===-1)}static \u0275fac=function(t){return new(t||a)};static \u0275pipe=Mc({name:"multiSelectFilter",type:a,pure:!1})}return a})(),W4=(()=>{class a{_elementRef;constructor(l){this._elementRef=l}clickOutside=new W;onClick(l,t){if(!t)return;this._elementRef.nativeElement.contains(t)||this.clickOutside.emit(l)}static \u0275fac=function(t){return new(t||a)(D(It))};static \u0275dir=_t({type:a,selectors:[["","clickOutside",""]],hostBindings:function(t,i){t&1&&g("click",function(c){return i.onClick(c,c.target)},!1,kc)},outputs:{clickOutside:"clickOutside"}})}return a})(),U4={provide:_r,useExisting:wo(()=>H4),multi:!0},hg=()=>{},H4=(()=>{class a{listFilterPipe;cdr;_settings;_data=[];selectedItems=[];isDropdownOpen=!0;_placeholder="Select";_sourceDataType=null;_sourceDataFields=[];filter=new wn(this.data);defaultSettings={singleSelection:!1,idField:"id",textField:"text",disabledField:"isDisabled",enableCheckAll:!0,selectAllText:"Select All",unSelectAllText:"UnSelect All",allowSearchFilter:!1,limitSelection:-1,clearSearchFilter:!0,maxHeight:197,itemsShowLimit:999999999999,searchPlaceholderText:"Search",noDataAvailablePlaceholderText:"No data available",noFilteredDataAvailablePlaceholderText:"No filtered data available",closeDropDownOnSelection:!1,showSelectedItemsAtTop:!1,defaultOpen:!1,allowRemoteDataSearch:!1};set placeholder(l){l?this._placeholder=l:this._placeholder="Select"}disabled=!1;set settings(l){l?this._settings=Object.assign(this.defaultSettings,l):this._settings=Object.assign(this.defaultSettings)}set data(l){if(!l)this._data=[];else{let t=l[0];this._sourceDataType=typeof t,this._sourceDataFields=this.getFields(t),this._data=l.map(i=>typeof i=="string"||typeof i=="number"?new wn(i):new wn({id:i[this._settings.idField],text:i[this._settings.textField],isDisabled:i[this._settings.disabledField]}))}}onFilterChange=new W;onDropDownClose=new W;onSelect=new W;onDeSelect=new W;onSelectAll=new W;onDeSelectAll=new W;onTouchedCallback=hg;onChangeCallback=hg;onFilterTextChange(l){this.onFilterChange.emit(l)}constructor(l,t){this.listFilterPipe=l,this.cdr=t}onItemClick(l,t){if(this.disabled||t.isDisabled)return!1;let i=this.isSelected(t),e=this._settings.limitSelection===-1||this._settings.limitSelection>0&&this.selectedItems.length<this._settings.limitSelection;i?this.removeSelected(t):e&&this.addSelected(t),this._settings.singleSelection&&this._settings.closeDropDownOnSelection&&this.closeDropdown()}writeValue(l){if(l!=null&&l.length>0)if(this._settings.singleSelection)try{if(l.length>=1){let t=l[0];this.selectedItems=[typeof t=="string"||typeof t=="number"?new wn(t):new wn({id:t[this._settings.idField],text:t[this._settings.textField],isDisabled:t[this._settings.disabledField]})]}}catch{}else{let t=l.map(i=>typeof i=="string"||typeof i=="number"?new wn(i):new wn({id:i[this._settings.idField],text:i[this._settings.textField],isDisabled:i[this._settings.disabledField]}));this._settings.limitSelection>0?this.selectedItems=t.splice(0,this._settings.limitSelection):this.selectedItems=t}else this.selectedItems=[];this.onChangeCallback(l),this.cdr.markForCheck()}registerOnChange(l){this.onChangeCallback=l}registerOnTouched(l){this.onTouchedCallback=l}onTouched(){this.onTouchedCallback()}trackByFn(l,t){return t.id}isSelected(l){let t=!1;return this.selectedItems.forEach(i=>{l.id===i.id&&(t=!0)}),t}isLimitSelectionReached(){return this._settings.limitSelection===this.selectedItems.length}isAllItemsSelected(){let l=this.listFilterPipe.transform(this._data,this.filter),t=l.filter(i=>i.isDisabled).length;return(!this.data||this.data.length===0)&&this._settings.allowRemoteDataSearch?!1:l.length===this.selectedItems.length+t}showButton(){return this._settings.singleSelection?!1:!(this._settings.limitSelection>0)}itemShowRemaining(){return this.selectedItems.length-this._settings.itemsShowLimit}addSelected(l){this._settings.singleSelection?(this.selectedItems=[],this.selectedItems.push(l)):this.selectedItems.push(l),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onSelect.emit(this.emittedValue(l))}removeSelected(l){this.selectedItems.forEach(t=>{l.id===t.id&&this.selectedItems.splice(this.selectedItems.indexOf(t),1)}),this.onChangeCallback(this.emittedValue(this.selectedItems)),this.onDeSelect.emit(this.emittedValue(l))}emittedValue(l){let t=[];if(Array.isArray(l))l.map(i=>{t.push(this.objectify(i))});else if(l)return this.objectify(l);return t}objectify(l){if(this._sourceDataType==="object"){let t={};return t[this._settings.idField]=l.id,t[this._settings.textField]=l.text,this._sourceDataFields.includes(this._settings.disabledField)&&(t[this._settings.disabledField]=l.isDisabled),t}return this._sourceDataType==="number"?Number(l.id):l.text}toggleDropdown(l){l.preventDefault(),!(this.disabled&&this._settings.singleSelection)&&(this._settings.defaultOpen=!this._settings.defaultOpen,this._settings.defaultOpen||this.onDropDownClose.emit())}closeDropdown(){this._settings.defaultOpen=!1,this._settings.clearSearchFilter&&(this.filter.text=""),this.onDropDownClose.emit()}toggleSelectAll(){if(this.disabled)return!1;this.isAllItemsSelected()?(this.selectedItems=[],this.onDeSelectAll.emit(this.emittedValue(this.selectedItems))):(this.selectedItems=this.listFilterPipe.transform(this._data,this.filter).filter(l=>!l.isDisabled).slice(),this.onSelectAll.emit(this.emittedValue(this.selectedItems))),this.onChangeCallback(this.emittedValue(this.selectedItems))}getFields(l){let t=[];if(typeof l!="object")return t;for(let i in l)t.push(i);return t}static \u0275fac=function(t){return new(t||a)(D(Od),D(wi))};static \u0275cmp=k({type:a,selectors:[["ng-multiselect-dropdown"]],hostBindings:function(t,i){t&1&&g("blur",function(){return i.onTouched()})},inputs:{placeholder:"placeholder",disabled:"disabled",settings:"settings",data:"data"},outputs:{onFilterChange:"onFilterChange",onDropDownClose:"onDropDownClose",onSelect:"onSelect",onDeSelect:"onDeSelect",onSelectAll:"onSelectAll",onDeSelectAll:"onDeSelectAll"},features:[Gt([U4])],decls:18,vars:23,consts:[["tabindex","0",1,"multiselect-dropdown",3,"blur","clickOutside"],["tabindex","-1",1,"dropdown-btn",3,"click"],[4,"ngIf"],["class","selected-item-container",4,"ngFor","ngForOf","ngForTrackBy"],[2,"float","right !important","padding-right","4px",3,"ngClass"],["style","padding-right: 15px;",4,"ngIf"],[1,"dropdown-multiselect__caret"],[1,"dropdown-list",3,"hidden"],[1,"item1"],["class","multiselect-item-checkbox","style","border-bottom: 1px solid #ccc;padding:10px",3,"click",4,"ngIf"],["class","filter-textbox",4,"ngIf"],[1,"item2"],["class","multiselect-item-checkbox",3,"click",4,"ngFor","ngForOf"],["class","no-filtered-data",4,"ngIf"],["class","no-data",4,"ngIf"],[1,"selected-item-container"],[1,"selected-item",3,"hidden"],[2,"padding-left","2px","color","white",3,"click"],[2,"padding-right","15px"],[1,"multiselect-item-checkbox",2,"border-bottom","1px solid #ccc","padding","10px",3,"click"],["type","checkbox","aria-label","multiselect-select-all",3,"checked","disabled"],[1,"filter-textbox"],["type","text","aria-label","multiselect-search",3,"ngModelChange","readOnly","placeholder","ngModel"],[1,"multiselect-item-checkbox",3,"click"],["type","checkbox",3,"checked","disabled"],[1,"no-filtered-data"],[1,"no-data"]],template:function(t,i){t&1&&(o(0,"div",0),g("blur",function(){return i.onTouched()})("clickOutside",function(){return i.closeDropdown()}),o(1,"div")(2,"span",1),g("click",function(c){return i.toggleDropdown(c)}),v(3,A4,2,1,"span",2)(4,O4,6,2,"span",3),o(5,"span",4),v(6,L4,2,1,"span",5),E(7,"span",6),n()()(),o(8,"div",7)(9,"ul",8),v(10,B4,4,3,"li",9)(11,V4,2,3,"li",10),n(),o(12,"ul",11),v(13,R4,4,4,"li",12),K(14,"multiSelectFilter"),v(15,j4,3,1,"li",13),K(16,"multiSelectFilter"),v(17,G4,3,1,"li",14),n()()()),t&2&&(d(),pt("disabled",i.disabled),d(2),m("ngIf",i.selectedItems.length==0),d(),m("ngForOf",i.selectedItems)("ngForTrackBy",i.trackByFn),d(),m("ngClass",ge(21,k4,i._settings.defaultOpen)),d(),m("ngIf",i.itemShowRemaining()>0),d(2),m("hidden",!i._settings.defaultOpen),d(2),m("ngIf",(i._data.length>0||i._settings.allowRemoteDataSearch)&&!i._settings.singleSelection&&i._settings.enableCheckAll&&i._settings.limitSelection===-1),d(),m("ngIf",(i._data.length>0||i._settings.allowRemoteDataSearch)&&i._settings.allowSearchFilter),d(),la("max-height",i._settings.maxHeight+"px"),d(),m("ngForOf",ee(14,15,i._data,i.filter)),d(2),m("ngIf",i._data.length!=0&&ee(16,18,i._data,i.filter).length==0&&!i._settings.allowRemoteDataSearch),d(2),m("ngIf",i._data.length==0&&!i._settings.allowRemoteDataSearch))},dependencies:[ae,$,z,Ae,U,Y,W4,Od],styles:['.multiselect-dropdown[_ngcontent-%COMP%]{position:relative;width:100%;font-size:inherit;font-family:inherit}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]{display:inline-block;border:1px solid #adadad;width:100%;padding:6px 12px;margin-bottom:0;font-weight:400;line-height:1.52857143;text-align:left;vertical-align:middle;cursor:pointer;background-image:none;border-radius:4px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]{display:flex;float:left}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]{border:1px solid #337ab7;margin-right:4px;background:#337ab7;padding:0 5px;color:#fff;border-radius:2px;float:left;max-width:100px}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item-container[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .selected-item[_ngcontent-%COMP%]:hover{box-shadow:1px 1px #959595}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{line-height:16px;display:block;position:absolute;box-sizing:border-box;width:40px;height:38px;right:1px;top:0;padding:4px 8px;margin:0;text-decoration:none;text-align:center;cursor:pointer;transition:transform .2s ease}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]:before{position:relative;right:0;top:65%;color:#999;margin-top:4px;border-style:solid;border-width:8px 8px 0 8px;border-color:#999999 transparent;content:""}.multiselect-dropdown[_ngcontent-%COMP%]   .dropdown-btn[_ngcontent-%COMP%]   .dropdown-multiselect--active[_ngcontent-%COMP%]   .dropdown-multiselect__caret[_ngcontent-%COMP%]{transform:rotate(180deg)}.multiselect-dropdown[_ngcontent-%COMP%]   .disabled[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{background-color:#eceeef}.dropdown-list[_ngcontent-%COMP%]{position:absolute;padding-top:6px;width:100%;z-index:9999;border:1px solid #ccc;border-radius:3px;background:#fff;margin-top:10px;box-shadow:0 1px 5px #959595}.dropdown-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding:0;list-style:none;overflow:auto;margin:0}.dropdown-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:6px 10px;cursor:pointer;text-align:left}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]{border-bottom:1px solid #ccc;position:relative;padding:10px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:0px;width:100%;padding:0 0 0 26px}.dropdown-list[_ngcontent-%COMP%]   .filter-textbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none}.multiselect-item-checkbox[_ngcontent-%COMP%]:hover{background-color:#e4e3e3}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:focus + div[_ngcontent-%COMP%]:before, .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:hover + div[_ngcontent-%COMP%]:before{border-color:#337ab7;background-color:#f2f2f2}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:active + div[_ngcontent-%COMP%]:before{transition-duration:0s}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]{position:relative;padding-left:2em;vertical-align:middle;-webkit-user-select:none;user-select:none;cursor:pointer;margin:0;color:#000}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:before{box-sizing:content-box;content:"";color:#337ab7;position:absolute;top:50%;left:0;width:14px;height:14px;margin-top:-9px;border:2px solid #337ab7;text-align:center;transition:all .4s ease}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{box-sizing:content-box;content:"";background-color:#337ab7;position:absolute;top:50%;left:4px;width:10px;height:10px;margin-top:-5px;transform:scale(0);transform-origin:50%;transition:transform .2s ease-out}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled + div[_ngcontent-%COMP%]:before{border-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:focus + div[_ngcontent-%COMP%]:before   .multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:hover + div[_ngcontent-%COMP%]:before{background-color:inherit}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:disabled:checked + div[_ngcontent-%COMP%]:before{background-color:#ccc}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%] + div[_ngcontent-%COMP%]:after{background-color:transparent;top:50%;left:4px;width:8px;height:3px;margin-top:-4px;border-style:solid;border-color:#fff;border-width:0 0 3px 3px;border-image:none;transform:rotate(-45deg) scale(0)}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{content:"";transform:rotate(-45deg) scale(1);transition:transform .2s ease-out}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:before{animation:_ngcontent-%COMP%_borderscale .2s ease-in;background:#337ab7}.multiselect-item-checkbox[_ngcontent-%COMP%]   input[type=checkbox][_ngcontent-%COMP%]:checked + div[_ngcontent-%COMP%]:after{transform:rotate(-45deg) scale(1)}@keyframes _ngcontent-%COMP%_borderscale{50%{box-shadow:0 0 0 2px #337ab7}}'],changeDetection:0})}return a})(),gg=(()=>{class a{static forRoot(){return{ngModule:a}}static \u0275fac=function(t){return new(t||a)};static \u0275mod=Rt({type:a});static \u0275inj=jt({providers:[Od],imports:[Mo,_a]})}return a})();var fg=(()=>{let r=class r extends Go{format(t){return t?`${this.formatDate(t.day)}-${this.formatDate(t.month)}-${t.year}`:""}parse(t){if(!t)return null;let i=t.trim().split("-");return i.length!==3?null:{day:+i[0],month:+i[1],year:+i[2]}}formatDate(t){return t<10?"0"+t:""+t}};r.\u0275fac=(()=>{let t;return function(e){return(t||(t=kn(r)))(e||r)}})(),r.\u0275prov=_e({token:r,factory:r.\u0275fac});let a=r;return a})();var uK=(()=>{let r=class r{};r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=Rt({type:r}),r.\u0275inj=jt({providers:[{provide:Go,useClass:fg}],imports:[ug,mg,Mo,Bm,am,_a,rm,em,Lm,Ma,Am,Vh,Ne,gg]});let a=r;return a})();export{uK as ScreensModule};
